---
id: 69247cd74caa633ccd7e3351
title: Revisão dos Módulos Core do Node.js
challengeType: 31
dashedName: review-node-js-core-modules
---

# --description--

## Introdução aos Módulos Core do Node.js

- **Módulos Core do Node.js**: Módulos embutidos que vêm pré-instalados com o Node.js, fornecendo funcionalidades essenciais para operações de arquivos, criptografia, interações com o sistema operacional e mais.
- **Módulos Padrão**: Não é necessário instalação separada; disponível enquanto o Node.js estiver instalado.
- **Sintaxe de Importação**: Use `require()` para importar módulos principais para sua aplicação.

```javascript
const fs = require("fs");
const crypto = require("crypto");
const os = require("os");
```

## Módulo File System (fs)

- **Propósito**: Fornece métodos para trabalhar com arquivos e pastas, incluindo operações de abrir, fechar, ler, escrever e excluir.
- **Importar**: `const fs = require("fs");`
- **Flexibilidade**: Métodos disponíveis em três formas: callbacks, promises e síncrono.

### Padrões de Uso de Método

- **Assíncrono com Callbacks**: comportamento padrão, não bloqueante.

```javascript
fs.writeFile("filePath", "content", "utf8", (err) => {
  if (err) throw err;
  console.log("File written to!");
});
```

- **Baseado em Promises**: Preferido para aplicações modernas, usa `async/await`.

```javascript
const fs = require("fs/promises");

async function writeToFile() {
  try {
    await fs.writeFile("article.md", "## Node fs Module");
    console.log("File written to!");
  } catch (err) {
    console.error(err);
  }
}
```

- **Síncrono**: Operação bloqueante, adequada para scripts simples.

```javascript
try {
  fs.writeFileSync("article.md", "## Node fs Module", "utf8");
  console.log("File written to!");
} catch (err) {
  console.error(err);
}
```

### Operações Básicas de Arquivo

- **Método `writeFile()`**: Cria ou sobrescreve um arquivo com o conteúdo especificado.

```javascript
await fs.writeFile("article.md", "## Node fs Module: The Complete Guide");
```

- **Método `appendFile()`**: Adiciona conteúdo ao final de um arquivo existente.

```javascript
await fs.appendFile("article.md", "\n\nIn this article, you will learn...");
```

- **Método `readFile()`**: Lê o conteúdo de um arquivo.

```javascript
const content = await fs.readFile("article.md", "utf8");
console.log("File content:", content);
```

- **Método `unlink()`**: Exclui um arquivo do sistema de arquivos.

```javascript
await fs.unlink("article.md");
console.log("File deleted successfully");
```

### Codificação de Caracteres

- **Codificação UTF-8**: Especifique `"utf8"` para ler arquivos como strings de texto.
- **Formato do Buffer**: Sem especificação de codificação, os arquivos são lidos como objetos de buffer binário.

```javascript
// Returns string
const textContent = await fs.readFile("file.txt", "utf8");

// Returns Buffer
const bufferContent = await fs.readFile("file.txt");
```

## Módulo Buffer

- **Propósito**: Manipula dados binários diretamente na memória para arquivos, imagens e fluxos de rede.
- **Importação**: `const { Buffer } = require("buffer");`
- **Casos de Uso**: Entrada e saída de arquivos, streams TCP, processamento de imagens e manipulação de dados binários.

### Criação de Buffer

- **Método `Buffer.from()`**: Cria buffer a partir de strings, arrays ou outros dados.

```javascript
// From string
const myStrBuffer = Buffer.from("freeCodeCamp");
console.log(myStrBuffer); // <Buffer 66 72 65 65 43 6f 64 65 43 61 6d 70>

// From array of numbers
const myNumBuffer = Buffer.from([70, 82, 69, 69, 67, 79, 68, 69, 67, 65, 77, 80]);
```

- **Método `Buffer.alloc()`**: Cria um buffer de tamanho especificado preenchido com zeros.

```javascript
const someBuffer = Buffer.alloc(10);
console.log(someBuffer); // <Buffer 00 00 00 00 00 00 00 00 00 00>
```

### Operações de Buffer

- **Acesso semelhante a array**: Acesse elementos individuais do buffer usando notação de índice.

```javascript
console.log(myStrBuffer[0]); // 102 (byte value for 'f')
```

- **Método `toString()`**: Converte buffer em string legível.

```javascript
console.log(myStrBuffer.toString()); // "freeCodeCamp"
```

- **Método `Buffer.write()`**: Escreve dados em um buffer alocado.

```javascript
someBuffer.write("Hello fCC");
console.log(someBuffer.toString()); // "Hello fCC"
```

- **Método `Buffer.byteLength()`**: Retorna o número de bytes necessários para armazenar uma string.

```javascript
console.log(Buffer.byteLength("Hello freeCodeCamp")); // 18
```

### Métodos Adicionais de Buffer

- **`Buffer.isBuffer()`**: Verifica se um objeto é um buffer.
- **`Buffer.compare()`**: Compara dois buffers e retorna a ordem de classificação.
- **`Buffer.concat()`**: Junta múltiplos buffers em um só.

## Módulo Cripto

- **Propósito**: Fornece funcionalidade criptográfica, incluindo hashing, criptografia, descriptografia e assinaturas digitais.
- **Importação**: `const crypto = require("crypto");`
- **Nota de Segurança**: Use bibliotecas bem testadas como `bcrypt` ou `jsonwebtoken` para autenticação em produção.

### Métodos de Hashing

- **Método `createHash()`**: Cria um hash unidirecional usando algoritmos como SHA256, SHA512 ou MD5.

```javascript
const hashedPassword = crypto
  .createHash("sha256")
  .update("myPassword123")
  .digest("hex");

console.log("createHash result:", hashedPassword);
```

- **Método `createHmac()`**: Cria um hash com uma chave secreta para autenticação e integridade dos dados.

```javascript
const hashedMessage = crypto
  .createHmac("sha256", "secret-key")
  .update("Hello World")
  .digest("hex");
```

### Criptografia e Descriptografia

- **Métodos `createCipheriv()` e `createDecipheriv()`**: Criptografe e descriptografe dados usando algoritmos, chaves e vetores de inicialização.

```javascript
const key = Buffer.from("12345678901234567890123456789012"); // 32 bytes for AES-256
const iv = Buffer.from("1234567890123456"); // 16 bytes for AES

// Encryption
const cipher = crypto.createCipheriv("aes-256-cbc", key, iv);
let encrypted = cipher.update("Hello campers!", "utf8", "hex");
encrypted += cipher.final("hex");

// Decryption
const decipher = crypto.createDecipheriv("aes-256-cbc", key, iv);
let decrypted = decipher.update(encrypted, "hex", "utf8");
decrypted += decipher.final("utf8");
```

### Geração de Valor Aleatório

- **Método `randomBytes()`**: Gera bytes aleatórios criptograficamente seguros.

```javascript
console.log("Random Bytes:", crypto.randomBytes(16).toString("hex"));
// Output: a6154ef5a296fa176ad0f332bd94d712
```

- **Método `randomInt()`**: Gera inteiros aleatórios seguros dentro do intervalo especificado.

```javascript
console.log("Random Int:", crypto.randomInt(0, 100)); // Random number 0-99
```

### Gerenciamento de Chaves

- **Método `createSecretKey()`**: Cria objetos de chave criptográfica a partir de bytes brutos.

```javascript
const secret = crypto.createSecretKey(crypto.randomBytes(32));
console.log(secret.export().toString('hex'));
```

### Assinaturas Digitais

- **Métodos `sign()` e `verify()`**: Crie e valide assinaturas digitais usando pares de chaves privadas/públicas.
- **Caso de Uso**: Comprova a autenticidade e integridade dos dados.

### Métodos Cripto Adicionais

- **`createPublicKey()` e `createPrivateKey()`**: Trabalhe com chaves geradas externamente.
- **`createDiffieHellman()`**: Permite a geração segura de segredo compartilhado.
- **`Certificate()`**: Gerencia operações de certificado HTTPS.

## Módulo OS

- **Propósito**: Fornece utilitários relacionados ao sistema operacional para informações do sistema e compatibilidade multiplataforma.
- **Importação**: `const os = require("os");`
- **Casos de Uso**: monitoramento do sistema, scripts multiplataforma e informações de hardware.

### Métodos de Informação do Sistema

- **Método `platform()`**: Retorna a plataforma do sistema operacional.

```javascript
console.log(os.platform()); // 'darwin', 'win32', 'linux', etc.

// Cross-platform usage
if (os.platform() === 'win32') {
  // Windows-specific code
} else {
  // Unix-like systems
}
```

- **Método `arch()`**: Retorna a arquitetura da CPU.

```javascript
console.log(os.arch()); // 'arm64', 'x64', 'arm', 'ia32', etc.
```

- **Método `type()`**: Retorna o nome oficial do sistema operacional.

```javascript
console.log(os.type()); // 'Darwin', 'Linux', 'Windows_NT'
```

### Informações da Versão

- **Método `release()`**: Exibe a versão do kernel do SO.

```javascript
console.log(os.release()); // '25.0.0'
```

- **Método `version()`**: Retorna informações detalhadas da versão do SO.

```javascript
console.log(os.version());
// Darwin Kernel Version 25.0.0: Wed Sep 17 21:41:39 PDT 2025
```

### Informações de Hardware

- **Método `cpus()`**: Retorna um array com informações dos núcleos da CPU.

```javascript
console.log(os.cpus()); // Array of CPU core objects with model, speed, times
```

- **Método `uptime()`**: Retorna o tempo de atividade do sistema em segundos.

```javascript
console.log(os.uptime()); // 23047 (seconds since system boot)
```

### Informações de Memória

- **Método `totalmem()`**: Retorna a memória total do sistema em bytes.
- **Método `freemem()`**: Retorna a memória disponível do sistema em bytes.

## Melhores Práticas

### Considerações de Desempenho

- **Evite Métodos Síncronos**: Use métodos assíncronos em aplicações de produção para evitar bloqueios.
- **Prefira Promises**: Use `async/await` com API baseada em promises para um código mais limpo e fácil de manter.
- **Tratamento de Erros**: Sempre implemente um tratamento adequado de erros com blocos try-catch ou callbacks de erro.

### Diretrizes de Segurança

- **Módulo Crypto**: Use bibliotecas estabelecidas para autenticação em vez de criar soluções criptográficas personalizadas.
- **Validação de Entrada**: Valide caminhos de arquivos e entrada do usuário para prevenir vulnerabilidades de segurança.
- **Gerenciamento de Chaves**: Armazene as chaves criptográficas com segurança, nunca as codifique diretamente no código-fonte.

### Desenvolvimento Multiplataforma

- **Uso do Módulo OS**: Use os métodos do módulo OS para compatibilidade entre plataformas.
- **Manipulação de Caminhos**: Use o módulo `path` para operações de caminho de arquivo multiplataforma.
- **Variáveis de Ambiente**: Verifique as variáveis de ambiente e configurações específicas da plataforma.

## Casos de Uso Comuns

### Operações de Arquivo

- Gerenciamento de arquivos de configuração
- Criação e manutenção de arquivos de log
- Funcionalidade de exportação/importação de dados
- Processamento de template

### Segurança de Dados

- Hashing de senha para autenticação de usuário
- Criptografia de dados para informações sensíveis
- Geração aleatória de token para sessões
- Verificação de assinatura digital

### Integração de Sistema

- Implantação de aplicação multiplataforma
- Monitoramento de recursos do sistema
- Verificações de compatibilidade de hardware
- Otimização de desempenho baseada nas capacidades do sistema

# --assignment--

Revise os tópicos e conceitos dos Módulos Core do Node.js.
