---
id: 673403ca2bb16658309e3632
title: this 關鍵字如何運作？
challengeType: 19
dashedName: how-does-the-this-keyword-work
---

# --interactive--

你學到類別就像藍圖，可以用來創建物件。

這些藍圖需要一種通用的方式來指涉在程式碼中被創建、存取或修改的特定物件。這正是 `this` 關鍵字的用途。它指涉程式碼應該執行的背景關係。若你在方法中使用它，`this` 的值將會是指向該方法相關物件的引用。透過這種方式，你可以在類別中存取該物件的屬性和方法，並在不同物件上重複使用該方法。

例如，這裡我們有一個 `Dessert` 類別。這次，我們正在定義一個 `hasPeanuts` 屬性。

```js
class Dessert {
  constructor(hasPeanuts) {
    this.hasPeanuts = hasPeanuts;
  }
}
```

請注意，我們在建構式中使用了 `this` 關鍵字。請記住，當類別的新物件被建立時，建構式會自動被呼叫。

`this` 關鍵字告訴程式 `hasPeanuts` 應該是目前正在創建的物件的屬性。

指派述語的右側正在將 `hasPeanuts` 參數的值指定給新物件的 `hasPeanuts` 屬性。

```js
this.hasPeanuts = hasPeanuts;
```

那是在建構式的背景關係中，但你也可以在其他方法中使用 `this` 關鍵字。

這是我們的 `Dessert` 類別，做了一些更改。現在我們有兩個屬性：`name` 和 `price`。

```js
class Dessert {
  constructor(name, price) {
    this.name = name;
    this.price = price;
  }

  showPrice() {
    console.log(`The price of ${this.name} is $${this.price}.`);
  }
}
```

我們也有一個新的 `showPrice` 方法。在這個方法中，我們將甜點物件的名稱和價格以描述性訊息列印到主控台。

請注意我們如何使用 `this` 關鍵字來存取 `showPrice` 方法中物件的屬性。

在這個方法的背景關係中，`this` 關鍵字會有什麼值？它會指向該方法被呼叫的物件。在這個例子中，我們正在建立一個名稱為 `"Brownie"`、價格為 `$5.99` 的新 Dessert 實體：

```js
const brownie = new Dessert("Brownie", 5.99);
```

如果我們對這個物件呼叫 `.showPrice()` 方法：

```js
brownie.showPrice();
```

以下是完整範例：

:::interactive_editor

```js
class Dessert {
  constructor(name, price) {
    this.name = name;
    this.price = price;
  }

  showPrice() {
    console.log(`The price of ${this.name} is $${this.price}.`);
  }
}

const brownie = new Dessert("Brownie", 5.99);
brownie.showPrice();
console.log(brownie);
```

:::

目前物件（`brownie`）的名稱和價格已在字串中被取代。

這全都要歸功於 `this` 關鍵字，它為你提供了一種在類別中指涉目前物件的一般方式。這讓你能夠在不同物件上重複使用該方法。

這是在物件方法的背景關係中，但 `this` 關鍵字在獨立函式和箭頭函式中也會有值。

在獨立函式（非嚴格模式）中，其值通常取用全域物件，或在嚴格模式中為 `undefined`。

`this` 關鍵字的值在箭頭函式中有些不同。箭頭函式會從它們被定義的外層範圍繼承 `this` 的值。它們不會創建自己的 `this` 綁定。這表示 `this` 的值取決於箭頭函式被定義的上下文，而不是箭頭函式被呼叫的位置或方式。這使得箭頭函式對於回呼或保持上下文非常有用。

但是，因為這個原因，`this` 的值在物件方法中不會指向目前的物件，所以在使用箭頭函式時你應該記住這一點。

同樣適用於在其他函式（程式）中定義的箭頭函式（arrow functions）。它們會從父範圍繼承 `this` 的值。

`this` 關鍵字是用於存取和操作物件的強大工具。了解它的運作方式對於精通 JavaScript 的物件導向程式設計至關重要。

# --questions--

## --text--

`this` 關鍵字在 JavaScript 中的主要用途是什麼？

## --answers--

定義一個新的物件。

### --feedback--

思考 `this` 在方法中如何使用。

---

存取目前物件的屬性和方法。

---

創建函式（程式）。

### --feedback--

思考 `this` 在方法中如何使用。

---

對其他物件進行方法呼叫。

### --feedback--

思考 `this` 在方法中如何使用。

## --video-solution--

2

## --text--

以下關於 JavaScript 方法中 `this` 的敘述，哪一項是正確的？

## --answers--

`this` 總是取用全域物件。

### --feedback--

思考 `this` 的值如何根據背景關係改變。

---

`this` 總是綁定到該函式所定義的物件。

### --feedback--

思考 `this` 的值如何根據背景關係改變。

---

`this` 可以依據使用的背景關係指向不同的物件。

---

`this` 僅用於函式式程式設計。

### --feedback--

思考 `this` 的值如何根據背景關係改變。

## --video-solution--

3

## --text--

在以下哪種情況下你通常會使用 `this` 關鍵字？

## --answers--

定義函式（程式）時。

### --feedback--

思考 `this` 的常見使用情境。

---

當存取物件的屬性和方法時。

---

在呼叫函式時。

### --feedback--

思考 `this` 的常見使用情境。

---

建立新物件時。

### --feedback--

思考 `this` 的常見使用情境。

## --video-solution--

2
