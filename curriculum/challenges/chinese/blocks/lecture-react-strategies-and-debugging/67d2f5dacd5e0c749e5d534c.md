---
id: 67d2f5dacd5e0c749e5d534c
title: 你如何使用 React DevTools 调试你的 React 组件？
challengeType: 19
dashedName: how-can-you-debug-your-react-components-using-react-devtools
---

# --description--

浏览器具有内置的开发者工具，你可以用来调试 `HTML`、`CSS` 和 `JavaScript`。

但是，它们不适合查找和修复 React 应用中的错误。因此，React 团队开发了一个名为 `React Developer Tools`（又名 React DevTools）的工具，以便你可以检查、调试和评测 React 应用。

React DevTools 可作为 Chrome、Edge 和 Firefox 的浏览器扩展（程序、功能）使用。如果你使用的是 Chrome 或 Edge，请前往 Chrome 网上应用店，查找 `"React Developer Tools"`，并将其添加到你的浏览器。

如果你使用 Firefox，请前往 Firefox 附加组件页面，查找该工具，并将其添加到你的浏览器。

如果你使用 Safari，可以通过运行 `npm install -g react-devtools` 或 `yarn global add react-devtools` 从 npm 安装 React DevTools。

安装并启用 React DevTools 后，如果你在浏览器中打开一个 React 应用，然后打开浏览器的开发者工具，你应该会看到两个额外的标签（页）：`Components` 和 `Profiler`。

组件标签（页）以树状视图格式显示每个组件。通过它，你可以： 

- 查看应用的组件层次结构。
- 实时查看和修改 props、states 和 context 值。
- 查看每个选定组件的源代码。
- 将组件数据记录到控制台。
- 检查组件的 DOM 元素。

另一方面，`Profiler` 标签（页）帮助你记录和分析组件性能，以便你识别不必要的重新渲染、查看提交持续时间以及可以优化的内容。

这是一个简单的应用程序，向你展示如何检查组件及其拥有的任何 props 和 state。这与我们在之前关于 prop drilling 的课程中使用的代码类似：

```jsx
import { useState } from "react";

export default function App() {
  const greeting = "Hello, Prop Drilling!";
  const response = "I'm not here to play!";

  return <Parent greeting={greeting} response={response} />;
}

const Parent = ({ greeting, response }) => {
  return <Child greeting={greeting} response={response} />;
};

const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} response={response} />;
};

const Grandchild = ({ greeting, response }) => {
  const [count, setCount] = useState(0);

  return (
    <>
      <h1>{greeting}</h1>
      <h2>{response}</h2>

      <button onClick={() => setCount(count + 1)}>Increase Count</button>
      <h2>Count: {count}</h2>
      <button onClick={() => setCount(count - 1)}>Decrease Count</button>
    </>
  );
};
```

如果你查看 React DevTools 中的组件标签（页），你可以看到组件的树视图。`App` 组件位于顶部，后面依次是 `Parent`、`Child` 和 `Grandchild` 组件。

如果你选择这些组件中的任何一个，你可以看到它们的 props 和 state。如果你选择 `Parent` 组件，你可以看到 `greeting` 和 `response` props，分别是 `Hello, Prop Drilling!` 和 `I'm not here to play!`。

你可以实时查看 props 并更新状态，如有必要还可以更改它们。例如，你可以选择 `Grandchild` 组件并将 `greeting` prop 从 `Hello, Prop Drilling!` 更改为 `Hello, Welcome to Prop Drilling!`，并立即在页面上看到变化。

要在组件中将数据记录到控制台，请检查匹配的 DOM 元素并查看组件的源代码。右上角的图标可以让你执行这些操作。如果你选择 `Grandchild` 组件并点击 `Log the component data to the console` 按钮，它将在控制台记录 props、state、hooks、nodes 及其他数据。

你可能在 React 中遇到的一个常见错误称为 props mismatch。

例如，假设对于 `Child` 组件，你错误地传入了 `reply` 作为 prop，而不是 `response`：

```jsx
const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} reply={response} />;
};
```

请记住 `Grandchild` 期望一个 `response` 属性。因为该组件接收了不同的属性，它无法在页面上显示该文本，只会向 DOM 添加一个空的 `h2`。相反，你只会看到带有文本 `Hello, Prop Drilling!` 的 `h1` 元素，以及页面上已有的其他按钮和文本。空的 `h2` 元素仍然存在，但因为它是空的，除非检查 DOM，否则你看不到它。

为了解决这个问题，你可以检查从 `Parent` 组件到 `Child` 的 prop 传递过程，并直接编辑 prop 名称。如果你进入组件标签（页），选择 `Child` 组件，并将 `reply` prop 改为 `response`，你会看到页面上的 `h2` 元素显示文本 `I'm not here to play!`。

# --questions--

## --text--

你如何在 Chrome 或 Edge 上安装 React DevTools？

## --answers--

从官方 React 网站下载它。

### --feedback--

你可以在与其他浏览器扩展名相同的位置找到它。

---

通过 `npm` 在你的项目中安装它。

### --feedback--

你可以在与其他浏览器扩展名相同的位置找到它。

---

将它添加为浏览器扩展（程序、功能）。

---

它预装了 React。

### --feedback--

你可以在与其他浏览器扩展名相同的位置找到它。

## --video-solution--

3

## --text--

安装 React DevTools 后，浏览器开发者工具中用于调试 React 的哪两个额外标签（页）会出现？

## --answers--

组件和评测器。

---

网络和性能。

### --feedback--

一个标签（页）帮助检查组件树，另一个分析性能。

---

元素和控制台。

### --feedback--

一个标签（页）帮助检查组件树，另一个分析性能。

---

源和内存。

### --feedback--

一个标签（页）帮助检查组件树，另一个分析性能。

## --video-solution--

1

## --text--

React DevTools 中的 `Profiler` 标签（页）帮助你分析什么？

## --answers--

React 应用中的网络请求。

### --feedback--

它有助于跟踪渲染时间并优化缓慢的组件。

---

JavaScript 内存泄漏。

### --feedback--

它有助于跟踪渲染时间并优化缓慢的组件。

---

CSS 样式问题。

### --feedback--

它有助于跟踪渲染时间并优化缓慢的组件。

---

组件性能和重新渲染。
 
## --video-solution--

4
