---
id: 5900f54a1000cf542c51005c
title: '問題 477：數字序列遊戲'
challengeType: 1
forumTopicId: 302154
dashedName: problem-477-number-sequence-game
---

# --description--

數字序列遊戲從一行上寫著的長度為 N 的序列 $S$ 開始。

兩位玩家輪流進行回合。在他的回合中，玩家必須選擇並移除序列中剩餘的第一個或最後一個數字。

玩家分數是他所取得的所有數字的總和。每個玩家都嘗試最大化自己的總和。

如果 $N = 4$ 且 $S = \\{1, 2, 10, 3\\}$，則每個玩家會如下最大化他的分數：

- 玩家 1：移除第一個數字（1）
- 玩家 2：從剩餘序列中移除最後一個數字（3）
- 玩家 1：從剩餘序列中移除最後一個數字（10）
- 玩家 2：移除剩餘的數字（2）

玩家 1 分數是 $1 + 10 = 11$。

令 $F(N)$ 為當雙方玩家對序列 $S = \\{s_1, s_2, \ldots, s_N\\}$ 採取最佳策略時，玩家 1 的分數，定義如下：

- $s_1 = 0$
- $s_{i + 1} = ({s_i}^2 + 45)$ 取模 $1\,000\,000\,007$

該數列以 $S = \{0, 45, 2\,070, 4\,284\,945, 753\,524\,550, 478\,107\,844, 894\,218\,625, \ldots\}$ 開始。

你得到 $F(2) = 45$、$F(4) = 4\,284\,990$、$F(100) = 26\,365\,463\,243$、$F(104) = 2\,495\,838\,522\,951$。

尋找 $F({10}^8)$。

# --hints--

`numberSequenceGame()` 應該傳回 `25044905874565164`。

```js
assert.strictEqual(numberSequenceGame(), 25044905874565164);
```

# --seed--

## --seed-contents--

```js
function numberSequenceGame() {

  return true;
}

numberSequenceGame();
```

# --solutions--

```js
// solution required
```
