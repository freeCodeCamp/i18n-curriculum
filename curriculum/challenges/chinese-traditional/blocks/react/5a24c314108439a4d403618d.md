---
id: 5a24c314108439a4d403618d
title: 使用 renderToString 在伺端呈現 React
challengeType: 6
forumTopicId: 301407
dashedName: render-react-on-the-server-with-rendertostring
---

# --description--

到目前為止，你一直在客戶端呈現 React 組件。通常，這是你會一直做的事情。然而，有些使用情境下，在伺服端呈現 React 組件是合理的。由於 React 是一個 JavaScript 視圖函式庫，且你可以使用 Node 在伺服端執行 JavaScript，因此這是可行的。事實上，React 提供了一個 `renderToString()` 方法，你可以用來達成這個目的。

在真實世界的應用程式中，伺端算繪可能被使用有兩個主要原因。首先，如果不這麼做，你的 React 應用程式在初次載入瀏覽器時會包含一個相對空白的 HTML 檔案和一個大型的 JavaScript 捆綁檔。這對於試圖索引你頁面內容以便人們找到你的搜尋引擎來說，可能並不理想。如果你在伺端算繪初始的 HTML 標記並將其傳送到客端，初始頁面載入就包含了所有頁面的標記，搜尋引擎可以對其進行爬蟲抓取。其次，這會創造更快的初始頁面載入體驗，因為算繪後的 HTML 比整個應用程式的 JavaScript 程式碼還要小。React 在初始載入後仍然能夠識別並管理你的應用程式。

# --instructions--

`renderToString()` 方法是在 `ReactDOMServer` 上提供的，而 `ReactDOMServer` 在此處作為一個全域物件可用。該方法接受一個引數，該引數是一個 React 元素。使用此方法將 `App` 呈現為字串。

# --hints--

`App` 組件應該使用 `ReactDOMServer.renderToString` 呈現為字串。

```js
  assert(
    code.replace(/ /g, '')
      .includes('ReactDOMServer.renderToString(<App/>)') &&
      Enzyme.mount(React.createElement(App)).children().name() === 'div'
  );
```

# --seed--

## --before-user-code--

```jsx
var ReactDOMServer = { renderToString(x) { return null; } };
```

## --after-user-code--

```jsx
ReactDOM.render(<App />, document.getElementById('root'))
```

## --seed-contents--

```jsx
class App extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <div/>
  }
};

// Change code below this line
```

# --solutions--

```jsx
class App extends React.Component {
  constructor(props) {
    super(props);
  }
  render() {
    return <div/>
  }
};

// Change code below this line
ReactDOMServer.renderToString(<App/>);
```
