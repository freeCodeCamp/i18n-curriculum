---
id: 5e46f7f8ac417301a38fb92a
title: 醫療資料視覺化工具
challengeType: 10
forumTopicId: 462368
dashedName: medical-data-visualizer
---

# --description--

你將會<a href="https://app.ona.com/?autostart=true#https://github.com/freeCodeCamp/boilerplate-medical-data-visualizer/" target="_blank" rel="noopener noreferrer nofollow">使用我們的 Ona 起始程式碼來進行這個專案</a>。

我們仍在開發 Python 課程的互動教學零件。目前，這裡有一些 freeCodeCamp.org YouTube 頻道上的影片，將教你完成這個專案所需知道的一切：

- <a href="https://www.freecodecamp.org/news/python-for-everybody/" target="_blank" rel="noopener noreferrer nofollow">Python for Everybody 影片課程</a>（14 小時）

- <a href="https://www.freecodecamp.org/news/how-to-analyze-data-with-python-pandas/" target="_blank" rel="noopener noreferrer nofollow">如何使用 Python Pandas 分析資料</a>（10 小時）

# --instructions--

在這個專案中，你將使用 `matplotlib`、`seaborn` 和 `pandas` 來視覺化並計算醫療檢查資料。資料集的數值是在醫療檢查期間收集的。

## 資料描述

資料集中的列表述病患，行表述像是身體測量、各種血液檢查結果和生活習慣等資訊。你將使用該資料集來探索心臟疾病、身體測量、血液標記和生活習慣之間的關係。

檔案名稱：medical_examination.csv

| Feature | Variable Type | Variable      | Value Type |
|:-------:|:------------:|:-------------:|:----------:|
| Age | Objective Feature | `age` | int (days) |
| Height | Objective Feature | `height` | int (cm) |
| Weight | Objective Feature | `weight` | float (kg) |
| Gender | Objective Feature | `gender` | categorical code |
| Systolic blood pressure | Examination Feature | `ap_hi` | int |
| Diastolic blood pressure | Examination Feature | `ap_lo` | int |
| Cholesterol | Examination Feature | `cholesterol` | 1: normal, 2: above normal, 3: well above normal |
| Glucose | Examination Feature | `gluc` | 1: normal, 2: above normal, 3: well above normal |
| Smoking | Subjective Feature | `smoke` | binary |
| Alcohol intake | Subjective Feature | `alco` | binary |
| Physical activity | Subjective Feature | `active` | binary |
| Presence or absence of cardiovascular disease | Target Variable | `cardio` | binary |


## 說明

創建一個類似 `examples/Figure_1.png` 的圖表，在不同面板中顯示 `cardio=1` 和 `cardio=0` 患者的 `cholesterol`、`gluc`、`alco`、`active` 和 `smoke` 變數的良好與不良結果計數。

在 `medical_data_visualizer.py` 檔案中的每個數字旁，為你的程式碼添加下方相關指令編號的程式碼。

1. 從 `medical_examination.csv` 匯入資料並將其指定給 `df` 變數。
2. 為你的資料添加一個 `overweight` 行。要判斷一個人是否過重，首先計算他們的 BMI，方法是用公斤為單位的體重除以以公尺為單位的身高平方。如果該值大於 25，則該人為過重。使用值 `0` 表示不過重，使用值 `1` 表示過重。
3. 透過使 `0` 永遠代表良好、`1` 永遠代表不良來標準化資料。如果 `cholesterol` 或 `gluc` 的值為 1，則將該值設為 `0`。如果值大於 1，則將該值設為 `1`。
4. 在 `draw_cat_plot` 函式中繪製類別圖。
5. 使用 `pd.melt` 為 `df_cat` 變數中來自 `cholesterol`、`gluc`、`smoke`、`alco`、`active` 和 `overweight` 的值創建一個用於貓咪圖的 DataFrame。
6. 將 `df_cat` 中的資料依 `cardio` 分組並重新格式化。顯示每個特性的計數。你必須重新命名其中一個行，才能讓 `catplot` 正確運作。
7. 將資料轉換為 `long` 格式，並使用 seaborn 函式庫匯入提供的以下方法 `sns.catplot()`，創建一個顯示類別特性值計數的圖表。
8. 取得輸出圖形並將其儲存在 `fig` 變數中。
9. 請勿修改接下來的兩行。
10. 在 `draw_heat_map` 函式中繪製熱力圖。
11. 透過篩選出表述錯誤資料的以下病患區段，清理 `df_heat` 變數中的資料：
    - 舒張壓高於收縮壓（保持 `(df['ap_lo'] <= df['ap_hi'])` 的正確資料）
    - 身高低於第 2.5 百分位數（保持正確的資料使用 `(df['height'] >= df['height'].quantile(0.025))`）
    - 身高超過第 97.5 百分位數
    - 體重低於第 2.5 百分位數
    - 體重超過第 97.5 百分位數
12. 計算相關矩陣並將其儲存在 `corr` 變數中。
13. 為上三角產生遮罩並將其儲存在 `mask` 變數中。
14. 設定 `matplotlib` 圖形。
15. 使用 `seaborn` 程式庫提供的 `sns.heatmap()` 方法繪製相關矩陣。
16. 請勿修改接下來的兩行。

## 開發

將你的程式碼寫在 `medical_data_visualizer.py`。在開發時，你可以使用 `main.py` 來測試你的程式碼。

## 測試

這個專案的單元測試位於 `test_module.py`。我們為了你的方便，將測試從 `test_module.py` 匯入到 `main.py`。

## 提交中

複製你的專案 URL 並提交到 freeCodeCamp。

# --hints--

它應該通過所有 Python 測試。

```js

```

# --solutions--

```py
  # Python challenges don't need solutions,
  # because they would need to be tested against a full working project.
  # Please check our contributing guidelines to learn more.
```
