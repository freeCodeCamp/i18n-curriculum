---
id: 67f39b91583dec1e1eddbb9e
title: 迴圈與序列複習
challengeType: 31
dashedName: review-loops-and-sequences
---

# --description--

## Python 列表

- **介紹**：在 Python 中，`list` 資料型別是一個有序的元素序列，元素可以是字串、數字甚至其他 `list`。`list` 是可變的，且以零為起始索引。

```python
cities = ['Los Angeles', 'London', 'Tokyo']
```

- **存取列表中的元素**：要從 `cities` 列表中存取元素，你可以取用其在序列中的索引編號：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # Los Angeles
```

- **使用負索引存取元素**：要存取任何列表的最後一個元素，你可以使用 `-1` 作為索引數字：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # Tokyo
```

- 負索引用於從列表的末端開始存取元素，而不是從索引 `0` 的開頭開始。

- **使用 `list()` 建構式創建列表**：列表也可以使用 `list()` 建構式創建。`list()` 建構式用於將可迭代物件轉換成列表：

```python
developer = 'Jessica'

print(list(developer)) 
# Result: ['J', 'e', 's', 's', 'i', 'c', 'a']
```

- **取得列表長度**：你可以使用 `len()` 函式來取得列表的長度：

```python
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

- **列表的可變性**：列表是可變的，這表示只要你傳入有效的索引數字，就可以更新列表中的任何元素。要在特定索引處更新列表，你可以為該索引指定一個新值：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

- **索引超出範圍錯誤**：如果你傳入的索引（正數或負數）超出列表的範圍，則會收到 `IndexError`：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list assignment index out of range
"""
```

- **從列表中移除元素**：可以使用 `del` 關鍵字從列表中移除元素：

```python
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

- **檢查元素是否存在於列表中**：可以使用 `in` 關鍵字來檢查元素是否存在於列表中：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **巢狀列表**：列表可以巢狀在其他列表中：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

- 要存取巢狀列表，你需要使用索引 `2` 來存取它，因為列表是從零開始編號的。

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

- 若要進一步存取該巢狀列表中的第二種語言，你需要使用索引 `1` 來存取它：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # Rust
```

- **從列表中解包值：** 從列表中解包值是一種用來將列表中的值指定到新變數的技巧。以下是一個範例，將 `developer` 列表解包到名為 `name`、`age` 和 `job` 的新變數中，如下所示：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer
```

- **從列表中收集剩餘的項目**：要從列表中收集任何剩餘的元素，你可以像這樣使用星號（`*`）運算子：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer
```

- 如果指定運算子左側的變數數量與列表中項目的總數不符，則你會收到 `ValueError`。

- **切片列表**：切片是使用切片運算子 `:` 來存取列表部分的概念。若要切片一個從索引 `1` 開始到索引 `3` 結束的列表，你可以使用以下語法：

```python
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie']
desserts[1:3] # ['Cookies', 'Ice Cream']
```

- **步進間隔**：也可以指定步進間隔，用來決定索引之間的遞增量。如果你想使用切片擷取一個僅包含偶數的列表，以下是一個範例：

```python
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

## 列表方法

- **append()**：用於將一個項目添加到列表的末尾。以下是使用 `append()` 方法將數字 `6` 添加到此 `numbers` 列表的範例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.append(6)
print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **附加列表**：`append()` 方法也可以用來將一個列表添加到另一個列表的末尾：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.append(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, [6, 8, 10]]
```

- **extend()**：用於將多個項目添加到列表的末尾。以下是將數字 `6`、`8` 和 `10` 添加到 `numbers` 列表末尾的範例：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.extend(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, 6, 8, 10]
```

- **insert()**：用於在列表中的特定索引插入一個項目。以下是使用 `insert()` 方法的範例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.insert(2, 2.5)

print(numbers) # [1, 2, 2.5, 3, 4, 5]
```

- **remove():** 用於從列表中移除一個項目。`remove()` 方法只會移除列表中第一個出現的項目：

```py
numbers = [1, 2, 3, 4, 5, 5, 5]
numbers.remove(5)

print(numbers) # [1, 2, 3, 4, 5, 5]

```

- **pop()**：用於從列表中移除特定項目並傳回該項目：

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop(1) # The number 2 is returned
```

- 如果你沒有為 `pop` 方法指定元素，則會移除最後一個元素。

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop() # The number 5 is returned
```

- **clear()**：用於從列表中移除所有項目：

```py
numbers = [1, 2, 3, 4, 5]
numbers.clear()

print(numbers) # []
```

- **sort()**：`sort()` 方法用於就地排序元素。以下是一個就地排序隨機 `numbers` 列表的範例：

```py
numbers = [19, 2, 35, 1, 67, 41]
numbers.sort()

print(numbers) # [1, 2, 19, 35, 41, 67]
```

- **sorted()**：用於排序列表中的元素並傳回一個新的已排序列表，而不是修改原始列表。

- **reverse()**：用於反轉列表中元素的順序：

```py
numbers = [6, 5, 4, 3, 2, 1]
numbers.reverse()

print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **index()**：用於尋找元素在列表中首次出現的位置：

```python
programming_languages = ['Rust', 'Java', 'Python', 'C++']
programming_languages.index('Java') # 1
```

- 如果無法使用 `index()` 方法找到該元素，則結果將會是 `ValueError`。

## Python 中的元組

- **定義**：元組是 Python 的一種資料型別，用於創建有序的值序列。元組可以包含混合的資料型別：

```py
developer = ('Alice', 34, 'Rust Developer')
```

- Tuple 是不可變的，這表示 tuple 中的元素在創建後無法更改。如果你嘗試更新 tuple 中的某一個項目，將會得到 `TypeError`：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')
programming_languages[0] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object does not support item assignment
"""
```

- **從 Tuple 存取元素**：要從 tuple 存取元素，請使用括號表示法和索引號碼：

```py
developer = ('Alice', 34, 'Rust Developer')
developer[1] # 34
```

- 可以使用負索引從 `tuple` 的末端存取元素：

```py
numbers = (1, 2, 3, 4, 5)
numbers[-2] # 4
```

- 如果你嘗試傳入一個大於或相等於 tuple 長度的索引數字，則你會收到 `IndexError`：

```py
numbers = (1, 2, 3, 4, 5)
numbers[7]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: tuple index out of range
"""
```

- 也可以使用 `tuple()` 建構式來創建一個 tuple。在建構式中，你可以傳入不同的可迭代物件，例如字串、列表，甚至其他 tuple。

```python
developer = 'Jessica'

print(tuple(developer)) 
# Result: ('J', 'e', 's', 's', 'i', 'c', 'a')
```

- **驗證 Tuple 中的項目**：要檢查某個項目是否在 tuple 中，你可以像這樣使用 `in` 關鍵字：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **解包元組**：可以像這樣從元組中解包條款：

```py
developer = ('Alice', 34, 'Rust Developer')
name, age, job = developer
```

- 如果你需要收集元組中任何剩餘的元素，你可以像這樣使用星號（`*`）運算子：

```py
developer = ('Alice', 34, 'Rust Developer')
name, *rest = developer
```

- **切片元組**：切片可用來擷取元組的一部分。例如，項目 `pie` 和 `cookies` 可以被切片成一個獨立的元組：

```py
desserts = ('cake', 'pie', 'cookies', 'ice cream')
desserts[1:3] # ('pie', 'cookies')
```

- **從元組中移除項目**：從元組中移除一個項目會引發 `TypeError`，因為元組是不可變的：

```py
developer = ('Jane Doe', 23, 'Python Developer')
del developer[1]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object doesn't support item deletion
"""
```

- **何時使用 Tuple 與 List？**：如果你需要一個可動態新增、移除及更新元素的群集，則你應該使用列表。如果你知道你正在處理一個固定且不可變的資料群集，則你應該使用 tuple。

## 常用的 Tuple 方法

- **`count()`**：用來判斷一個項目在 tuple 中出現了多少次。 例如，你可以檢查語言 `'Rust'` 在 tuple 中出現了多少次：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('Rust') # 2
```

- 如果 `count()` 函式中的指定項目在元組中完全不存在，則返回值將是 `0`：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('JavaScript') # 0
```

- 如果沒有引數傳遞給 `count()` 函式，Python 就會傳回 `TypeError`。

- **index()**：用於尋找特定項目在 tuple 中出現的索引。以下是使用 `index()` 方法尋找語言 `'Java'` 索引的範例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.index('Java') # 1
```

- 如果找不到指定的項目，Python 將會傳回 `ValueError`。

- 你可以將選用的起始索引傳遞給 `index()` 方法，以指定從元組中的哪裡開始搜尋該項目：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
programming_languages.index('Python', 3) # 5
```

- 你也可以將選用的結束索引傳入 `index()` 方法，以指定在 tuple 中停止搜尋該項目的位置：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python', 'JavaScript', 'Python')
programming_languages.index('Python', 2, 5) # 2
```

- **`sorted()`**：用於排序任何可迭代物件中的元素並傳回一個新的排序後列表。以下是使用 `sorted()` 函式建立一個新的數字列表的範例：

```py
numbers = (13, 2, 78, 3, 45, 67, 18, 7)
sorted(numbers) # [2, 3, 7, 13, 18, 45, 67, 78]
```

- **修改排序行為**：你可以使用選用的 `reverse` 和 `key` 引數來自訂可迭代物件的排序行為。以下是使用 `key` 引數依長度排序元組中項目的範例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
sorted(programming_languages, key=len)

# Result
# ['C++', 'Rust', 'Java', 'Rust', 'Python', 'Python']
```

- 你可以使用 `reverse` 引數來創建一個反向順序的新值列表，如下所示：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')

print(sorted(programming_languages, reverse=True))

# Result
# ['Rust', 'Rust', 'Python', 'Python', 'Java', 'C++']
```

## Python 中的迴圈

- **定義**：迴圈用於重複執行一個區塊的程式碼指定的次數。

- **`for` 迴圈**：用於對序列（例如列表、元組或字串）進行迭代，並對該序列中的每個項目執行一個區塊的程式碼。以下是使用 `for` 迴圈來迭代列表並將每個語言列印到主控台的範例：

```py
programming_languages = ['Rust', 'Java', 'Python', 'C++']

for language in programming_languages:
    print(language)

"""
Result 

Rust
Java
Python
C++
"""
```

- 這是一個使用 `for` 迴圈來遍歷字串 `code` 並列印出每個字元的範例：

```py
for char in 'code':
    print(char)

"""
Result 

c
o
d
e
"""
```

- `for` 迴圈可以巢狀使用。以下是使用巢狀 `for` 迴圈的範例：

```py
categories = ['Fruit', 'Vegetable']
foods = ['Apple', 'Carrot', 'Banana']

for category in categories:
    for food in foods:
        print(category, food)

"""
Result

Fruit Apple
Fruit Carrot
Fruit Banana
Vegetable Apple
Vegetable Carrot
Vegetable Banana
"""

```

- **`while` 迴圈**：重複執行一個區塊的程式碼直到條件為 `False`。以下是一個使用 `while` 迴圈進行猜數字遊戲的範例：

```py
secret_number = 3
guess = 0

while guess != secret_number:
    guess = int(input('Guess the number (1-5): '))
    if guess != secret_number:
        print('Wrong! Try again.')

print('You got it!')

"""
Result

Guess the number (1-5): 2
Wrong! Try again.
Guess the number (1-5): 1
Wrong! Try again.
Guess the number (1-5): 3
You got it!
"""

```

- **`break` 和 `continue` 述語**：用於迴圈中以修改迴圈的執行。

- 當符合某個條件時，`break` 述語用於立即離開迴圈。以下是使用 `break` 述語處理 `developer_names` 列表的範例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        break
    print(developer)
```

- `continue` 述語用於跳過當前的迴圈迭代並進入下一次迴圈迭代。以下是一個使用 `continue` 述語取代 `break` 述語的範例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        continue
    print(developer)
```

- `for` 和 `while` 迴圈都可以與 `else` 語句結合，該語句僅在迴圈未被 `break` 終止時執行：

```python
words = ['sky', 'apple', 'rhythm', 'fly', 'orange']

for word in words:
    for letter in word:
        if letter.lower() in 'aeiou':
            print(f"'{word}' contains the vowel '{letter}'")
            break
    else:
        print(f"'{word}' has no vowels")
```

## 範圍與其在迴圈中的使用

- **`range()` 函式**：用於產生一連串整數。

```py
range(start, stop, step)
```

- 必要的 `stop` 引數是一個整數（不包含該值），用來表述所產生數字序列的終點。以下是使用 `range()` 函式的範例：

```py
for num in range(3):
    print(num)
```

- 如果沒有指定 `start` 引數，則預設值為 `0`。 預設情況下，整數序列將以 `1` 遞增。 你可以使用選用的 `step` 引數來更改預設的遞增值。 以下是生成從 2 到但不包含 11（即包含 10）的偶數序列的範例。

```py
for num in range(2, 11, 2):
    print(num)
```

- 如果你沒有為 `range()` 函式提供任何引數，則會得到 `TypeError`。

- `range()` 函式（程式）只接受整數作為引數，而不接受浮點數。使用浮點數也會導致 `TypeError`：

```py
ERROR!
Traceback (most recent call last):
  File "<main.py>", line 1, in <module>
TypeError: 'float' object cannot be interpreted as an integer
```

- 你可以對 `step` 引數使用負整數，以產生遞減順序的整數序列：

```py
for num in range(40, 0, -10):
    print(num)
```

- `range()` 函式（程式）也可以搭配 `list` 建構式用來產生整數列表。`list` 建構式用於將可迭代物件轉換成列表。以下是產生包含 2 到 10（含）之間偶數列表的範例：

```py
numbers = list(range(2, 11, 2))
print(numbers) # [2, 4, 6, 8, 10]
```

## Python 中的 `enumerate()` 和 `zip()` 函式（程式）

- **`enumerate()`**：用於迭代序列並追蹤該序列中每個項目的索引。`enumerate()` 函式以可迭代物件作為引數，並傳回一個 `enumerate` 物件，該物件包含可迭代物件中每個項目的索引和值。

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

for index, language in enumerate(languages):
    print(f'Index {index} and language {language}')

# Result
# Index 0 and language Spanish
# Index 1 and language English
# Index 2 and language Russian
# Index 3 and language Chinese

```

- `enumerate()` 函式（程式）也可以在 `for` 迴圈之外使用：

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

print(list(enumerate(languages)))
# [(0, 'Spanish'), (1, 'English'), (2, 'Russian'), (3, 'Chinese')]
```

- `enumerate()` 函式（程式）也接受一個選用的 `start` 引數，用來指定計數的起始值。如果省略此引數，計數將從 `0` 開始。

-  **`zip()`** ：用於平行迭代多個可迭代物件。以下是使用 `zip()` 函式（程式）來迭代 `developers` 和 `ids` 的範例：

```python
developers = ['Naomi', 'Dario', 'Jessica', 'Tom']
ids = [1, 2, 3, 4]

for name, id in zip(developers, ids):
    print(f'Name: {name}')
    print(f'ID: {id}')


"""
Result

Name: Naomi
ID: 1
Name: Dario
ID: 2
Name: Jessica
ID: 3
Name: Tom
ID: 4
"""

```

## Python 中的列表推導式

- **定義**：列表推導式允許你在一行中直接在方括號內結合迴圈和條件來創建一個新的列表。這使程式碼更簡短且通常更易於閱讀。

```py
even_numbers = [num for num in range(21) if num % 2 == 0]
print(even_numbers)
```

## 可疊代方法

- **`filter()`**：用來根據條件篩選可迭代物件中的元素。它傳回一個只包含符合條件元素的迭代器。以下是一個建立只包含長度超過四個字元的字的新列表的範例：

```py
words = ['tree', 'sky', 'mountain', 'river', 'cloud', 'sun']

def is_long_word(word):
    return len(word) > 4

long_words = list(filter(is_long_word, words))
print(long_words) # ['mountain', 'river', 'cloud']
```

- **`map()`**：用於將函式應用到可迭代物件中的每個項目，並傳回一個包含結果的新可迭代物件。以下是使用 `map()` 函式將攝氏溫度列表轉換為華氏溫度的範例：

```py
celsius = [0, 10, 20, 30, 40]

def to_fahrenheit(temp):
    return (temp * 9/5) + 32

fahrenheit = list(map(to_fahrenheit, celsius))
print(fahrenheit) # [32.0, 50.0, 68.0, 86.0, 104.0]
```

- **`sum()`**：用於從可迭代物件如列表或元組取得總和。以下是使用 `sum()` 函式的範例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers)
print(total) # Result: 50
```

- 你也可以傳入選用的 `start` 引數，該引數設定加總的初始值。以下是使用 `start` 引數作為位置引數的更新範例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, 10) # positional argument
print(total) # 60
```

- 你也可以選擇將 `start` 引數作為關鍵字引數這樣使用：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, start=10) # keyword argument
print(total) # 60
```

## Lambda 函式（程式）

- **定義**：Python 中的 lambda 函式（程式）是一種簡潔的方式，用來創建沒有名稱的函式（匿名函式）。
- Lambda 函式（程式）經常被用作另一個函式（程式）的引數。以下是一個 lambda 函式（程式）的範例：

```py
numbers = [1, 2, 3, 4, 5]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # [2, 4]
```

- 使用 lambda 函式（程式）的最佳實踐包括不要將它們指定給變數、保持簡單且易讀，以及用於短暫且一次性的函式（程式）。

# --assignment--

檢視 `Loops` 和 `Sequences` 主題與概念。
