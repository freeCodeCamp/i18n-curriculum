---
id: 695cc6a5eefd305381ec90bc
title: ¿Qué es el módulo fs y cómo funciona?
challengeType: 19
dashedName: what-is-the-fs-module-and-how-does-it-work
---

# --description--

Muchos lenguajes y frameworks ofrecen formas de trabajar con archivos y carpetas. Node.js te permite hacer esto con el módulo `fs` o sistema de archivos.

Esta lección se centrará en el módulo Node `fs`, cómo funciona y las tres formas diferentes en que puedes usar los métodos que proporciona.

El módulo Node `fs` te proporciona métodos para trabajar con archivos y carpetas, incluyendo operaciones de apertura y cierre, lectura y escritura, y eliminación.

El módulo `fs` es un módulo estándar de Node.js, por lo que está disponible para usar siempre que tengas Node.js instalado en tu entorno. Para usar el módulo, lo importas de esta manera:

```js
const fs = require("fs");
```

La flexibilidad que ofrece el módulo `fs` es que te permite usar sus métodos tanto de forma síncrona como asíncrona. Los métodos del módulo `fs` son asíncronos por defecto, pero para cada método, existe una forma síncrona:

```js
fs.writeFile() // Asynchronous file writing
fs.writeFileSync() // Synchronous file writing

fs.readFile() // Asynchronous file reading
fs.readFileSync() // Synchronous file reading

fs.open() // Opens a file
fs.openAsBlob() // Opens as blob
fs.openSync() // Synchronous open
fs.opendir() // Opens directory
fs.opendirSync() // Synchronous directory open
```

No termina ahí. Dependiendo de tus necesidades, puedes usar los métodos de tres maneras:

- con callbacks, por ejemplo `fs.writeFile()` (asíncrono)
- con promesas si prefieres la sintaxis `async/await`, por ejemplo `fs.promises.writeFile()`
- sincronizadamente, por ejemplo, `fs.writeFileSync()`

Aquí está la sintaxis básica para el uso asíncrono de los métodos:

```js
fs.writeFile("filePath", "content", "utf8", (err) => {
  if (err) {
    throw err;
  }
  console.log("File written to!");
});
```

Para la versión de promises, puedes importar eso desde `fs/promises` o encadenar `promises` a tu importación de `fs`. Aquí está la sintaxis:

```js
async function promisesExample() {
  try {
    await fs.promises.writeFile("filePath", "content", "utf8");
    console.log("File written to!");
  } catch (err) {
    console.error("Error:", err);
  }
}

promisesExample();
```

Y aquí está la versión síncrona:

```js
try {
  fs.writeFileSync("filePath", "content", "utf8");
  console.log("File written to!");
} catch (err) {
  console.error("Error:", err);
}
```

Ten en cuenta que usar cualquiera de los métodos de forma síncrona es bloqueante. En otras palabras, tu programa dejará de ejecutarse y esperará hasta que la operación termine antes de continuar con la siguiente línea de código.

Para scripts rápidos, proyectos pequeños o tareas puntuales, los métodos síncronos probablemente estén bien. Pero en aplicaciones del mundo real, el bloqueo de I/O (entrada/salida) se convierte en un problema porque puede congelar otras partes de tu app mientras Node espera a que el sistema de archivos termine sus operaciones. Eso ralentiza las cosas y afecta el rendimiento y la experiencia del usuario.

Por eso existen los métodos asíncronos. Permiten que el resto de tu programa siga ejecutándose mientras Node maneja las operaciones de archivos en segundo plano. Tradicionalmente, esto usaba callbacks, pero estos pueden volverse desordenados rápidamente a medida que tu aplicación crece.

Las Promesas y `async/await` resuelven ese problema. Siguen siendo no bloqueantes, pero el código se lee como código síncrono normal y es mucho más fácil de mantener. 

Por esta razón, el enfoque basado en promesas es generalmente preferido hoy en día, y eso es lo que usaremos en el resto de esta lección.

El método `writeFile()` te permite escribir en un archivo existente. Si el archivo no existe, lo crea en el directorio actual y luego escribe el contenido especificado en él.

Aquí te mostramos cómo usar el método `writeFile()`:

```js
const fs = require("fs/promises");

async function writeToFile() {
  try {
    await fs.writeFile(
      "article.md",
      "## Node `fs` Module: The Complete Guide",
      "utf8",
    );
    console.log("File written to!");
  } catch (err) {
    console.error("Error writing to file:", err);
  }
}

writeToFile(); // File written to!
```

Aquí está el contenido del archivo article.md después de eso:

```md
## Node `fs` Module: The Complete Guide
```

El método `appendFile()` te permite agregar contenido a un archivo existente. Así es como se usa:

```js
const fs = require("fs/promises");

async function appendToFile() {
  try {
    await fs.appendFile(
      "article.md",
      "\nIn this article, you will learn all there is to know about the Node fs module...",
      "utf8",
    );
    console.log("File appended to!");
  } catch (err) {
    console.log("Error appending to file:", err);
  }
}

appendToFile(); // File appended to!
```

El método `readFile()` te permite ver cuál es el contenido de un archivo:

```js
const fs = require("fs/promises");

async function readFileContent() {
  try {
    const fileContent = await fs.readFile("article.md", "utf8");
    console.log("File content:", fileContent);
  } catch (err) {
    console.log("File read successfully");
  }
}

readFileContent();

/*
File content: ## Node `fs` Module: The Complete Guide

In this article, you will learn all there is to know about the Node fs module...
*/
```

Si no especificas la codificación de caracteres `utf8`, obtendrás el contenido del archivo como un buffer:

```js
async function readFileContent() {
  try {
    const fileContent = await fs.readFile("article.md");
    console.log("File content:", fileContent);
  } catch (err) {
    console.log("File read successfully");
  }
}

readFileContent();

/*
File content: <Buffer 23 23 20 4e 6f 64 65 20 60 66 73 60 20 4c 69 62 72 61 72 79 3a 20
 54 68 65 20 43 6f 6d 70 6c 65 74 65 20 47 75 69 64 65 0a 0a 49 6e 20 74 68 69 73 20 ... 
72 more bytes>
*/
```

En la próxima lección, aprenderás cómo manejar un buffer como este con el módulo Buffer de Node.js.

Por último, el método `unlink()` te permite eliminar un archivo:

```js
const fs = require("fs/promises");

async function deleteFile() {
  try {
    await fs.unlink("article.ts");
    console.log("File deleted successfully!");
  } catch (err) {
    console.error("Error deleting file:", err);
  }
}

deleteFile();
```

Si el archivo no existe, recibirás un mensaje de error similar a este:

```bash
Error deleting file: Error: ENOENT: no such file or directory, unlink 'article.ts'
```

Si existe, el archivo se elimina y recibes el mensaje de éxito que configuraste.

# --questions--

## --text--

¿Cuál es el propósito principal del módulo Node `fs`?

## --answers--

Para crear páginas HTML dinámicas en el navegador.

### --feedback--

Piensa en cómo manejas archivos como documentos de texto o carpetas directamente desde Node.js.

---

Para conectar Node.js a una base de datos.

### --feedback--

Piensa en cómo manejas archivos como documentos de texto o carpetas directamente desde Node.js.

---

Para interactuar con el sistema de archivos para operaciones CRUD de archivos y carpetas.

---

Para gestionar las instalaciones de paquetes de Node.js.

### --feedback--

Piensa en cómo manejas archivos como documentos de texto o carpetas directamente desde Node.js.

## --video-solution--

3

## --text--

¿Qué método del módulo fs de Node te permite escribir contenido en un archivo, creándolo si no existe?

## --answers--

`writeFile()`

---

`readFile()`

### --feedback--

Piensa en el método que tanto crea como escribe contenido en un archivo.

---

`appendFile()`

### --feedback--

Piensa en el método que tanto crea como escribe contenido en un archivo.

---

`unlink()`

### --feedback--

Piensa en el método que tanto crea como escribe contenido en un archivo.

## --video-solution--

1

## --text--

¿Cuál de las siguientes **NO** es una de las tres formas en que puedes usar métodos en el módulo `fs` de Node?

## --answers--

Con callbacks, por ejemplo `fs.writeFile()`.

### --feedback--

Dos son asíncronos, uno es síncrono y uno no existe.

---

 Con promesas, por ejemplo `fs.promises.writeFile()`.

### --feedback--

Dos son asíncronos, uno es síncrono y uno no existe.

---

Sincronizadamente, por ejemplo `fs.writeFileSync()`.

### --feedback--

Dos son asíncronos, uno es síncrono y uno no existe.

---

Con el análisis JSON, por ejemplo `fs.parseFile()`.

## --video-solution--

4

