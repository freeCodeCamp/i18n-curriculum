---
id: 68baa5e4f0e07f079245ca0a
title: 什麼是樹和字典樹以及它們如何運作？
challengeType: 19
dashedName: what-are-trees-and-tries-and-how-do-they-work
---

# --description--

樹狀結構在計算機科學的世界中非常重要。

**樹** 是一種特定型別的圖。

要將圖形分類為樹，必須：

* 沒有迴圈或循環（起點和終點節點相同的路徑）。
    
* 保持連通（每個節點都能從其他節點到達）。
    

樹是非線性資料結構，用於在階層體系中組織節點，其中節點可能有子節點、兄弟節點和父節點。

根節點是樹的最頂端。它是樹中唯一沒有父節點的節點。你將從這個節點開始遍歷整個資料結構，通常會使用像是廣度優先搜尋（BFS）或深度優先搜尋（DFS）這類的演算法。

這是一個樹狀圖的圖形範例：

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-1.png" alt="A tree diagram showing a hierarchical structure with node A at the root, nodes B and C as children of A, and nodes D and E as children of C. Node B is a leaf node.">

由於節點是以階層體系組織，因此它們之間存在關係。

**父節點** 是直接連接到其下方其他節點的節點。在圖中，節點 A 是節點 B 和 C 的父節點。

**子節點** 是直接連接到其上方節點的節點。在圖中，節點 D 和 E 是節點 C 的子節點。

節點 D 和 E 也被分類為 **葉節點**。葉節點是沒有子節點的節點。你可以將它們視為樹狀結構中「分支」的終點。

樹節點也有重要的屬性：

* **深度**：從根節點到該節點的路徑長度。例如，在圖中，節點 D 的深度為 2，因為如果你從根節點開始，必須經過兩條邊才能到達它。
    
* **高度**：從該節點往下到葉節點的路徑長度。例如，節點 C 的高度為 1，因為它比葉節點高一層。
    
* **Degree：** 每個節點擁有的子節點數量。在圖中，節點 B 的 degree 為 0，因為它是葉節點，所以沒有子節點。節點 C 的 degree 為 2，因為它有兩個子節點。
    

樹也有**高度**。樹的高度是其根節點的高度。

有許多不同的樹型，包括二元樹、二元搜尋樹、AVL 樹、紅黑樹和 B 樹。

## 二元樹和二元搜尋樹

這是兩種最常用的樹型結構。

**二元樹** 是一種樹狀結構，其中每個節點最多可以有兩個子節點，分別是左子節點和右子節點。沒錯，這表示你到目前為止看到的範例就是一個二元樹！

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-1.png" alt="The same binary tree example highlighting that it's a binary tree, with each node having at most two children.">

**二元搜尋樹** 是二元樹的一個更具體版本，具有非常特定的排序屬性。

要理解它，首先你需要了解子樹。**子樹**是樹的一部分，且本身也是一棵樹。

在我們的樹狀範例中，節點 C、D 和 E 自成一棵樹，因此它們被視為子樹。

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-3.png" alt="A diagram highlighting a subtree within the main tree, showing nodes C, D, and E forming their own tree structure.">

二元搜尋樹（BST）的排序屬性規定，對於每個節點，其左子樹中的所有值都小於該節點的值，而其右子樹中的所有值都大於該節點的值。

左右子樹本身也必須是二元搜尋樹。

如果樹是平衡的，這種排序會使搜尋、插入和刪除操作非常高效。

平衡樹是一種樹，其任何節點的左右子樹高度非常相近，以確保操作保持高效。

## 嘗試

既然你已經更了解樹和二元搜尋樹，現在讓我們深入探討 trie。

**Trie** 是用來儲存一組字串的樹狀資料結構。

Trie 也被稱為 **前置式樹**，因為它們對於需要根據字串前置式尋找字串的操作非常高效。

trie 中的每個節點代表字串中的單一字元。

根節點不表述任何特定字元，所以你可以將它視為表述一個空字串。

當你從根節點向下巡訪 trie 時，通往某個節點的路徑定義了一個特定的前置式。若要尋找一個字，你必須沿著該前置式前進，直到到達包含你要尋找字的節點。

表述完整字的節點會被指定字尾標記。

這是一個包含字、單字 "top"、"tea" 和 "ten" 的 trie 範例。

注意「tea」和「ten」這兩個字共享相同的前置式「te」，因此資料結構會沿著相同的路徑直到最後一個字元，該字元被標記為字尾字元。在此圖中，這以節點周圍的紅色邊框表述：

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-4.png" alt="A trie data structure showing the words 'top', 'tea', and 'ten'. The root node branches to 't', which then branches to 'o' (leading to 'top') and 'e' (leading to 'tea' and 'ten'). End-of-word nodes are marked with red borders.">

搜尋操作的最壞情況時間複雜度是 O(L)，其中 L 是你要搜尋的字串長度。

插入也是高效的。此操作只需要為 trie 中尚不存在的字元建立新的節點。

這個資料結構的最大優點是當多個字串共用相同的前置式時，它們的路徑會重疊，因此前置式本身只會被儲存一次。

這種效率使得 trie 非常適合實作像自動完成和拼字檢查器這類的特性。

然而，`tries` 並不適用於所有字串集合。若字串集合中有許多獨特的字元，則可能效率不佳。這將需要將許多獨特的字元儲存為獨立的節點。必須巡訪這些節點以尋找字，這樣並不理想。

既然你已經熟悉不同的樹的型別以及它們的用途，你就可以開始在實際情境中使用它們。當你需要解決日常工作中的挑戰時，知道如何選擇正確的樹是一項寶貴的技能。

# --questions--

## --text--

以下關於二元搜尋樹（BST）的述語中，哪一項永遠正確？

## --answers--

節點左子樹中的所有值都小於該節點的值。

---

每個節點最多可以有三個子節點。

### --feedback--

思考 Binary Search Tree（BST）中數字如何被組織的特定規則，以允許高效搜尋。

---

每次插入後，樹都保證是完美平衡的。

### --feedback--

思考 Binary Search Tree（BST）中數字如何被組織的特定規則，以允許高效搜尋。

---

它是一種專門最佳化用於儲存字串的樹狀結構。

### --feedback--

思考 Binary Search Tree（BST）中數字如何被組織的特定規則，以允許高效搜尋。

## --video-solution--

1

## --text--

以下哪一項任務最適合使用 trie 或前置式樹？

## --answers--

在大型資料集中尋找最小值。

### --feedback--

思考 trie 結構的主要優勢以及它如何基於字元來建立。

---

在電腦上管理階層式檔案系統。

### --feedback--

思考 trie 結構的主要優勢以及它如何基於字元來建立。

---

實作自動完成特性。

---

儲存一個無序的唯一數字列表。

### --feedback--

思考 trie 結構的主要優勢以及它如何基於字元來建立。

## --video-solution--

3

## --text--

一般樹與二元樹之間的根本差異是什麼？

## --answers--

二元樹只能儲存數字，而一般樹可以儲存任何資料型別。

### --feedback--

想想二元樹中每個節點可以有多少個連線，與一般樹相比。

---

二元樹有一個根節點，但一般樹沒有。

### --feedback--

想想二元樹中每個節點可以有多少個連線，與一般樹相比。

---

二元樹沒有父子關係，不同於一般樹。

### --feedback--

想想二元樹中每個節點可以有多少個連線，與一般樹相比。

---

二元樹限制每個節點最多有兩個子節點，而一般樹則沒有此限制。

## --video-solution--

4
