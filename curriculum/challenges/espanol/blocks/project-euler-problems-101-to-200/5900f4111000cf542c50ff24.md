---
id: 5900f4111000cf542c50ff24
title: 'Problema 165: Intersecciones'
challengeType: 1
forumTopicId: 301799
dashedName: problem-165-intersections
---

# --description--

Un segmento se define de manera única por sus dos puntos finales. Al considerar dos segmentos de línea en geometría plana, hay tres posibilidades: los segmentos no tienen puntos en común, tienen un punto en común o tienen infinitos puntos en común.

Además, cuando dos segmentos tienen exactamente un punto en común, puede ser que el punto común sea un extremo de uno de los segmentos o de ambos. Si un punto común de dos segmentos no es un extremo de ninguno de los segmentos, es un punto interior de ambos segmentos.

Llamaremos punto común $T$ de dos segmentos $L_1$ y $L_2$ un punto de intersección verdadero de $L_1$ y $L_2$ si $T$ es el único punto común de $L_1$ y $L_2$ y $T$ es un punto interior de ambos segmentos.

Considera los tres segmentos $L_1$, $L_2$ y $L_3$:

$$\begin{align}
  & L_1: (27, 44) \\;\text{a}\\; (12, 32) \\\\
  & L_2: (46, 53) \\;\text{a}\\; (17, 62) \\\\
  & L_3: (46, 70) \\;\text{a}\\; (22, 40) \\\\
\end{align}$$

Se puede verificar que los segmentos de línea $L_2$ y $L_3$ tienen un punto de intersección verdadero. Notamos que, dado que uno de los puntos finales de $L_3$: (22, 40) se encuentra sobre $L_1$, esto no se considera un punto de intersección verdadero. $L_1$ y $L_2$ no tienen ningún punto en común. Así que, entre los tres segmentos de línea, encontramos un punto de intersección verdadero.

Ahora hagamos lo mismo para 5000 segmentos de línea. Para ello, generamos 20000 números usando el generador de números pseudoaleatorios llamado "Blum Blum Shub".

$$\begin{align}
  & s_0 = 290797 \\\\
  & s_{n + 1} = s_n × s_n (\text{módulo}\\; 50515093) \\\\
  & t_n = s_n (\text{módulo}\\; 500) \\\\
\end{align}$$

Para crear cada segmento de línea, usamos cuatro números consecutivos $t_n$. Es decir, el primer segmento de línea está dado por:

($_t$1, $t_2$) a ($t_3$, $t_4$)

Los primeros cuatro números calculados según el generador anterior deberían ser: 27, 144, 12 y 232. El primer segmento sería entonces (27, 144) a (12, 232).

¿Cuántos puntos de intersección verdaderos distintos se encuentran entre los 5000 segmentos de línea?

# --hints--

`distinctIntersections()` debería devolver `2868868`.

```js
assert.strictEqual(distinctIntersections(), 2868868);
```

# --seed--

## --seed-contents--

```js
function distinctIntersections() {

  return true;
}

distinctIntersections();
```

# --solutions--

```js
// solution required
```
