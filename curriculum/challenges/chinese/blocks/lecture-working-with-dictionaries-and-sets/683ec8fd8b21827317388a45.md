---
id: 683ec8fd8b21827317388a45
title: 集合是什么，它们如何工作？
challengeType: 19
dashedName: what-are-sets-and-how-do-they-work
---

# --description--

集合是 Python 的内置数据结构之一。集合的核心特性之一是它们不保存重复的值。如果你尝试将重复的值添加到集合中，只有其中一个会被保存。

集合是可变的且无序的，这意味着它们的元素不会以任何特定顺序保存，因此你不能使用索引或密钥来访问它们。它们只能包含不可变的数据类型的值，如数字、字串和元组。并且它们支持数学集合操作，包括并集、交集、差集和对称差集。

要定义一个集合，你只需将其元素写在括弧状的花括弧内，并用逗号分隔它们。这是一个数字集合的示例：

```python
my_set = {1, 2, 3, 4, 5} 
```

处理集合时的一个怪癖是，如果你需要定义一个空集合，必须使用 `set()` 函数。如果你只是写空的括弧状的花括弧，比如 `{}`，Python 会自动创建一个字典。

```python
set() # Set
{}    # Dictionary
```

你可以使用 `.add()` 方法为集合添加一个元素，并将新元素作为参数传入：

```python
my_set.add(6)
```

在我们的示例中， 新建 集合将是：

```python
{1, 2, 3, 4, 5, 6}
```

如果你尝试为集合添加一个已经存在的元素，只会保留一个。在这种情况下，我们的集合中已经有数字 5：

```python
my_set.add(5)
```

所以集合不会改变：

```python
{1, 2, 3, 4, 5, 6}
```

要从集合中移除一个元素，你有两个选项。你可以使用 `.remove()` 方法或 `.discard()` 方法，并将你想要移除的元素作为参数传入。

如果未找到元素，`.remove()` 方法将引起 `KeyError`，而 `.discard()` 方法则不会：

```python
my_set.remove(4)
my_set.discard(4)
```

`.clear()` 方法从集合中移除所有元素：

```python
my_set.clear()
```

Python 集合还具有执行常见数学集合操作的强大方法。

`.issubset()` 和 `.issuperset()` 方法分别查看一个集合是否是另一个集合的子集或超集。

这里，我们正在查看 `your_set` 是否是 `my_set` 的子集，因为 `your_set` 的所有元素并不都在 `my_set` 中，所以结果是 `False`。

我们也在查看 `my_set` 是否是 `your_set` 的超集。这也是 `False`，因为 `my_set` 不包含 `your_set` 的所有元素：

```python
my_set = {1, 2, 3, 4, 5}
your_set = {2, 3, 4, 6}

print(your_set.issubset(my_set)) # False
print(my_set.issuperset(your_set)) # False
```

`.isdisjoint()` 方法查看两个集合是否不相交，这意味着它们没有任何共同的元素。在这种分支中，结果是 `False`，因为 `my_set` 和 `your_set` 确实有共同的元素——2、3 和 4：

```python
print(my_set.isdisjoint(your_set)) # False
```

并集操作符 `|` 返回一个包含两个集合中所有元素的新建集合：

```python
my_set | your_set # {1, 2, 3, 4, 5, 6}
```

交集操作符 `&` 返回一个只包含集合共有元素的新建集合：

```python
my_set & your_set # {2, 3, 4}
```

差集操作符 `-` 返回一个新建集合，该集合包含第一个集合中不在其他集合中的元素。在此示例中，数字 1 和 5 在 `my_set` 中但不在 `your_set` 中：

```python
my_set - your_set # {1, 5}
```

对称差操作符 `^` 返回一个新建集合，其中包含只存在于第一个集合或第二个集合中的元素，但不同时存在于两个集合中。在这种情况下，1 和 5 在 `my_set` 中但不在 `your_set` 中，因此它们被包含在内。数字 6 在 `your_set` 中但不在 `my_set` 中，因此它也被包含在内：

```python
my_set ^ your_set # {1, 5, 6}
```

每个这些操作符如果在旁边添加等号，也都有对应的复合赋值操作符。这些操作符会自动将结果集赋值给表达式中的第一个集合：

```python
|= &= -= ^=
```

例如，`-=` 操作符查找集合之间的差异并用该结果更新第一个集合：

```python
my_set -= your_set
```

之后，`my_set` 将更新为 `{1, 5}`：

```python
print(my_set) # {1, 5}
```

你可以使用 `in` 操作符查看一个元素是否在集合中。这里，我们正在检查 5 是否在 `my_set` 中。结果将是布尔值 `True` 或 `False`：

```python
print(5 in my_set)
```

这就是集合的基本原理。当你不需要以任何特定顺序保存值，并且只需要保存唯一值时，它们非常有用。


# --questions--

## --text--

以下哪项是 Python 集合的核心特征？

## --answers--

元素按索引排序和访问。

### --feedback--

考虑集合与列表、元组和字典的不同。

---

元素作为密钥-值点对保存。

### --feedback--

考虑集合与列表、元组和字典的不同。

---

元素是唯一且无序的。

---

元素可以是任何数据类型，包括列表和字典。

### --feedback--

考虑集合与列表、元组和字典的不同。

## --video-solution--

3

## --text--

使用什么操作符来查看元素是否存在于集合中？

## --answers--

`==`

### --feedback--

考虑测试集合中成员的操作符。

---

`in`

---

`get()`

### --feedback--

考虑测试集合中成员的操作符。

---

`find()`

### --feedback--

考虑测试集合中成员的操作符。

## --video-solution--

2

## --text--

哪个集合操作返回一个新建集合，该集合包含存在于两个集合中的任意一个但不同时存在的元素？

## --answers--

并集

### --feedback--

考虑哪个操作可以识别每个集合中唯一的元素。

---

交集

### --feedback--

考虑哪个操作可以识别每个集合中唯一的元素。

---

差异

### --feedback--

考虑哪个操作可以识别每个集合中唯一的元素。

---

对称差异

## --video-solution--

4

