---
id: 673368d97e8ce232cdcd6b68
title: 如何使用 `appendChild()` 和 `removeChild()` 向 DOM 添加和移除节点？
challengeType: 19
dashedName: how-do-you-add-and-remove-nodes-from-the-dom-with-appendchild-and-removechild
---

# --interactive--

有时你需要从 DOM 中添加或移除节点，并且有几个 Web API 可供你使用。

在本课中，我们将介绍 `appendChild()` 和 `removeChild()` 方法。

`appendChild()` 方法用于将节点添加到指定父节点的子节点列表末尾。

以下是 `appendChild()` 方法的基本语法：

```js
parentNode.appendChild(newNode);
```

让我们看一个例子，更好地理解如何使用 `appendChild()` 方法。

在此示例中，我们在超文本标记语言中有一个 ID 为 `desserts` 的无序列表元素。该列表包含两个列表项：`Cake` 和 `Pie`：

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
```

要访问 JavaScript 文件内的该列表，我们可以使用 `getElementById()` 方法：

```js
const dessertsList = document.getElementById("desserts");
```

我们有一个名为 `dessertsList` 的变量，它保存对 ID 为 `desserts` 的 `ul` 元素的引用。

然后我们需要使用 `createElement()` 方法创建一个新的列表项元素：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");
```

以下代码将创建一个新的列表项元素并将其保存到名为 `listItem` 的变量中。

要将该节点添加到 `ul` 元素的子元素列表末尾，我们可以使用 `appendChild()` 方法：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

如果你运行这段代码，你会看到一个新的列表项元素被添加到 `ul` 元素的子元素列表末尾。

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

:::

问题是新建的列表项元素是空的。要为新建的列表项元素添加文本内容，你可以使用 `textContent` 属性：

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

listItem.textContent = "Cookies";
dessertsList.appendChild(listItem);
```

:::

现在列表将显示 `Cake`、`Pie` 和 `Cookies`。

要从 DOM 中移除节点，你可以使用 `removeChild()` 方法。

这是 `removeChild()` 方法的基本语法：

```js
parentNode.removeChild(childNode);
```

让我们来看一个示例，我们想从这个 `section` 元素中移除最后一个段落元素：

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
```

我们可以使用 `getElementById()` 方法访问 JavaScript 文件中的 `section` 元素：

```js
const sectionEl = document.getElementById("example-section");
```

一旦我们获得了对 `section` 元素的引用，就可以使用 `querySelector()` 方法访问最后一个段落：

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");
```

我们使用 `:last-of-type` 伪类选择 `section` 元素内的最后一个段落元素。

现在我们有了父节点和子节点，可以使用 `removeChild()` 方法从 `section` 元素中移除最后一个段落元素：

:::interactive_editor

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
<script src="index.js"></script>
```

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");

sectionEl.removeChild(lastParagraph);
```

:::

那么，什么时候你可能想要为你的 DOM 添加或移除节点？

如果你正在处理动态内容，你可能需要从 DOM 中添加或移除节点。现实世界的例子包括购物车、待办事项列表和社交媒体动态。

# --questions--

## --text--

`appendChild()` 方法的作用是什么？

## --answers--

它从 DOM 中移除一个节点。

### --feedback--

考虑节点相对于其兄弟节点的位置。

---

它将一个节点添加到指定父节点的子节点列表的末尾。

---

它用一个新建节点替换现有节点。

### --feedback--

考虑节点相对于其兄弟节点的位置。

---

它将节点移动到 DOM 中的不同位置。

### --feedback--

考虑节点相对于其兄弟节点的位置。

## --video-solution--

2

## --text--

你将如何为新创建的列表项元素添加文本内容？

## --answers--

在新建节点上使用 `setText()` 方法。

### --feedback--

考虑允许设置元素内部文本的属性。

---

直接将字串赋值给新建节点的 `innerHTML` 属性。

### --feedback--

考虑允许设置元素内部文本的属性。

---

将新建节点的 `textContent` 属性设置为所需的字串。

---

使用 `appendChild()` 方法并以文本节点作为参数。

### --feedback--

考虑允许设置元素内部文本的属性。

## --video-solution--

3

## --text--

如何使用 JavaScript 从一个部分中移除最后一个段落元素？

## --answers--

在带有对最后一个段落元素引用的 section 元素上使用 `removeChild()`。

---

对带有最后一个段落元素引用的节元素使用 `deleteChild()`。

### --feedback--

考虑将子节点从其父节点中移除的方法。

---

在带有对最后一个段落元素引用的部分元素上使用 `detachChild()`。

### --feedback--

考虑将子节点从其父节点中移除的方法。

---

对带有最后一个段落元素引用的 section 元素使用 `removeNode()`。

### --feedback--

考虑将子节点从其父节点中移除的方法。

## --video-solution--

1
