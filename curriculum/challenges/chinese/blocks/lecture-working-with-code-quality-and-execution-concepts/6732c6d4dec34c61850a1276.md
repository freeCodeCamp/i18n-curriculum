---
id: 6732c6d4dec34c61850a1276
title: 什么是内存管理，以及它在 JavaScript 中如何工作？
challengeType: 19
dashedName: what-is-memory-management-and-how-does-it-work-in-javascript
---

# --description--

内存管理是编程中的一个基本概念，但对于初学者来说可能有点困惑，让我们用简单的术语来分解它。

当你运行一个程序，包括在网页浏览器中运行 JavaScript 代码时，它需要内存来保存所有正在处理的信息。这包括变量、函数、对象，基本上是你的代码创建和使用的所有内容。内存管理是控制这部分内存的过程，在需要时分配内存，在不再需要时释放内存。在某些编程语言中，开发者必须手动管理内存。他们需要显式地告诉计算机何时为新建的内容分配内存，何时释放不再需要的内存。这虽然强大，但也很棘手，因为忘记释放内存可能导致内存泄漏。

然而，JavaScript 使用自动内存管理。这意味着 JavaScript（更具体地说，是你网页浏览器中的 JavaScript 引擎）会为你处理内存分配和释放。你不必在代码中显式释放内存。这个自动过程通常称为垃圾回收。

原理很简单。首先，当你在 JavaScript 代码中创建变量、对象或函数时，会自动分配内存来保存它们。然后，当你在代码中使用这些变量、对象或函数时，就会使用这部分已分配的内存。 

JavaScript 引擎有巧妙的方法来判断内存中的某些内容何时不再需要。通常，如果你的程序无法再访问或使用某段数据，该数据就被视为不再需要。垃圾回收器会定期运行，查找不再需要的内存并释放它，使其可供将来使用。这个过程是自动进行的，这非常好，因为这意味着你不必自己管理内存。 

然而，理解这个概念仍然很重要，因为你有时可能会意外地保留对不再需要的东西的引用，从而阻止垃圾回收器释放那部分内存。例如：

```js
function createLargeArray() {
  let largeArray = new Array(1000000);
  return function() {
    console.log(largeArray.length);
  };
}

let printArrayLength = createLargeArray();
printArrayLength();
```

在这段代码中，即使 `createLargeArray` 运行结束，`largeArray` 也无法被垃圾回收，因为返回的函数仍然可以访问它。这是一个闭包，虽然闭包很有用，但有时会导致比你预期更多的内存使用。你将在后续课程中学习更多关于闭包的内容。

作为初学者，你不需要过多担心内存管理的复杂细节。JavaScript 的自动垃圾回收会为你处理大部分内容。然而，随着你在 JavaScript 旅程中的进步，理解这些概念可以帮助你编写更高效的代码，尤其是在较大应用或资源有限的情况下。 

请记住，良好的编码习惯，比如尽可能避免使用全局变量以及注意你的函数所闭包的内容，可以帮助 JavaScript 引擎更高效地管理内存。

# --questions--

## --text--

在 JavaScript 中，谁主要负责管理内存？

## --answers--

开发者。

### --feedback--

考虑谁或什么处理 JavaScript 中的内存分配和释放。

---

JavaScript 引擎。

---

操作系统。

### --feedback--

考虑谁或什么处理 JavaScript 中的内存分配和释放。

---

网页浏览器。

### --feedback--

考虑谁或什么处理 JavaScript 中的内存分配和释放。

## --video-solution--

2

## --text--

当 JavaScript 自动释放不再需要的内存时，这个进程叫什么？

## --answers--

内存分配。

### --feedback--

该进程涉及“collecting”不再使用的内存。

---

垃圾回收。

---

内存片段化。

### --feedback--

该进程涉及“collecting”不再使用的内存。

---

栈溢出。

### --feedback--

该进程涉及“collecting”不再使用的内存。

## --video-solution--

2

## --text--

以下哪项是 JavaScript 自动内存管理的潜在缺点？

## --answers--

这需要编写更多代码。

### --feedback--

考虑如果垃圾回收器无法识别所有未使用的 `memory` 会发生什么。

---

它有时会保持不再需要的内存分配。

---

它使程序运行更慢。

### --feedback--

考虑如果垃圾回收器无法识别所有未使用的 `memory` 会发生什么。

---

它需要手动内存释放。

### --feedback--

考虑如果垃圾回收器无法识别所有未使用的 `memory` 会发生什么。

## --video-solution--

2
