---
id: 67327195e77b1bd90bdd49d7
title: 當你嘗試對數字和字串進行計算時會發生什麼？
challengeType: 19
dashedName: what-happens-when-you-try-to-do-calculations-with-numbers-and-strings
---

# --interactive--

JavaScript 是一種有時候行為令人驚訝甚至怪異的語言。當你在計算中混合數字和字串時，就會出現這樣的驚喜。你可能會嘗試的第一件事是將數字和字串相加。在 JavaScript 中，`+` 運算子有雙重功能。它同時處理加法和字串串接，字串串接是將兩個字串連接在一起的方法。

當你將 `+` 用於數字和字串時，JavaScript 會決定將它們兩者都視為字串並將它們連接起來。如果你使用 `typeof` 運算子檢查結果的型別，你會看到它確實是字串：

:::interactive_editor

```js
const result = 5 + '10';

console.log(result); // 510
console.log(typeof result); // string
```

:::

如果你交換 `5` 和 `'10'` 的順序，你認為會發生什麼？

:::interactive_editor

```js
const result = '10' + 5;

console.log(result); // 105
console.log(typeof result); // string
```

:::

你可以看到同樣的事情發生了。JavaScript 在 `'10'` 中看到一個字串，在 `5` 中看到一個數字，所以它將數字轉換成字串並將它們串接起來。這稱為型別強制轉換。型別強制轉換是指將一個型別的資料值轉換成另一個型別。

當你嘗試用字串和數字執行其他算術操作，例如減法、乘法或除法時，情況會變得更有趣。在這些情況下，JavaScript 會嘗試先將字串轉換成數字，然後再進行運算－這是另一種型別強制轉換！以下是發生的情況：

:::interactive_editor

```js
const subtractionResult = '10' - 5;
console.log(subtractionResult); // 5
console.log(typeof subtractionResult); // number

const multiplicationResult = '10' * 2;
console.log(multiplicationResult); // 20
console.log(typeof multiplicationResult); // number

const divisionResult = '20' / 2;
console.log(divisionResult); // 10
console.log(typeof divisionResult); // number
```

:::

在上述範例中，JavaScript 成功將字串 `'10'` 或 `'20'` 轉換為數字，然後執行計算。因此，`'10' - 5` 得到 `5`，`'10' * 2` 得到 `20`，而 `'20' / 2` 得到 `10`。

但是如果字串看起來不像數字呢？讓我們看看在那種情況下會發生什麼：

:::interactive_editor

```js
const subtractionResult = 'abc' - 5;
console.log(subtractionResult); // NaN
console.log(typeof subtractionResult); // number

const multiplicationResult = 'abc' * 2;
console.log(multiplicationResult); // NaN
console.log(typeof multiplicationResult); // number

const divisionResult = 'abc' / 2;
console.log(divisionResult); // NaN
console.log(typeof divisionResult); // number
```

:::

在上述範例中，字串 `'abc'` 並不表現有效的數值，因此 JavaScript 無法將它轉換成有意義的數字。當此類轉換失敗時，JavaScript 會傳回 `NaN`，代表「不是數字」。`NaN` 是 `Number` 型別的一個特殊值，用來表述無效或無法表現的數字。

如果你對布林值（`true` 或 `false`）執行算術運算會怎樣？讓我們看看會發生什麼。JavaScript 在數學運算中將布林值視為數字：`true` 變成 `1`，`false` 變成 `0`。

:::interactive_editor

```js
const result1 = true + 1;
console.log(result1); // 2
console.log(typeof result1); // number

const result2 = false + 1;
console.log(result2); // 1
console.log(typeof result2); // number

const result3 = 'Hello' + true;
console.log(result3); // "Hellotrue"
console.log(typeof result3); // string
```

:::

在前兩個範例中，`true + 1` 結果為 `2`，而 `false + 1` 結果為 `1`。在第三個範例中，`'Hello' + true`，JavaScript 將 `true` 轉換為字串並與 `'Hello'` 串接，結果為 `'Hellotrue'`，這是一個字串。

對於 `null` 和 `undefined`，JavaScript 在數學操作中將 `null` 視為 `0`，將 `undefined` 視為 `NaN`：

:::interactive_editor

```js
const result1 = null + 5;
console.log(result1); // 5
console.log(typeof result1); // number

const result2 = undefined + 5;
console.log(result2); // NaN
console.log(typeof result2); // number
```

:::

JavaScript 經常執行型別強制，自動將資料型別如數字、字串和布林值以有時出乎意料的方式轉換。理解這些轉換對於避免錯誤並在你的專案中撰寫強固的程式碼至關重要。

# --questions--

## --text--

當你執行以下程式碼時會發生什麼？

```js
const result = 3 + "19";
```

## --answers--

JavaScript 忽略字串，僅對數字執行操作。

### --feedback--

回想型別強制轉換如何作用於加法操作，以及你如何使用相同的符號來結合字串。

---

當你嘗試在算術運算中混合字串和數字時，JavaScript 會丟出錯誤。

### --feedback--

回想型別強制轉換如何作用於加法操作，以及你如何使用相同的符號來結合字串。

---

JavaScript 將數字 `3` 轉換成字串 `"3"`，串接這兩個字串，並將值 `"319"` 指定給 `result`。

---

JavaScript 將字串 `"19"` 轉換成數字 `19`，執行操作，並將值 `22` 指定給 `result`。

### --feedback--

回想型別強制轉換如何作用於加法操作，以及你如何使用相同的符號來結合字串。

## --video-solution--

3

## --text--

當你執行以下程式碼時會發生什麼？

```js
const result = "6" - 4;
```

## --answers--

轉換失敗且 JavaScript 傳回 `NaN`。

### --feedback--

回想 `subtraction`、`multiplication`、`division` 和其他類型操作的型別強制轉換如何運作。

---

JavaScript 將數字 `4` 轉換成字串 `"4"`，串接這兩個字串，並將值 `"64"` 指定給 `result`。

### --feedback--

回想 `subtraction`、`multiplication`、`division` 和其他類型操作的型別強制轉換如何運作。

---

值 `Infinity` 被指定到 `result`。

### --feedback--

回想 `subtraction`、`multiplication`、`division` 和其他類型操作的型別強制轉換如何運作。

---

JavaScript 將字串 `"6"` 轉換成數字 `6`，執行操作，並將值 `2` 指定給 `result`。

## --video-solution--

4

## --text--

當你在 JavaScript 中對布林值（`true` 或 `false`）執行算術操作時會發生什麼？

## --answers--

JavaScript 會丟出錯誤。

### --feedback--

考慮 JavaScript 在數值背景關係中如何解讀 `true` 和 `false`。

---

JavaScript 忽略布林值，僅對數字執行操作。

### --feedback--

考慮 JavaScript 在數值背景關係中如何解讀 `true` 和 `false`。

---

JavaScript 在算術操作中將 `true` 視為 `1`，將 `false` 視為 `0`。

---

JavaScript 在執行操作行為之前會將布林值轉換為字串。

### --feedback--

考慮 JavaScript 在數值背景關係中如何解讀 `true` 和 `false`。

## --video-solution--

3
