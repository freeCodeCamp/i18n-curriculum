---
id: 672b8f23511adf25646b4236
title: 階層式演算法在高層次上如何運作？
challengeType: 19
dashedName: how-does-the-cascade-algorithm-work-at-a-high-level
---

# --interactive--

階層演算法是瀏覽器用來決定當多個樣式針對同一個元素時，應該套用哪些 CSS 規則的處理程序。它確保根據一組明確定義的規則，使用最適合的樣式。

處理程序從**相關性**開始。瀏覽器首先會篩選所有 CSS 規則，以找出實際套用到該元素的規則。這包括匹配選擇器以及考慮可能生效的媒體查詢。

媒體查詢是一種 CSS 技術，用於根據裝置或視窗的特性（例如其寬度、高度或方向）套用樣式。

接著，演算法會考慮**來源和重要性**。CSS 可以來自不同的來源：瀏覽器的預設樣式（user-agent）、使用者設定的樣式，以及作者（你）撰寫的樣式。

在考慮原始碼後，演算法接著計算每個規則的重要性，並將優先權給予標記為 `!important` 的規則，這些規則會覆寫其他規則，無論其原始碼為何。

在依來源和重要性篩選後，演算法會檢視**特異性**。當來自相同來源和重要性層級的兩條規則同時適用時，將套用特異性較高的規則。

特異性是衡量選擇器標的精確度的指標，較具特異性的選擇器會優先於較一般的選擇器。

最後，如果其他條件都相等，**出現順序** 就會起作用。當兩個規則具有相同的特異性時，會套用在 CSS 中最後出現的那一個。

這就是為什麼你撰寫樣式的順序有時會影響結果的原因。

讓我們來看一個範例。

在 HTML 檔案中，有一個單一的段落元素。然後在 CSS 中，我們有兩個規則，每個規則都標的段落元素。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p>example paragraph</p>
```

```css
p {
  color: blue;
}

p {
  color: green; 
}
```

:::

第一條規則將所有段落元素的文字顏色設為藍色，而第二條規則將所有段落元素的文字顏色設為綠色。

那麼會套用哪個顏色呢？段落元素會套用綠色。

透過考量相關性、來源和重要性、特異性、範圍以及出現順序，Cascade 演算法確保你的 CSS 表現可預測，讓你能設計出更複雜且細緻的網頁。

# --questions--

## --text--

當 Cascade Algorithm 判斷要套用哪些樣式時，第一步是什麼？

## --answers--

它會檢查規則的特異性。

### --feedback--

思考瀏覽器如何決定哪些規則可能適用於一個元素。

---

它會依相關性篩選規則。

---

它會尋找 `!important` 宣告。

### --feedback--

思考瀏覽器如何決定哪些規則可能適用於一個元素。

---

它套用 CSS 中的最後一條規則。

### --feedback--

思考瀏覽器如何決定哪些規則可能適用於一個元素。

## --video-solution--

2

## --text--

如果你嘗試將一組衝突的樣式套用到兩個段落規則，會發生什麼情況？

## --answers--

每個規則的部分樣式將會套用。

### --feedback--

檢查課程結尾處所示範的範例。

---

程式會當機。

### --feedback--

檢查課程結尾處所示範的範例。

---

最後的樣式將會被套用。

---

沒有任何樣式會套用。

### --feedback--

檢查課程結尾處所示範的範例。

## --video-solution--

3

## --text--

以下哪一個因素不會影響 Cascade Algorithm 決定套用哪個 CSS 規則？

## --answers--

選擇器的特異性。

### --feedback--

考慮 Cascade 演算法在解決樣式衝突時所計算的內容。

---

規則的作用範圍接近度。

### --feedback--

考慮 Cascade 演算法在解決樣式衝突時所計算的內容。

---

是否使用了 `!important` 關鍵字。

### --feedback--

考慮 Cascade 演算法在解決樣式衝突時所計算的內容。

---

CSS 規則的 `color` 屬性。

## --video-solution--

4
