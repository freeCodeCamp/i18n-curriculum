---
id: 6732aedd2d92e30923b9bc24
title: 什么是数组解构，它是如何工作的？
challengeType: 19
dashedName: what-is-array-destructuring-and-how-does-it-work
---

# --interactive--

数组解构是 JavaScript 中的一个特性，它允许你从数组中提取值，并将它们直接赋值给单独的变量，从而让代码更简洁、更易读。 它提供了一种方便的语法，用于将数组元素拆包到独立的变量中。

在处理数组和返回多个值的函数时，这种技术尤其有用。 下面是一个使用数组解构的示例：

:::interactive_editor

```js
let fruits = ["apple", "banana", "orange"];

let [first, second, third] = fruits;

console.log(first);  // "apple"
console.log(second); // "banana"
console.log(third);  // "orange"
```

:::

在这个示例中，我们有一个名为 `fruits` 的数组，其中包含三个元素。 通过数组解构，我们把第一个元素赋值给变量 `first`，第二个赋给 `second`，第三个赋给 `third`。 这样就可以很方便地访问数组中的各个元素，而不需要写索引。

如果不使用数组解构，而是通过索引访问每个元素，结果会是这样：

:::interactive_editor

```js
const fruits = ["apple", "banana", "orange"];

const first = fruits[0];
const second = fruits[1];
const third = fruits[2];

console.log(first); // "apple"
console.log(second); // "banana"
console.log(third); // "orange"
```

:::

数组解构还允许你跳过不需要的元素，只需用逗号隔开即可。 例如：

:::interactive_editor

```js
let colors = ["red", "green", "blue", "yellow"];
let [firstColor, , thirdColor] = colors;

console.log(firstColor); // "red"
console.log(thirdColor); // "blue"
```

:::

在这个示例中，我们使用了一个额外的逗号来跳过 `colors` 数组的第二个元素。 这将 `red` 赋值给 `firstColor`，将 `blue` 赋值给 `thirdColor`，有效忽略了 `green`。

数组解构的另一个强大功能是使用默认值。 如果数组中的元素少于要赋值的变量，则可以提供默认值：

:::interactive_editor

```js
let numbers = [1, 2];
let [a, b, c = 3] = numbers;

console.log(a); // 1
console.log(b); // 2
console.log(c); // 3
```

:::

这里，因为 `numbers` 数组没有第三个元素，所以将默认值 `3` 赋值给 `c`。

现在，让我们来讨论剩余语法，即用三个点表示的语法（`...`）。 它允许你将数组中尚未被解构的剩余元素收集到一个新数组中。 具体操作如下：

:::interactive_editor

```js
let fruits = ["apple", "banana", "orange", "mango", "kiwi"];
let [first, second, ...rest] = fruits;

console.log(first);  // "apple"
console.log(second); // "banana"
console.log(rest);   // ["orange", "mango", "kiwi"]
```

:::

在这个例子中，`first` 和 `second` 分别得到前两个元素，`rest` 则收集了 `fruits` 数组剩下的所有元素组成一个新数组。 剩余语法必须放在解构模式的最后。

数组解构是一个强大的功能，可以让你的代码更加简洁、易读。 它在处理数组时非常有用，尤其是需要提取数组中的特定元素时。

# --questions--

## --text--

下面代码的输出是什么？

```js
let numbers = [1, 2, 3, 4, 5];
let [a, , b, ...rest] = numbers;
console.log(a, b, rest);
```

## --answers--

`1 2 [3, 4, 5]`

### --feedback--

注意解构赋值中逗号的位置，并记住其剩余法的作用。

---

`1 3 [4, 5]`

---

`1 2 [4, 5]`

### --feedback--

注意解构赋值中逗号的位置，并记住其剩余法的作用。

---

`1 3 [2, 4, 5]`

### --feedback--

注意解构赋值中逗号的位置，并记住其剩余法的作用。

## --video-solution--

2

## --text--

下面代码的输出是什么？

```js
let colors = ["red", "green", "blue"];
let [primary, secondary, tertiary, quaternary = "yellow"] = colors;
console.log(quaternary);
```

## --answers--

`undefined`

### --feedback--

考虑一下当试图解构的变量数量超过数组中的元素数量时会发生什么，并记住默认值的概念。

---

`null`

### --feedback--

考虑一下当试图解构的变量数量超过数组中的元素数量时会发生什么，并记住默认值的概念。

---

`"yellow"`

---

会报错。

### --feedback--

考虑一下当试图解构的变量数量超过数组中的元素数量时会发生什么，并记住默认值的概念。

## --video-solution--

3

## --text--

下面代码的输出是什么？

```js
let fruits = ["apple", "banana", "orange", "grape"];
let [first, ...rest, last] = fruits;
console.log(first, rest, last);
```

## --answers--

`"apple" ["banana", "orange"] "grape"`

### --feedback--

考虑剩余语法在解构赋值中的位置，并思考这是否是对剩余语法的有效使用。

---

`"apple" ["banana", "orange", "grape"] undefined`

### --feedback--

考虑剩余语法在解构赋值中的位置，并思考这是否是对剩余语法的有效使用。

---

这将产生 `SyntaxError` 错误。

---

`"apple" [] "grape"`

### --feedback--

考虑剩余语法在解构赋值中的位置，并思考这是否是对剩余语法的有效使用。

## --video-solution--

3
