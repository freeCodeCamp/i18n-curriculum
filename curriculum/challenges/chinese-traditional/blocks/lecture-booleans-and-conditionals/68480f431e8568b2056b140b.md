---
id: 68480f431e8568b2056b140b
title: 什麼是 Truthy 和 Falsy 值，以及布林值運算子和短路運算如何運作？
challengeType: 19
dashedName: what-are-truthy-and-falsy-values-and-how-do-boolean-operators-and-short-circuiting-work
---

# --description--

在上一課中，你學會了如何使用比較運算子和條件述語來控制你的程式流程。

雖然那些非常強大，你經常會遇到需要同時比較多個值的情況。這可能導致巢狀條件述語，例如：

```python
is_citizen = True
age = 25

if is_citizen:
    if age >= 18:
        print('You are eligible to vote') # You are eligible to vote
else:
    print('You are not eligible to vote')
```

上述範例會先檢查 `is_citizen` 是否為 `True`。如果是，接著會進入巢狀的 `if` 述語並檢查 `age` 是否大於或相等於 `18`。由於 `age` 大於或相等於 `18`，列印到終端機的訊息將會是 `You are eligible to vote`。如果 `is_citizen` 是 `False`，那麼列印到終端機的訊息將會是 `You are not eligible to vote`。

如果你正在處理更複雜的條件述語，則你可以使用 Python 的 `and`、`or` 和 `not` 運算子。

但在我們深入探討那些運算子之前，先來看看什麼是真值（truthy）和假值（falsy）。

在 Python 中，每個值都有固有的布林值，或在邏輯背景關係中應該被視為 `True` 或 `False` 的內建判斷。許多值被視為 **truthy**，也就是說，它們在邏輯背景關係中會被計算為 `True`。其他則是 **falsy**，意指它們會被計算為 `False`。

以下是一些假值：

- `None`
- `False`
- 整數 `0`
- 浮點數 `0.0`
- 空字串 `""`

其他值像是非零數字和非空字串都是真值。

如果你想檢查一個值是否為真值或假值，你可以使用內建的 `bool()` 函式（程式）。它會明確地將一個值轉換為其布林值等價，並且對真值傳回 `True`，對假值傳回 `False`。以下是一些範例：

```py
print(bool(False)) # False
print(bool(0))  # False
print(bool('')) # False

print(bool(True)) # True
print(bool(1)) # True
print(bool('Hello')) # True
```

既然你已經了解了 truthy 和 falsy 值，我們可以來看看布林運算子，也稱為邏輯運算子或布林運算子。這些是特殊的運算子，允許你結合多個表達式，以在你的程式碼中創建更複雜的決策邏輯。

Python 中有三個布林值運算子：`and`、`or` 和 `not`。

讓我們先來看看 `and` 運算子。

`and` 運算子接受兩個運算元，若第一個運算元為假值，則傳回第一個運算元，否則傳回第二個運算元。兩個運算元皆必須為真值，表達式才會傳回真值。

這裡有一個範例：

```python
is_citizen = True
age = 25

print(is_citizen and age) # 25
```

在上述範例中，數字 25 會被列印到終端機，因為 `and` 運算子會在第一個運算元為 `True` 時評估第二個運算元。`and` 運算子被稱為短路運算子。短路意指 Python 從左到右檢查值，並在確定最終結果後立即停止。

你經常會在 `if` 述語中使用 `and` 來檢查是否符合多個條件。以下是如何將先前的範例重構為使用 `and` 運算子，而非巢狀的 `if` 述語：

```python
is_citizen = True
age = 25

if is_citizen and age >= 18:
    print('You are eligible to vote') # You are eligible to vote
else:
    print('You are not eligible to vote')
```

在上述範例中，`is_citizen` 是 `True`，且 `age >= 18` 評估為 `True`。由於 `and` 運算子的兩個運算元皆為真值，條件 `is_citizen and age >= 18` 評估為 `True`，並執行 `if` 區塊中的 `print` 呼叫。

現在讓我們來看看 `or` 運算子。此運算子會傳回第一個運算元（如果它為真值），否則傳回第二個運算元。若至少有一個運算元為真值，`or` 表達式的結果即為真值。`or` 運算子也被稱為短路運算子。以下是一個範例：

```python
age = 19
is_employed = False

print(age or is_employed) # 19
```

以下程式碼會列印數字 19，因為第一個運算元 `age` 是 `True`。

如果你需要檢查一個或多個表達式是否為 `True`，那麼你可以在條件中使用 `or` 運算子，如下所示：

```python
age = 19
is_student = True

if age < 18 or is_student:
    print('You are eligible for a student discount') # You are eligible for a student discount
else:
    print('You are not eligible for a student discount')
```

在這種情況下，`age < 18` 是 `False`，但 `is_student` 是 `True`。由於至少有一個條件為真，整個 `or` 運算式計算結果為 `True`，並且會列印 `if` 區塊中的折扣訊息。

我們將要看的最後一個運算子是 `not` 運算子，它接受單一運算元並反轉其布林值。它將真值轉換為 `False`，將假值轉換為 `True`。與我們之前看的運算子不同，`not` 總是傳回 `True` 或 `False`。

以下是幾個範例：

```python
print(not '') # True, because empty string is falsy
print(not 'Hello') # False, because non-empty string is truthy
print(not 0) # True, because 0 is falsy
print(not 1) # False, because 1 is truthy
print(not False) # True, because False is falsy
print(not True) # False, because True is truthy
```

在條件判斷中常常使用 `not` 運算子來檢查某事是否不是 `True` 或 `False`，像這樣：

```python
is_admin = False

if not is_admin:
    print('Access denied for non-administrators.') # Access denied for non-administrators.
else:
    print('Welcome, Administrator!')
```

由於 `is_admin` 是 `False`，所以 `not is_admin` 表示不是 `False`，也就是 `True`。因此會列印訊息 `Access denied for non-administrators.`。

既然你了解了 truthy 和 falsy 值、`and`、`or` 和 `not` 運算子，以及短路運算的運作方式，你就能撰寫更靈活且易讀的條件邏輯。

# --questions--

## --text--

以下 `code` 會輸出什麼？

```python
age = 20
has_ticket = True

if age >= 18 and has_ticket:
    print("You can watch the movie.")
else:
    print("You can't watch the movie.")
```

## --answers--

`You can watch the movie.`

---

`SyntaxError`

### --feedback--

記住當兩個條件皆為 `True` 時會發生什麼。

---

`TypeError`

### --feedback--

記住當兩個條件皆為 `True` 時會發生什麼。

---

`You can't watch the movie.`

### --feedback--

記住當兩個條件皆為 `True` 時會發生什麼。

## --video-solution--

1

## --text--

以下哪一項不被視為 Python 中的假值？

## --answers--

`""`

### --feedback--

請記住，非空字串被視為真值。

---

`0.0`

### --feedback--

請記住，非空字串被視為真值。

---

`"False"`

---

`0`

### --feedback--

請記住，非空字串被視為真值。

## --video-solution--

3

## --text--

當 Python 評估 `x or y` 運算式時會發生什麼？

## --answers--

只有當 `x` 和 `y` 都評估為 `True` 時，才傳回 `x`

### --feedback--

思考「短路評估」以及 Python 何時可能不需要檢查第二個值。

---

如果 `x` 評估為 `True`，則傳回 `x`，並跳過評估 `y`。

---

它總是會評估 `x` 和 `y`，不論它們的值為何。

### --feedback--

思考「短路評估」以及 Python 何時可能不需要檢查第二個值。

---

如果 `x` 或 `y` 是 `False`，它會傳回 `False`

### --feedback--

思考「短路評估」以及 Python 何時可能不需要檢查第二個值。

## --video-solution--

2
