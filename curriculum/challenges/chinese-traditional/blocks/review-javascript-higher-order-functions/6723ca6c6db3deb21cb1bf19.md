---
id: 6723ca6c6db3deb21cb1bf19
title: JavaScript 高階函式（程式）複習
challengeType: 31
dashedName: review-javascript-higher-order-functions
---

# --interactive--

## 回呼函式與 `forEach` 方法

- **定義**：在 JavaScript 中，回呼函式是作為引數傳遞給另一個函式，並在主要函式完成執行後執行的函式。
- **`forEach()` 方法**：此方法用於迭代陣列中的每個元素，並對每個元素執行操作。`forEach` 中的回呼函式最多可接受三個引數：目前的元素、目前元素的索引，以及呼叫 `forEach` 的陣列。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];

// Result: 2 4 6 8 10
numbers.forEach((number) => {
  console.log(number * 2);
});
```

:::

## 高階函式（函數）

- **定義**：高階函式（程式）會將一個或多個函式（程式）作為引數，並傳回一個函式（程式）或值作為結果。

:::interactive_editor

```js
function operateOnArray(arr, operation) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    result.push(operation(arr[i]));
  }
  return result;
}

function double(x) {
  return x * 2;
}

const numbers = [1, 2, 3, 4, 5];
const doubledNumbers = operateOnArray(numbers, double);
console.log(doubledNumbers); // [2, 4, 6, 8, 10]
```

:::

- **`map()` 方法**：此方法用於透過將指定的函式應用到原始陣列的每個元素來創建一個新的陣列。回呼函式最多可以接受三個引數：目前的元素、目前元素的索引，以及呼叫 `map` 的陣列。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((num) => num * 2);

console.log(numbers); // [1, 2, 3, 4, 5]
console.log(doubled); // [2, 4, 6, 8, 10]
```

:::

- **`filter()` 方法**：此方法用於創建一個包含通過指定測試的元素的新陣列，使其在根據條件選擇性提取項目時非常有用。就像 `map` 方法一樣，`filter` 方法的回呼函式接受相同的三個引數：當前正在處理的元素、索引和陣列。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const evenNumbers = numbers.filter((num) => num % 2 === 0);

console.log(evenNumbers); // [2, 4, 6, 8, 10]
```

:::

- **`reduce()` 方法**：此方法用於處理陣列並將其縮減為單一值。此單一值可以是數字、字串、物件，甚至是另一個陣列。`reduce()` 方法透過對陣列中的每個元素依序套用函式來運作，並將每次計算的結果傳遞給下一次。此函式通常稱為 reducer 函式。reducer 函式接受兩個主要參數：累加器和當前值。累加器是你用來儲存操作結果的變數，而當前值是正在處理的陣列元素。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce(
  (accumulator, currentValue) => accumulator + currentValue,
  0
);

console.log(sum); // 15
```

:::

## 方法串鏈

- **定義**：串鏈方法是一種程式設計技巧，允許你在同一行 `code` 中對同一個物件呼叫多個方法。當你對同一個物件執行一連串操作時，這種技巧可以讓你的程式碼更具可讀性且更簡潔。

:::interactive_editor

```js
const result = "  Hello, World!  "
  .trim()
  .toLowerCase()
  .replace("world", "JavaScript");

console.log(result); // "hello, JavaScript!"
```

:::

## 使用 `sort` 方法

- **定義**：`sort` 方法用於排序陣列的元素並傳回排序後陣列的引用。此情況下不會製作複本，因為元素是在原地排序。

:::interactive_editor

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.sort();

console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
```

:::

如果你需要排序數字，則你需要傳入一個比較函式。`sort` 方法會將元素轉換成字串，然後比較它們的 UTF-16 程式碼單元值序列。UTF-16 程式碼單元是表述字串中字元的數值。UTF-16 程式碼單元的範例是數字 65、66 和 67，分別表述字元 "A"、"B" 和 "C"。因此，數字 200 會出現在數字 3 之前，因為在比較它們的 UTF-16 程式碼單元時，字串 "200" 會出現在字串 "3" 之前。

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];

numbers.sort((a, b) => a - b);

console.log(numbers); // [3, 5, 10, 200, 414]
```

:::

參數 `a` 和 `b` 是被比較的兩個元素。比較函式應該在 `a` 應該排在 `b` 之前時傳回負值，`a` 應該排在 `b` 之後時傳回正值，且當 `a` 和 `b` 相等時傳回零。

## 使用 `every` 和 `some` 方法

- **`every()` 方法**：此方法會測試陣列中所有元素是否通過由提供的函式實作的測試。若提供的函式對陣列中所有元素皆傳回 `true`，`every()` 方法會傳回 `true`。若有任何元素未通過測試，該方法會立即傳回 `false` 並停止檢查剩餘的元素。

:::interactive_editor

```js
const numbers = [2, 4, 6, 8, 10];
const hasAllEvenNumbers = numbers.every((num) => num % 2 === 0);

console.log(hasAllEvenNumbers); // true
```

:::

- **`some()` 方法**：此方法會檢查是否至少有一個元素通過測試。`some()` 方法在找到通過測試的元素後立即傳回 `true`。如果沒有元素通過測試，則傳回 `false`。

:::interactive_editor

```js
const numbers = [1, 3, 5, 7, 8, 9];
const hasSomeEvenNumbers = numbers.some((num) => num % 2 === 0);

console.log(hasSomeEvenNumbers); // true
```

:::

# --assignment--

檢視 JavaScript 高階函式（Higher Order Functions）的主題和概念。
