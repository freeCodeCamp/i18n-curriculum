---
id: 6839b3295323f563efc68f5c
title: 增強指派如何運作？
challengeType: 19
dashedName: how-do-augmented-assignments-work
---

# --description--

增強指派將二進位操作與指派合併為一步驟。它取得一個變數，對它與另一個值執行操作，並將結果存回同一個變數。

如果你熟悉像 JavaScript 這樣的語言，你可能聽過加法指定運算子（`+=`）或減法指定運算子（`-=`）等。這些在 Python 中也存在。唯一的差別是它們被稱為**增強指派**。

增強指派的基本語法如下：

```python
variable <operator>= value
```

哪一種是更高效的做法：

```python
variable = variable <operator> value
```

例如，這裡有一個使用增強指派將 `5` 加到現有變數的範例：

```python
my_var = 10
my_var += 5

print(my_var) # 15
```

這裡是相同的內容，但沒有使用增強指派：

```python
my_var = 10
my_var = my_var + 5

print(my_var) # 15
```

增強指派的優點是它提供了一種簡潔且易讀的方式來更新變數值，而不需重複變數名稱。反過來，這減少了冗餘以及可能因打字錯誤或類似情況而產生的潛在錯誤。

每個運算子都可以使用增強指派。我們已經看過加法指派運算子（`+=`），現在來看看其他的。

- 減法指定運算子（`-=`）會從左邊的變數中減去右邊的運算元，並將差值存回左邊的變數：

```python
count = 14
count -= 3

print(count) # 11
```

- 乘法指定運算子（`*=`）將左邊的變數乘以右邊的運算元，並將乘積存回左邊的變數：
    

```python
product = 65
product *= 7

print(product) # 455
```

- 除法指定運算子（`/=`）將左邊的變數除以右邊，並將結果存回左邊的變數：
    

```python
price = 100
price /= 4

print(price) # 25.0
```

- 地板除法運算子 (`//=`) 將左邊的變數以右邊的值做地板除法，並將結果存回左邊的變數：
    

```python
total_pages = 23
total_pages //= 5

print(total_pages) # 4
```

- 取模指定運算子（`%=`）計算左邊變數除以右邊的餘數，並將結果存回左邊變數：
    

```python
bits = 35
bits %= 2

print(bits) # 1
```

- 指數指定運算子（`**=`）將左邊的變數提升到右邊的次方，並將結果存回左邊的變數：
    

```python
power = 2
power **= 3

print(power) # 8
```

你也可以對字串使用一些擴充指派運算子。<dfn>例如</dfn>，加法指派運算子讓串接字串變得簡單：

```python
greet = 'Hello'
greet += ' World'

print(greet) # Hello World
```

而乘法指定運算子可以用來重複字串：

```python
greet = 'Hello'
greet *= 3

print(greet) # HelloHelloHello
```

當你將其他增強指派用於字串時，會丟出 `TypeError`：

```python
greet = 'Hello'
greet -= ' World'

print(greet) # TypeError: unsupported operand type(s) for -=: 'str' and 'str'


greet = 'Hello'
greet /= 'World'

print(greet) # TypeError: unsupported operand type(s) for /=: 'str' and 'str' 
```

如果你想知道遞增和遞減運算子（`++` 和 `--`）是否在 Python 中有效，答案是否定的。那是因為 Python 有意避免 C 風格的遞增和遞減捷徑，以保持語言的清晰和明確。

你可以直接寫 `x += 1`，而不是 `x++`，這樣可以明顯看出你正在將 `x` 的值增加 1。

在 Python 中寫 `++x` 只是將一元加號應用兩次，並不會遞增任何東西：

```python
my_var = 5

print(+my_var)   # 5
print(++my_var)  # 5
print(+++my_var) # 5

my_var += 1

print(my_var) # 6
```

# --questions--

## --text--

使用增強指定運算子的主要優點是什麼？

## --answers--

它們會自動轉換資料型別。

### --feedback--

思考增強指派如何幫助避免重複並減少輸入錯誤。

---

它們防止所有可能的語法錯誤。

### --feedback--

思考增強指派如何幫助避免重複並減少輸入錯誤。

---

它們提供了一種簡潔的方式來更新變數，而不必重複變數名稱。

---

它們使數學操作更快。

### --feedback--

思考增強指派如何幫助避免重複並減少輸入錯誤。

## --video-solution--

3

## --text--

當你在 Python 中使用遞增（`++`）和遞減（`--`）運算子時會發生什麼？

## --answers--

它們的運作方式與 C/C++ 完全相同。

### --feedback--

思考 Python 如何避免 C 風格的遞增和遞減運算子。

---

它們會導致語法錯誤並使程式當機。

### --feedback--

思考 Python 如何避免 C 風格的遞增和遞減運算子。

---

它們被解釋為雙重一元運算子，實際上沒有遞增／遞減。

---

它們只在 Python 2 中有效，但在 Python 3 中已被移除。

### --feedback--

思考 Python 如何避免 C 風格的遞增和遞減運算子。

## --video-solution--

3

## --text--

哪一個增強指派運算子會將變數提升為次方並將結果存回該變數？

## --answers--

`^=`

### --feedback--

想想使用與冪次運算子相同符號的運算子。

---

`**=`

---

`*=`

### --feedback--

想想使用與冪次運算子相同符號的運算子。

---

`^^=`

### --feedback--

想想使用與冪次運算子相同符號的運算子。

## --video-solution--

2
