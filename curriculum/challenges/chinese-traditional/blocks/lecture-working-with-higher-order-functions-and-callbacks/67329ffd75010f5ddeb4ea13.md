---
id: 67329ffd75010f5ddeb4ea13
title: 什麼是回呼函式（callback function），以及它如何與 `forEach` 方法一起運作？
challengeType: 19
dashedName: what-is-a-callback-function-and-how-does-it-work-with-the-foreach-method
---

# --interactive--

在 JavaScript 中，回呼函式是作為引數傳遞給另一個函式的函式，讓外層函式能在特定時點喚起它。

這個概念是理解 JavaScript 許多面向的基礎，包括 `forEach` 方法的運作方式。

讓我們先在簡單的背景關係中了解什麼是回呼函式（程式）。

假設你有一個函式（程式），並且在該函式（程式）內你想要多次執行某件事。與其將所有程式碼寫在一個大型函式（程式）中，不如傳遞第二個函式（回呼）以便在你需要執行該特定事情時呼叫。這樣可以讓程式碼更具彈性和模組化。

現在，讓我們介紹 `forEach` 方法。`forEach` 是 JavaScript 中陣列的內建方法。它允許你對陣列中的每個元素進行迭代，並對每個元素執行一個操作。你想執行的操作是定義在你提供給 `forEach` 的回呼函式（callback）中。

以下是 `forEach` 如何與回呼函式（callback function）一起運作的範例：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];

numbers.forEach(function(number) {
  console.log(number * 2);
});
```

:::

在這個範例中，我們有一個數字陣列。我們在這個陣列上使用 `forEach` 方法，並將一個回呼函式作為引數提供給 `forEach`。

這個回呼函式帶有一個參數，該參數表述陣列中的每個元素。`forEach` 方法會對陣列中的每個元素呼叫這個回呼函式一次。

此情況下的回呼函式會將每個數字乘以 `2` 並記錄結果。因此，當這段程式碼執行時，將會輸出：

```md
2
4
6
8
10
```

重要的是要了解回呼函式會依序對陣列中的每個元素呼叫一次。`forEach` 會為你處理迴圈，因此你不必自己撰寫 `for` 迴圈。

你也可以使用箭頭函式作為回呼，這可以讓你的程式碼更加簡潔：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];
numbers.forEach(number => console.log(number * 2));
```

:::

這與前一個範例完全相同，但使用較少的程式碼。

`forEach` 中的回呼函式實際上最多可以接受三個引數：目前的元素、目前元素的索引，以及 `forEach` 被呼叫的陣列。

這裡有一個使用全部三個的範例：

:::interactive_editor

```js
let numbers = [1, 2, 3, 4, 5];
numbers.forEach((number, index, array) => {
  console.log(`Element ${number} is at index ${index} in array ${array}`);
});
```

:::

這會記錄每個元素、其索引和原始陣列的資訊。

理解回呼函式（程式）和像 `forEach` 這樣的方法對你在 JavaScript 的進展非常重要。它們構成語言中許多進階概念的基礎，特別是在你未來課程中將會學習的非同步程式設計。

# --questions--

## --text--

在 JavaScript 中，回呼函式的主要目的是什麼？

## --answers--

創建一個新的陣列。

### --feedback--

思考為什麼我們可能想將一個函式作為引數傳遞給另一個函式。

---

允許函式（程式）在稍後時間執行另一段程式碼。

---

定義一個新的變數。

### --feedback--

思考為什麼我們可能想將一個函式作為引數傳遞給另一個函式。

---

要取代 `for` 迴圈。

### --feedback--

思考為什麼我們可能想將一個函式作為引數傳遞給另一個函式。

## --video-solution--

2

## --text--

`forEach` 中的回呼函式會被呼叫多少次？

## --answers--

一次。

### --feedback--

考慮 `forEach` 如何迭代陣列。

---

兩次。

### --feedback--

考慮 `forEach` 如何迭代陣列。

---

對陣列中的每個元素執行一次。

---

這取決於陣列的大小。

### --feedback--

考慮 `forEach` 如何迭代陣列。

## --video-solution--

3

## --text--

以下哪一項不是可以傳遞給 `forEach` 中回呼函式的參數？

## --answers--

目前的元素。

### --feedback--

請記住我們提到的 `forEach` 可以提供給其回呼的三個參數。

---

目前元素的索引。

### --feedback--

請記住我們提到的 `forEach` 可以提供給其回呼的三個參數。

---

對 `array` 呼叫了 `forEach`。

### --feedback--

請記住我們提到的 `forEach` 可以提供給其回呼的三個參數。

---

陣列的長度。

## --video-solution--

4
