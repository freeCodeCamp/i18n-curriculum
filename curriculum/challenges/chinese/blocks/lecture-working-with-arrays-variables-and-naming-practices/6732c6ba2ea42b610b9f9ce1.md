---
id: 6732c6ba2ea42b610b9f9ce1
title: 如何获取数组的长度，以及如何创建固定长度的空数组？
challengeType: 19
dashedName: how-do-you-get-the-length-for-an-array-and-how-can-you-create-an-empty-array-of-fixed-length
---

# --description--

在之前的课程中，你首先接触了 `length` 属性，该属性返回数组中的元素数量。这里快速提醒一下它的工作原理：

```js
const fruits = ['apple', 'banana', 'orange'];
console.log(fruits.length); // 3
```

数组中可能存在空槽。空槽被定义为其中没有任何内容的槽。这不同于值为 `undefined` 的数组。这类数组被称为稀疏数组。以下是一个示例：

```js
const sparseArray = [1, , , 4];
console.log(sparseArray.length); // 4
```

在这个分支中，尽管我们只定义了两个元素，`1` 和 `4`，长度仍然是 `4`，因为最高索引（`3`）加上 `1` 得到长度为 `4`。 

现在让我们讨论如何创建一个固定长度的空数组。在 JavaScript 中有几种方法可以做到这一点，但一种常见的方法是使用带有数字参数的 `Array()` 构造函数。`Array()` 构造函数可以与 `new` 关键字一起使用来新建一个数组。下面是一个示例：

```js
const emptyArray = new Array(5);
console.log(emptyArray.length); // 5
console.log(emptyArray); // [ , , , , ]
```

在此示例中，我们使用 `Array(5)` 创建一个新数组。 这会创建一个长度为 `5` 的稀疏数组，其中所有槽都是空的。 

另一种创建固定长度空数组的方法是使用带有长度参数的 `Array.from()` 方法。与 `new Array(n)` 不同，此方法创建一个指定长度的数组，其中所有元素都存在且值为 `undefined`： 

```js
const fixedLengthArray = Array.from({ length: 5 });
console.log(fixedLengthArray.length); // 5
console.log(fixedLengthArray); // [undefined, undefined, undefined, undefined, undefined]
```

如果你想创建一个特定长度的数组并用默认值填充它，你可以使用 `Array.fill()` 方法： 

```js
const filledArray = new Array(3).fill(0);
console.log(filledArray); // [0, 0, 0]
```

这会创建一个长度为 3 的数组，并将所有元素填充为值 `0`。注意：当填充对象时，所有槽引用相同的对象；如果你需要独立的副本，请改用回调或 `Array.from()`。

理解如何获取数组的长度以及创建固定长度的数组对于许多编程任务非常重要，尤其是在你需要为特定算法或数据结构初始化数组时。

# --questions--

## --text--

下面代码的输出是什么？

```js
let arr = [1, 2, 3, , 5];
console.log(arr.length);
```

## --answers--

`4`

### --feedback--

请记住，`length` 属性返回最高的数字索引加一，即使存在空槽。

---

`5`

---

`3`

### --feedback--

请记住，`length` 属性返回最高的数字索引加一，即使存在空槽。

---

会报错。

### --feedback--

请记住，`length` 属性返回最高的数字索引加一，即使存在空槽。

## --video-solution--

2

## --text--

以下哪种方式是创建稀疏数组的方法？

## --answers--

`new Array(5)`

---

`Array.from({ length: 5 })`

### --feedback--

查看课程中间部分以获取答案。

---

`new Array(5).fill(undefined)`

### --feedback--

查看课程中间部分以获取答案。

---

`[1, 2, 3, 4, 5]`

### --feedback--

查看课程中间部分以获取答案。

## --video-solution--

1

## --text--

下面代码的输出是什么？

```js
let arr = new Array(3).fill(1);
console.log(arr);
```

## --answers--

`[1, 1, 1]`

---

`[3]`

### --feedback--

`fill()` 方法用静态值填充数组的所有元素。

---

`[undefined, undefined, undefined]`

### --feedback--

`fill()` 方法用静态值填充数组的所有元素。

---

`[<3 empty items>]`

### --feedback--

`fill()` 方法用静态值填充数组的所有元素。

## --video-solution--

1
