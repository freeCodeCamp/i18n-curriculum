---
id: 5900f46d1000cf542c50ff7f
title: '问题255：圆角平方根'
challengeType: 1
forumTopicId: 301903
dashedName: problem-255-rounded-square-roots
---

# --description--

我们定义正整数 $n$ 的四舍五入平方根为 $n$ 的平方根四舍五入到最接近的整数。

以下过程（本质上是适用于整数算术的海伦方法）查找 $n$ 的四舍五入平方根：

设 $d$ 为数字 $n$ 的位数。

如果 $d$ 是奇数，设置 $x_0 = 2 × {10}^{\frac{d - 1}{2}}$。

如果 $d$ 是偶数，设置 $x_0 = 7 × {10}^{\frac{d - 2}{2}}$。

重复：

$$x_{k + 1} = \left\lfloor\frac{x_k + \left\lceil\frac{n}{x_k}\right\rceil}{2}\right\rfloor$$

直到 $x_{k + 1} = x_k$。

作为示例，让我们查找 $n = 4321$ 的四舍五入平方根。

$n$ 有 4 位数，所以 $x_0 = 7 × {10}^{\frac{4-2}{2}} = 70$。

$$x_1 = \left\lfloor\frac{70 + \left\lceil\frac{4321}{70}\right\rceil}{2}\right\rfloor = 66 \\\\
x_2 = \left\lfloor\frac{66 + \left\lceil\frac{4321}{66}\right\rceil}{2}\right\rfloor = 66$$

由于 $x_2 = x_1$，我们在此停止。因此，仅经过两次迭代，我们就发现 4321 的四舍五入平方根是 66（实际平方根是 65.7343137…）。

使用此方法所需的迭代次数出乎意料地少。例如，我们可以用平均 3.2102888889 次迭代（平均值四舍五入到 10 位小数）查找一个 5 位整数（`$10\\,000 ≤ n ≤ 99\\,999$`）的四舍五入平方根。

使用上述描述的过程，查找一个 14 位数（`${10}^{13} ≤ n < {10}^{14}`）的四舍五入平方根所需的平均迭代次数是多少？请将你的答案四舍五入到 10 位小数。

**注意：** 符号 $⌊x⌋$ 和 $⌈x⌉$ 分别表现为向下取整函数和向上取整函数。

# --hints--

`roundedSquareRoots()` 应该返回 `4.447401118`。

```js
assert.strictEqual(roundedSquareRoots(), 4.447401118);
```

# --seed--

## --seed-contents--

```js
function roundedSquareRoots() {

  return true;
}

roundedSquareRoots();
```

# --solutions--

```js
// solution required
```
