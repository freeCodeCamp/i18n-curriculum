---
id: 673284e7244c0c1a649121b9
title: 编程中的作用域是什么，全局作用域、局部作用域和块级作用域是如何工作的？
challengeType: 19
dashedName: what-is-scope-in-programming-and-how-does-global-local-and-block-scope-work
---

# --interactive--

编程中的作用域指的是变量在代码不同部分的可见性和可访问性。 它决定了变量可以被访问或修改的位置。 在 JavaScript 中，理解作用域对于编写简洁、高效和无错误的代码至关重要。 主要有三种作用域：全局作用域、局部作用域和块级作用域。

全局作用域是 JavaScript 程序中最外层的作用域。 在全局作用域中声明的变量可以在代码的任何地方访问，包括在函数和代码块中。 这些变量通常被称为全局变量。 虽然全局变量很方便，但应尽量少用，因为它们会导致命名冲突，使代码更难维护。 下面是一个全局变量的例子：

:::interactive_editor

```js
let globalVar = "I'm a global variable";

function printGlobalVar() {
    console.log(globalVar);
}

printGlobalVar(); // "I'm a global variable"
```

:::

在此示例中，`globalVar` 是在全局作用域中声明的，并可在 `printGlobalVar` 函数中访问。

局部作用域则是指只能在函数内部访问的变量。 下面是一个局部作用域的例子：

:::interactive_editor

```js
function greet() {
    let message = "Hello, local scope!";
    console.log(message);
}

greet(); // "Hello, local scope!"
// console.log(message); // This will throw an error
```

:::

在这段代码中，`message` 是 `greet` 函数中的一个局部变量。 它可以在函数内部使用，但试图在函数外部访问它将导致错误。

块级作用域是 ES6 中随着 `let` 和 `const` 关键字引入的概念。 代码块是大括号 `{}` 内的任何代码段，如在 `if` 语句、`for` 循环或 `while` 循环中。  The concept of loops will be taught in an upcoming lesson. 

在代码块内用 `let` 或 `const` 声明的变量只能在该代码块内访问。 下面是一个块级作用域的示例：

```js
if (true) {
    let blockVar = "I'm in a block";
    console.log(blockVar); // "I'm in a block"
}
console.log(blockVar); // This will throw an error
```

在此示例中，`blockVar` 只能在 `if` 代码块中访问。 尝试在块外访问它将导致错误。 了解这些不同类型的作用域对于管理变量的可访问性和避免代码中出现意外的副作用至关重要。 

应尽量少用全局变量，因为它们会导致命名冲突，使代码更难维护。 局部变量有助于隔离代码的不同部分，这在大型程序中尤其有用。 使用 `let` 和 `const` 的块级作用域可对变量的可访问性进行更精细的控制，有助于防止错误并使代码更具可预测性。 掌握全局、局部和块级作用域的这些基本概念，将为理解更高级的主题打下坚实的基础。

# --questions--

## --text--

下面代码的输出是什么？

```js
let x = 10;

function printX() {
    let x = 20;
    console.log(x);
}

printX();
console.log(x);
```

## --answers--

`20`、`20`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

---

`20`、`10`

---

`10`、`10`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

---

`10`、`20`

### --feedback--

考虑局部作用域如何在函数中工作，以及它如何与全局作用域中的变量交互。

## --video-solution--

2

## --text--

在以下代码中，如果尝试在代码块外访问 `blockVar` 会有什么结果？

```js
if (true) {
    let blockVar = "Hello";
}
console.log(blockVar);
```

## --answers--

它将打印 `"Hello"` 。

### --feedback--

请记住使用 `let` 声明的变量的块级作用域是如何工作的。

---

它将打印 `undefined`。

### --feedback--

请记住使用 `let` 声明的变量的块级作用域是如何工作的。

---

它将引发 `ReferenceError` 错误。

---

它将打印 `null`。

### --feedback--

请记住使用 `let` 声明的变量的块级作用域是如何工作的。

## --video-solution--

3

## --text--

以下哪项能正确描述在脚本顶层（任何函数或代码块之外）用 `let` 声明的变量的作用域？

## --answers--

函数作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

---

块级作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

---

全局作用域。

---

局部作用域。

### --feedback--

想一想，在脚本顶层声明的变量在哪里可以访问。

## --video-solution--

3
