---
id: 6733b0451d6be0065430b418
title: 什么是函数式编程？
challengeType: 19
dashedName: what-is-functional-programming
---

# --interactive--

函数式编程是关于编写干净、可预测且更易于测试和调试的代码。我们今天将探讨的两个关键概念是纯函数和避免副作用。

让我们从纯函数开始。 

纯函数是指在给定相同 `input` 时，总是返回相同输出且不会修改自身之外任何内容的函数。

这是一个纯函数的示例：

```js
function add(a, b) {
  return a + b;
}
```

这个函数是纯函数，因为它总是为相同的输入返回相同的结果，并且它不会改变自身之外的任何东西。无论你调用多少次 `add(2, 3)`，它总是返回 `5`，并且不会影响程序的任何其他部分。

现在，让我们将其与一个非纯函数进行对比：

```js
let total = 0;
function addToTotal(value) {
  total += value;
  return total;
}
```

这个函数是不纯的，因为它修改了自身外部的变量（`total`）。`addToTotal(5)` 的结果会根据函数调用前 `total` 的值而不同。这种不可预测性会使我们的代码更难理解和调试。

这将我们带入下一个重要的概念，那就是副作用。

副作用是指在调用函数时程序状态中发生的任何变化。这可能包括修改全局变量、写入文件或进行 API 调用。

纯函数没有副作用，但非纯函数有这些副作用。

避免副作用是函数式编程的一个关键原则。当我们最小化副作用时，我们的代码变得更可预测且更易于测试。 

在编写代码时，我们的主要目标应该是让函数只做一件事，并且非常好地完成这件事，而不改变我们程序的其他部分。

这是一个带有副作用的函数示例：

:::interactive_editor

```js
function greet(name) {
  console.log(`Hello, ${name}!`);
}

greet("Alice");
```

:::

这个函数有副作用，因为它通过向控制台记录日志与外部世界交互。 

在函数式编程中，我们可能会将其重写为：

:::interactive_editor

```js
function greet(name) {
  return `Hello, ${name}!`;
}
console.log(greet("Alice"));
```

:::

现在 `greet` 是一个纯函数，仅仅返回一个字串，我们单独处理副作用（向控制台记录日志）。

函数式编程鼓励我们通过将代码拆分成小且可预测的部分，使用纯函数来组合我们的程序。这样，我们就可以构建更易于理解、测试和维护的程序。

# --questions--

## --text--

纯函数的一个关键特征是什么？

## --answers--

它总是修改全局的状态。

### --feedback--

考虑我们关于纯函数可预测性的讨论。

---

它对相同的 `input` 产生不同的输出。

### --feedback--

考虑我们关于纯函数可预测性的讨论。

---

对于相同的 `输入`，它总是产生相同的输出。

---

它总是执行 I/O 操作。

### --feedback--

考虑我们关于纯函数可预测性的讨论。

## --video-solution--

3

## --text--

在函数式编程中，以下哪项被认为是副作用？

## --answers--

从函数返回一个值。

---

在函数内新建一个对象。

### --feedback--

回忆我们讨论过的函数与其外部环境交互的内容。

---

修改一个全局的变量。

---

在函数内使用局部变量。

### --feedback--

回忆我们讨论过的函数与其外部环境交互的内容。

## --video-solution--

3

## --text--

在函数式编程中避免副作用的好处是什么？

## --answers--

它使代码运行得更快。

### --feedback--

考虑我们关于无副作用代码的可预测性和可测试性所说的内容。

---

它减少了所需的代码量。

### --feedback--

考虑我们关于无副作用代码的可预测性和可测试性所说的内容。

---

它使代码更易于理解和测试。

---

它完全消除了对函数的需求。

### --feedback--

考虑我们关于无副作用代码的可预测性和可测试性所说的内容。

## --video-solution--

3
