---
id: 67d311627010a0efa127b651
title: React 中的路由是如何工作的？
challengeType: 19
dashedName: how-does-routing-work-in-react
---

# --description--

在之前的课程中，你学习了 React 是一个单页应用。单页应用是包含一个 `HTML` 文件并使用 `JavaScript` 动态更新页面上任何内容的应用。

那么当你需要为你的 React 应用添加多个“页面”时会发生什么？你将如何导航到那些不同的视图？

好吧，这就是 React Router 派上用场的地方。

React Router 是一个第三方库，允许你为你的 React 应用添加路由。要开始，你需要在现有的 React 项目中安装 React Router，方法如下：

```sh
npm i react-router
```

如果你查看 `package.json` 文件，你会看到 `react-router` 被添加到了依赖列表中：

```json
"dependencies": {
  "react": "^18.3.1",
  "react-dom": "^18.3.1",
  "react-router": "^7.2.0"
}
```

然后在你的 `main.jsx` 或 `index.jsx` 文件中，你需要导入 `BrowserRouter` 并将 `BrowserRouter` 包裹在你的 `App` 组件周围进行渲染：

```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter } from "react-router";
import App from "./App.jsx";

import "./index.css";

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </StrictMode>
);
```

要在你的应用中启用路由，你需要更新你的 `import` 语句以包含 `Routes` 和 `Route` 组件，如下所示：

```js
import { BrowserRouter, Routes, Route } from "react-router";
```

然后在 `BrowserRouter` 内，添加 `Routes` 和 `Route` 组件：

```jsx
createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<App />} />
      </Routes>
    </BrowserRouter>
  </StrictMode>
);
```

`path` 和 `element` 用于将 URL 和 UI 组件绑定在一起。在这个分支中，我们正在为指向 `App` 组件的主页设置路由。

在较大的应用中，通常会像这样设置多个视图和路由：

```jsx
<Routes>
  <Route index element={<Home />} />
  <Route path="about" element={<About />} />

  <Route path="products">
    <Route index element={<ProductsHome />} />
    <Route path=":category" element={<Category />} />
    <Route path=":category/:productId" element={<ProductDetail />} />
    <Route path="trending" element={<Trending />} />
  </Route>
</Routes>
```

这些示例中的 `index` 属性用于表现给定路径段的默认路由。所以 `Home` 组件将在根路径（`/`）显示，而 `ProductsHome` 组件将在 `products` 路径显示。

你可能还注意到我们正在像这样将几个路由嵌套在另一个路由内：

```jsx
<Route path="products">
  <Route path="trending" element={<Trending />} />
</Route>
```

这意味着子路由的路径将追加到父路由的路径中。所以在这个例子中，热门产品的 `path` 将是 `products/trending`。

如果 `path` 以冒号（`:`）开头，则表示路由中的动态段：

```jsx
<Route path=":category" element={<Category />} />
```

在此示例中，我们有一个名为 `category` 的动态段。当用户导航到类似 `products/brass-instruments` 的 URL 时，视图将切换到 `Category` 组件，你可以根据该段动态获取相应的数据。

你可以在子组件内部使用 `useParams` 钩子来访问动态段的值，方法如下：

```jsx
import { useParams } from "react-router";

export default function Category() {
  let params = useParams();
   {/* Accessing the category param: params.category */}
   {/* rest of code goes here */}
}
```

动态路由很有用，因为它们允许你创建灵活且可重用的组件，能够根据 URL 中的参数渲染不同的内容。你可以使用动态段来根据用户的请求渲染各种内容，而不是为每个可能的路由定义固定的路径列表。

# --questions--

## --text--

React Router 用于什么？

## --answers--

它用于从你的 React 应用中移除动态路由。

### --feedback--

回顾课程开始时讨论的 React Router。

---

它仅用于为你的 React 应用设置静态路由。

### --feedback--

回顾课程开始时讨论的 React Router。

---

它用于从你的 React 应用中移除路由。

### --feedback--

回顾课程开始时讨论的 React Router。

---

它用于为你的 React 应用添加路由。

## --video-solution--

4

## --text--

哪个钩子用于检索 URL 的动态参数？

## --answers--

`usePar`

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

---

`useParams`

---

`useParameters`

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

---

`usePara`

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

## --video-solution--

2

## --text--

以下哪种方式是表现路径中动态段的正确方法？

## --answers--

```jsx
<Route path=":category" element={<Category />} />
```

---

```jsx
<Route path="/category" element={<Category />} />
```

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

---

```jsx
<Route path="\category" element={<Category />} />
```

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

---

```jsx
<Route path="?category" element={<Category />} />
```

### --feedback--

回顾课程中讨论此内容的最后 1 分钟。

## --video-solution--

1
