---
id: 6733ffacd0ad1e49ec2af051
title: 你如何使用 Cookie 来保存通常由 `HTTP` 头部控件的任意数据？
challengeType: 19
dashedName: how-can-you-use-cookies-to-store-arbitrary-data-normally-controlled-by-http-headers
---

# --description--

正如你在之前的课程中学到的，cookies 是网站可以保存在用户设备上的简单数据。

但是，你实际上可以在 cookie 中保存更复杂的数据结构。一种常见的方法是使用 JSON 来保存对象或数组。下面是一个示例：

```js
const userData = {
  name: "John Doe",
  age: 30,
  role: "admin"
};

document.cookie = "userInfo=" + JSON.stringify(userData) + "; path=/";
```

在此示例中，我们创建了一个包含用户数据的对象，将其转换为 JSON 字串，然后将其存储在 cookie 中。当我们想要检索这些数据时，可以使用 `JSON.parse()` 将 JSON 字串解析为对象。

现在，你可能会想知道我们话题中的 `HTTP headers` 方面。通常，cookie 是由服务器通过 `HTTP headers` 设置的。

例如，服务器可能会发送这样的头部：

```http
Set-Cookie: username=John Doe; expires=Thu, 31 Dec 2024 6:00:00 IST; path=/
```

这个头部告诉浏览器设置一个 cookie。 

我们也可以使用 JavaScript 直接在浏览器中设置 cookie。这对于存储不需要立即发送到服务器的数据非常有用。

请注意，cookie 的大小限制约为 4KB，在其中存储过多数据可能会降低你的网页应用的速度。

在 cookie 中存储大量数据会增加网络流量，因为 cookie 会随每个超文本传输协议请求一起发送。

# --questions--

## --text--

设置 cookie 时，`expires` 参数的作用是什么？

## --answers--

它指定哪些页面可以访问该 cookie。

### --feedback--

考虑在经过一定时间后，`cookie` 会发生什么。

---

它设置了 cookie 的最大大小。

### --feedback--

考虑在经过一定时间后，`cookie` 会发生什么。

---

它告诉浏览器何时删除 cookie。

---

它加密了 cookie 数据。

### --feedback--

考虑在经过一定时间后，`cookie` 会发生什么。

## --video-solution--

3

## --text--

你如何在 cookie 中保存像对象这样的复杂数据结构？

## --answers--

对象可以直接保存在 cookies 中。

### --feedback--

考虑可能用于将对象表现为字串的形式。

---

通过将对象转换为 JSON 字串。

---

通过为每个对象属性使用多个 cookie。

### --feedback--

考虑可能用于将对象表现为字串的形式。

---

复杂的 `data structure` 不能保存在 `cookies` 中。

### --feedback--

考虑可能用于将对象表现为字串的形式。

## --video-solution--

2

## --text--

将大量数据存储在 cookies 中的潜在缺点是什么？

## --answers--

它可能会降低你的网页应用的速度。

---

Cookies 有无限的存储容量。

### --feedback--

考虑每次 `HTTP` 请求都会发送 cookie 时会发生什么。

---

它使网站更安全。

### --feedback--

考虑每次 `HTTP` 请求都会发送 cookie 时会发生什么。

---

它提升了服务器性能。

### --feedback--

考虑每次 `HTTP` 请求都会发送 cookie 时会发生什么。

## --video-solution--

1
