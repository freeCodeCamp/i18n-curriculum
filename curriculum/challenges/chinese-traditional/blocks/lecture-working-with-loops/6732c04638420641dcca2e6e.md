---
id: 6732c04638420641dcca2e6e
title: For...of 迴圈如何運作，以及你應該何時使用它？
challengeType: 19
dashedName: how-does-the-for-of-loop-work-and-when-should-you-use-it
---

# --interactive--

當你需要對可迭代物件中的值進行迴圈時，會使用 `for...of` 迴圈。可迭代物件的範例包括陣列和字串。

以下是 `for...of` 迴圈的基本語法：

```js
for (variable of iterable) {
  // code block to be executed
}
```

範例中的變數表述正在被迴圈的可迭代物件的當前值。

如果你有一個數字陣列，變數將會是陣列中目前的數字。如果你有一個字串，變數將會是字串中目前的字元。

讓我們來看幾個範例，這樣你就能更好地理解 `for...of` 迴圈的運作方式。

在這個第一個範例中，我們有一個數字陣列，並且我們想要對每個數字進行迴圈，然後將它記錄到主控台。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
}
```

:::

我們已經創建了一個名為 `num` 的變數，用來表述陣列中目前的數字。在第 1 次迭代中，`num` 將是 `1`，在第 2 次迭代中，`num` 將是 `2`，依此類推。

在迴圈內，我們正在將目前的數字記錄到主控台。

這裡有另一個範例，我們有一個字串，並且想要對每個字元進行迴圈，然後將它記錄到主控台。

:::interactive_editor

```js
const str = 'freeCodeCamp';

for (let char of str) {
  console.log(char);
}
```

:::

在這個範例中，我們已經創建了一個名為 `char` 的變數，用來表述字串中目前的字元。

在每次迴圈中，迴圈會將目前的字元記錄到主控台。

重要的是要注意，你可以在 `for...of` 迴圈中使用 `let` 或 `const` 宣告變數。

如果你打算使用 `const`，請確保該變數的值在迴圈內不會改變。如果改變了，你將會收到錯誤。

這裡是一個使用 `const` 並導致錯誤的範例：

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
  num = num + 1; // This will cause an error
}
```

在這個範例中，我們嘗試在迴圈內改變 `num` 的值。由於我們使用 `const` 宣告了 `num`，所以會出現錯誤。因此，如果你需要在迴圈內改變變數的值，請改用 `let`。

讓我們來看最後一個處理物件陣列的範例。

:::interactive_editor

```js
const people = [
  { name: 'John', age: 30 },
  { name: 'Jane', age: 25 },
  { name: 'Jim', age: 40 }
];

for (const person of people) {
  console.log(`${person.name} is ${person.age} years old`);
}
```

:::

在這個範例中，我們有一個名為 `people` 的物件陣列。每個物件都有 `name` 和 `age` 屬性。

當我們迴圈遍歷陣列時，我們會創建一個名為 `person` 的變數，用來表述陣列中目前的物件。

在迴圈中，我們正在將訊息輸出到主控台。

第一個訊息將會是 `John is 30 years old`，第二個訊息將會是 `Jane is 25 years old`，第三個訊息將會是 `Jim is 40 years old`。

`for...of` 迴圈在你需要對可迭代物件（例如陣列或字串）的值進行迴圈時非常有用。它們也很容易閱讀，並且可以讓你的程式碼更簡潔。

# --questions--

## --text--

以下 `code` 的輸出結果會是什麼？

```js
const colors = ['red', 'green', 'blue'];

for (const color of colors) {
  console.log(color);
}
```

## --answers--

```md
red
green
blue
```

---

```md
red
red
red
```

### --feedback--

思考 `color` 變數在迴圈中表述了什麼。

---

```md
color
color
color
```

### --feedback--

思考 `color` 變數在迴圈中表述了什麼。

---

```md
blue
blue
red
red
green
green
```

### --feedback--

思考 `color` 變數在迴圈中表述了什麼。

## --video-solution--

1

## --text--

如果你嘗試在 `for...of` 迴圈中對使用 `const` 宣告的變數重新指定值，會發生什麼情況？

## --answers--

該值已成功重新指定。

### --feedback--

思考 `const` 的意義以及它與重新指定值的關係。

---

該迴圈將跳過發生重新指派的那次迭代。

### --feedback--

思考 `const` 的意義以及它與重新指定值的關係。

---

會發生錯誤。

---

該迴圈將立即終止。

### --feedback--

思考 `const` 的意義以及它與重新指定值的關係。

## --video-solution--

3

## --text--

在以下的程式碼片段中，什麼會被記錄到主控台？

```js
const fruits = ['apple', 'banana', 'cherry'];

for (let fruit of fruits) {
  console.log(fruit.toUpperCase());
}
```

## --answers--

```md
APPLE
APPLE
APPLE
```

### --feedback--

思考在迴圈中 `fruit` 變數表述什麼，以及 `toUpperCase` 方法如何運作。

---

```md
apple
banana
cherry
```

### --feedback--

思考在迴圈中 `fruit` 變數表述什麼，以及 `toUpperCase` 方法如何運作。

---

```md
APPLE
BANANA
CHERRY
```

---

```md
FRUIT
FRUIT
FRUIT
```

### --feedback--

思考在迴圈中 `fruit` 變數表述什麼，以及 `toUpperCase` 方法如何運作。

## --video-solution--

3
