---
id: 67d2f5dacd5e0c749e5d534c
title: 如何使用 React DevTools 偵錯你的 React 組件？
challengeType: 19
dashedName: how-can-you-debug-your-react-components-using-react-devtools
---

# --description--

瀏覽器內建開發者工具，你可以用來偵錯 HTML、CSS 和 JavaScript。

然而，它們並不適合用來尋找和修正 React 應用程式中的錯誤。因此，React 團隊開發了一個名為「React Developer Tools」（又稱 React DevTools）的工具，讓你可以檢查、偵錯和評測 React 應用程式。

React DevTools 可作為 Chrome、Edge 和 Firefox 的瀏覽器擴充套件使用。如果你使用的是 Chrome 或 Edge，請前往 Chrome 線上應用程式商店，搜尋「React Developer Tools」，並將它添加到你的瀏覽器。

如果你使用 Firefox，請前往 Firefox 增益集頁面，搜尋該工具，並將它添加到你的瀏覽器。

如果你使用 Safari，你可以透過執行 `npm install -g react-devtools` 或 `yarn global add react-devtools` 從 npm 安裝 React DevTools。

安裝並啟用 React DevTools 後，如果你在瀏覽器中開啟 React 應用程式，然後開啟瀏覽器的開發者工具，你應該會看到兩個額外的分頁：組件 和 效能(效率)評測器。

「組件」標籤以樹狀檢視格式顯示每個組件給你。透過它，你可以： 

- 檢視應用程式的組件階層體系。
- 即時檢查並修改 props、states 和 context 值。
- 檢查每個所選組件的原始碼。
- 將組件資料記錄到主控台。
- 檢查該組件的 DOM 元素。

另一方面，`Profiler` 分頁可幫助你記錄並分析組件效率，讓你能識別不必要的重新呈現、查看提交持續時間，以及你可以最佳化的項目。

這是一個簡單的應用程式，向你展示如何檢查組件及其擁有的任何 props 和 state。這與我們在先前關於 prop drilling 的課程中使用的程式碼類似：

```jsx
import { useState } from "react";

export default function App() {
  const greeting = "Hello, Prop Drilling!";
  const response = "I'm not here to play!";

  return <Parent greeting={greeting} response={response} />;
}

const Parent = ({ greeting, response }) => {
  return <Child greeting={greeting} response={response} />;
};

const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} response={response} />;
};

const Grandchild = ({ greeting, response }) => {
  const [count, setCount] = useState(0);

  return (
    <>
      <h1>{greeting}</h1>
      <h2>{response}</h2>

      <button onClick={() => setCount(count + 1)}>Increase Count</button>
      <h2>Count: {count}</h2>
      <button onClick={() => setCount(count - 1)}>Decrease Count</button>
    </>
  );
};
```

如果你查看 React DevTools 中的 Components 標籤，你可以看到組件的樹狀視圖。`App` 組件位於最上方，接著是 `Parent`、`Child` 和 `Grandchild` 組件。

如果你選擇這些組件中的任何一個，你可以看到它們的 props 和 state。如果你選擇 `Parent` 組件，你可以看到 `greeting` 和 `response` props，分別是 `Hello, Prop Drilling!` 和 `I'm not here to play!`。

你可以即時查看 props 並更新狀態，並在必要時更改它們。例如，你可以選擇 `Grandchild` 組件，並將 `greeting` prop 從 `Hello, Prop Drilling!` 更改為 `Hello, Welcome to Prop Drilling!`，並立即在頁面上看到反映。

要在組件中將資料記錄到主控台，請檢查相符的 DOM 元素並查看組件的原始碼。右上角的圖示可讓你執行這些操作。如果你選擇 `Grandchild` 組件並點擊 `Log the component data to the console` 按鈕，它將在主控台中記錄 props、state、掛鉤、節點和其他資料。

你可能會在 React 中遇到的一個常見錯誤稱為 props 不匹配。

例如，假設你錯誤地將 `reply` 作為 prop 傳入 `Child` 組件，而不是 `response`：

```jsx
const Child = ({ greeting, response }) => {
  return <Grandchild greeting={greeting} reply={response} />;
};
```

請記住 `Grandchild` 預期會有一個 `response` prop。因為該組件接收到不同的 prop，所以它無法在頁面上顯示該文字，只會在 DOM 中新增一個空的 `h2`。相反地，你只會看到帶有文字 `Hello, Prop Drilling!` 的 `h1` 元素，以及頁面上已經存在的其他按鈕和文字。空的 `h2` 元素仍然存在，但因為它是空的，所以不檢查 DOM 的話你看不到它。

為了解決此問題，你可以檢查從 `Parent` 組件到 `Child` 的 prop 傳遞過程，並直接編輯 prop 名稱。如果你前往 Components 標籤，選擇 `Child` 組件，並將 `reply` prop 改為 `response`，你將會看到頁面上的 `h2` 元素顯示文字 `I'm not here to play!`。

# --questions--

## --text--

你如何在 Chrome 或 Edge 上安裝 React DevTools？

## --answers--

從官方 React 網站下載它。

### --feedback--

你可以在與其他瀏覽器擴充套件相同的位置找到它。

---

在你的專案中透過 `npm` 安裝它。

### --feedback--

你可以在與其他瀏覽器擴充套件相同的位置找到它。

---

將它添加到你的瀏覽器擴充套件。

---

它預先安裝了 React。

### --feedback--

你可以在與其他瀏覽器擴充套件相同的位置找到它。

## --video-solution--

3

## --text--

安裝 React DevTools 後，瀏覽器開發者工具中會出現哪兩個額外的分頁用於偵錯 React？

## --answers--

組件和效能(效率)評測器。

---

網路和效率、性能。

### --feedback--

一個分頁有助於檢查組件樹，另一個則分析效率。

---

元素和主控台。

### --feedback--

一個分頁有助於檢查組件樹，另一個則分析效率。

---

原始碼和記憶體。

### --feedback--

一個分頁有助於檢查組件樹，另一個則分析效率。

## --video-solution--

1

## --text--

React DevTools 中的 Profiler 分頁能幫助你分析什麼？

## --answers--

React 應用程式中的網路請求。

### --feedback--

它有助於追蹤呈現時間並最佳化緩慢的組件。

---

JavaScript 記憶體洩漏。

### --feedback--

它有助於追蹤呈現時間並最佳化緩慢的組件。

---

CSS 樣式問題。

### --feedback--

它有助於追蹤呈現時間並最佳化緩慢的組件。

---

組件效率與重新呈現。
 
## --video-solution--

4
