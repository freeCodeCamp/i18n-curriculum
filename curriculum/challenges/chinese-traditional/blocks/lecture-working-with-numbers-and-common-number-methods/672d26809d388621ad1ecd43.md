---
id: 672d26809d388621ad1ecd43
title: isNaN 如何運作？
challengeType: 19
dashedName: how-does-isnan-work
---

# --interactive--

在 JavaScript 中，`NaN` 代表「不是數字」。它是一個特殊值，用來表述無法表現或未定義的數值結果。`NaN` 是全域物件的一個屬性，並且在 JavaScript 中也被視為一種數字型別，這一點乍看之下可能會讓人感到違背直覺。

`NaN` 通常是應該傳回數字但無法產生有意義數值的操作行為結果。例如：

:::interactive_editor

```js
let result = 0 / 0;
console.log(result); // NaN
```

:::

在這種情況下，零除以零在數學上是未定義的，所以 JavaScript 傳回 `NaN`。`NaN` 的一個特殊屬性是它不與任何東西相等，包括它自己：

:::interactive_editor

```js
console.log(NaN === NaN); // false
```

:::

這種獨特的行為使得使用標準比較運算子檢查一個值是否為 `NaN` 變得具有挑戰性。為了解決這個問題，JavaScript 提供了 `isNaN()` 函式。`isNaN()` 函式屬性用於判斷一個值是否為 `NaN`。然而，了解 `isNaN()` 的運作方式很重要，因為它有時會產生意想不到的結果。以下是 `isNaN()` 的行為方式：

:::interactive_editor

```js
console.log(isNaN(NaN));       // true
console.log(isNaN(undefined)); // true
console.log(isNaN({}));        // true

console.log(isNaN(true));      // false
console.log(isNaN(null));      // false
console.log(isNaN(37));        // false

console.log(isNaN("37"));      // false: "37" is converted to 37
console.log(isNaN("37.37"));   // false: "37.37" is converted to 37.37
console.log(isNaN(""));        // false: empty string is converted to 0
console.log(isNaN(" "));       // false: string with a space is converted to 0

console.log(isNaN("blabla"));  // true: "blabla" is not a number
```

:::

如你所見，`isNaN()` 首先嘗試將參數轉換為數字。如果無法轉換，則傳回 `true`。此行為可能導致一些令人驚訝的結果，特別是在處理可以強制轉換為數字的字串時。

由於這些潛在的不一致性，ES6（JavaScript 的第六版，於 2015 年發佈）介紹了 `Number.isNaN()`。這個方法在測試之前不會嘗試將參數轉換為數字。只有當值完全是 `NaN` 時，它才會傳回 `true`：

:::interactive_editor

```js
console.log(Number.isNaN(NaN));        // true
console.log(Number.isNaN(Number.NaN)); // true
console.log(Number.isNaN(0 / 0));      // true

console.log(Number.isNaN("NaN"));      // false
console.log(Number.isNaN(undefined));  // false
console.log(Number.isNaN({}));         // false
console.log(Number.isNaN("blabla"));   // false
```

:::

`Number.isNaN()` 提供了一種更可靠的方法來檢查 `NaN` 值，特別是在型別強制轉換可能導致全域的 `isNaN()` 函式出現意外結果的情況下。實務上，當處理數值操作或應該是數字的使用者輸入時，通常需要檢查 `NaN`，以優雅地處理錯誤或意外輸入。 例如：

:::interactive_editor

```js
let a = 0;
let b = 0;
let result = a / b;

if (Number.isNaN(result)) {
  result = "Error: Division resulted in NaN";
}

console.log(result); // "Error: Division resulted in NaN"
```

:::

在此範例中，我們使用 `Number.isNaN()` 來捕捉除法操作結果為 `NaN` 的情況，讓我們能夠適當地控制代碼處理此情境。理解 `NaN` 以及如何正確檢查它，對於撰寫強固的 JavaScript 程式碼至關重要，尤其是在處理數學操作或解析使用者輸入時。

# --questions--

## --text--

以下 `code` 的輸出結果會是什麼？

```js
console.log(isNaN("123"));
```

## --answers--

`true`

### --feedback--

考慮 `isNaN()` 如何處理可以轉換為數字的字串。

---

`false`

---

`undefined`

### --feedback--

考慮 `isNaN()` 如何處理可以轉換為數字的字串。

---

`NaN`

### --feedback--

考慮 `isNaN()` 如何處理可以轉換為數字的字串。

## --video-solution--

2

## --text--

以下哪一項正確檢查一個值是否正好是 `NaN`？

## --answers--

`value === NaN`

### --feedback--

思考哪個方法不會在檢查之前嘗試轉換該值。

---

`isNaN(value)`

### --feedback--

思考哪個方法不會在檢查之前嘗試轉換該值。

---

`Number.isNaN(value)`

---

`value.isNaN()`

### --feedback--

思考哪個方法不會在檢查之前嘗試轉換該值。

## --video-solution--

3

## --text--

`NaN === NaN` 的結果是什麼？

## --answers--

`true`

### --feedback--

請記住 `NaN` 在比較中的獨特屬性。

---

`false`

---

`undefined`

### --feedback--

請記住 `NaN` 在比較中的獨特屬性。

---

`Error`

### --feedback--

請記住 `NaN` 在比較中的獨特屬性。

## --video-solution--

2
