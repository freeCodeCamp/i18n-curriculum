---
id: 6733694805a85d34ced08a9b
title: setTimeout 和 setInterval 方法如何運作？
challengeType: 19
dashedName: how-do-the-settimeout-and-setinterval-methods-work
---

# --interactive--

在建置你的程式時，你經常會希望在延遲之後發生某些事情，或是定期重複執行。這時候，`setTimeout()` 和 `setInterval()` 方法就非常有用。這兩個方法都接受兩個參數：一個函式（程式）和一個延遲時間。

讓我們更詳細地看看每個方法，這樣你就可以開始在你的網頁專案中使用它們。 

`setTimeout()` 讓你延遲執行一個動作指定的時間。以下是 `setTimeout()` 方法的基本語法：

```js
setTimeout(functionToRun, delay);
```

`functionToRun` 是你想在指定延遲後執行的程式碼，而 `delay` 是在執行該函式前要等待的時間（以毫秒為單位）。以下是一個範例：

:::interactive_editor

```js
setTimeout(function () {
 console.log("This runs after 3 seconds");
}, 3000);
```

:::

你也可以使用箭頭函式作為回呼，像這樣：

:::interactive_editor

```js
setTimeout(() => {
 console.log("This runs after 3 seconds"); 
}, 3000);
```

:::

`setInterval()` 會以設定的間隔重複執行一個函式（程式）。它就像是一個每隔幾秒就會響起的鬧鐘。當你想要某件事不斷重複發生時，像是重新整理資料或製作持續移動的動畫，`setInterval()` 是完美的選擇。

就像 `setTimeout()` 一樣，它接受一個函式（程式）和一個延遲時間：

```js
setInterval(functionToRun, delay);
```

`functionToRun` 是你想要重複執行的程式碼，而 `delay` 是每次執行該函式之間的毫秒數。以下是一個範例：

:::interactive_editor

```js
setInterval(() => {
 console.log("This runs every 2 seconds");
}, 2000);

// Result:
// This runs every 2 seconds
// This runs every 2 seconds
// This runs every 2 seconds
// ...
```

:::

由於 `setInterval()` 會持續在指定的間隔執行提供的函式，你可能想要停止它。為此，你必須使用 `clearInterval()` 方法。

要完成這項工作，`clearInterval()` 會取得你想停止的 `setInterval()` 的 ID。這可以是你指定該間隔的變數。停止間隔的一種方法是在 `setTimeout()` 裡面，因為這會在特定時間後停止該間隔：

:::interactive_editor

```js
const intervalID = setInterval(() => {
 console.log("This will stop after 5 seconds");
}, 1000);

setTimeout(() => {
 clearInterval(intervalID);
}, 5000);
```

:::

你也可以使用 `clearTimeout()` 方法停止逾時：

:::interactive_editor

```js
let timeoutID = setTimeout(() => {
 console.log("This will not run");
}, 5000);

clearTimeout(timeoutID);
```

:::

使用那段程式碼，`setTimeout()` 將完全不會執行。因此，更優雅的做法是透過 DOM，為按鈕添加點擊事件監聽器來停止 timeout：

:::interactive_editor

```html
<h1>Cancel Timeout Example</h1>
<button id="cancelButton">Cancel Timeout</button>
<script src="index.js"></script>
```

```js
let timeoutID = setTimeout(() => {
  console.log("This will run if not canceled");
}, 5000);

document
.querySelector("#cancelButton")
.addEventListener("click", () => {
  clearTimeout(timeoutID);
  console.log("Timeout canceled!");
});
```

:::

# --questions--

## --text--

`setTimeout()` 和 `setInterval()` 兩個方法都接受什麼參數？

## --answers--

一個變數和一個數字。

### --feedback--

思考需要執行什麼以及等待多久。

---

一個函式（程式）和一個延遲。

---

一個字串和一個布林值。

### --feedback--

思考需要執行什麼以及等待多久。

---

一個迴圈和一個條件。

### --feedback--

思考需要執行什麼以及等待多久。

## --video-solution--

2

## --text--

`setInterval()` 方法在 JavaScript 中的作用是什麼？

## --answers--

它會在延遲後執行一次函式（程式）。

### --feedback--

思考那個會以固定間隔反覆執行的函式（程式）。

---

它會以設定的間隔重複執行一個函式，就像鬧鐘每隔幾秒響一次。

---

它會阻止函式（程式）執行。

### --feedback--

思考那個會以固定間隔反覆執行的函式（程式）。

---

它會暫停一個函式（程式）指定的時間。

### --feedback--

思考那個會以固定間隔反覆執行的函式（程式）。

## --video-solution--

2

## --text--

`setTimeout()` 方法在 JavaScript 中的作用是什麼？

## --answers--

它會延遲一個動作指定的時間，然後執行一個函式（程式）。

---

它會在被呼叫後立即執行一個函式（程式）。

### --feedback--

想想你希望 JavaScript 在執行 `function` 前等待的時間。

---

它會以固定間隔重複執行一個函式（程式）。

### --feedback--

想想你希望 JavaScript 在執行 `function` 前等待的時間。

---

它會在延遲後停止函式（程式）執行。

### --feedback--

想想你希望 JavaScript 在執行 `function` 前等待的時間。

## --video-solution--

1
