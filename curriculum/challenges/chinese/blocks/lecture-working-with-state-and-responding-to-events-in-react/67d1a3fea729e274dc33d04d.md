---
id: 67d1a3fea729e274dc33d04d
title: React 中的事件如何工作？
challengeType: 19
dashedName: how-do-events-work-in-react
---

# --description--

事件处理是每个交互式网站的重要组成部分。

React 通过其合成事件系统提供了一种强大且一致的方式来处理事件，该系统是对你在之前课程中学到的 `click`、`keydown` 和 `submit` 等本地事件的包装器。

这个跨浏览器包装器确保事件在所有浏览器中表现一致，从而避免不一致性。

让我们看看 `event` 在 React 中是如何工作的，这样你就可以开始在你的 `project` 中使用它们。

在 React 中，事件处理器的工作方式与本地浏览器事件类似，但有一些调整。

React 使用驼峰式大小写，而不是使用小写事件属性名如 `onclick` 和 `onsubmit`，例如 `onClick` 和 `onSubmit`。

此外，React 期望为事件处理器使用函数，而不是使用字串来指定事件类型。

事件处理函数作为 prop 传递给元素，且像 `onClick` 或 `onSubmit` 这样的事件类型在 JSX 中用作属性。

这里是如何在常规 `HTML` 中处理点击 `event` 的提醒：

```html
<button onclick="alert('Button clicked!')">Click Me</button>
```

下面是在 React 中实现相同功能的方法：

```jsx
function handleClick() {
  console.log("Button clicked!");
}

<button onClick={handleClick}>Click Me</button>;
```

在此示例中，`handleClick` 在用户点击按钮时将消息记录到控制台。

请注意，在 `onClick` 属性中你不需要在 `handleClick` 后加括号，因为你传递的是对函数的引用，而不是调用它。

在 React 中，事件处理器函数通常以前缀 `handle` 开头，以表示它们负责处理事件，例如 `handleClick` 或 `handleSubmit`。

当用户操作触发一个事件时，React 会将一个合成事件对象传递给你的处理器。该对象的行为类似于原生 JavaScript 中的本地事件对象，提供诸如 `type`、`target` 和 `currentTarget` 等属性。

你可以将 `event` 作为参数传递给处理器函数，并将其记录到控制台以查看其结构：

```js
function handleClick(event) {
  console.log(event);
}
```

为了防止诸如浏览器刷新之类的默认行为（例如在 `onSubmit` 事件期间），你可以调用 `preventDefault()` 方法：

```jsx
function handleSubmit(event) {
  event.preventDefault();
  console.log("Form submitted!");
}

<form onSubmit={handleSubmit}>
  <input type="text" />
  <button>Submit</button>
</form>;
```

你也可以通过调用 `event.stopPropagation()` 来阻止事件冒泡到父元素。

有时，在处理像删除和编辑特色这样的特殊分支时，你可能想向事件处理器传递额外的数据。你可以通过将处理器包装在内联箭头函数中来实现这一点：

```jsx
function handleDelete(id) {
  console.log("Deleting item:", id);
}

<button onClick={() => handleDelete(1)}>Delete Item</button>;
```

在 React 中使用内联 `event` 处理器是可以的，因为 React 高效地管理重新渲染并避免性能问题。 

在原生 JavaScript 中，内联事件处理器会在每次渲染时创建新的函数，从而导致性能问题，因为没有虚拟 DOM 来优化该进程。

# --questions--

## --text--

React 如何在不同浏览器中一致地处理 `event`？

## --answers--

仅使用本地的浏览器事件。

### --feedback--

回顾课程开始时讨论答案的部分。

---

通过为每个浏览器创建自定义事件。

### --feedback--

回顾课程开始时讨论答案的部分。

---

通过它的合成事件系统。

---

通过直接修改每个事件的 DOM。

### --feedback--

回顾课程开始时讨论答案的部分。

## --video-solution--

3

## --text--

你如何阻止默认行为，比如 React 中的浏览器刷新？

## --answers--

通过使用 `stopPropagation()` 方法。

### --feedback--

考虑停止默认浏览器操作的 `method`。

---

通过调用 `preventDefault()` 方法。

---

通过将事件设置为 `false`。

### --feedback--

考虑停止默认浏览器操作的 `method`。

---

通过使用 `return` 语句。

### --feedback--

考虑停止默认浏览器操作的 `method`。

## --video-solution--

2

## --text--

React 在命名 `event` 属性方面与标准 `HTML` 有何不同？

## --answers--

React 使用小写的事件名，如 `onclick` 和 `onsubmit`。

### --feedback--

考虑 JavaScript 命名约定如何应用于 React 中的事件。

---

React 使用驼峰式大小写的事件名称，如 `onClick` 和 `onSubmit`。

---

React 会将所有事件名称首字母大写。

### --feedback--

考虑 JavaScript 命名约定如何应用于 React 中的事件。

---

React 在事件名称中使用连字符，如 `on-click` 和 `on-submit`。

### --feedback--

考虑 JavaScript 命名约定如何应用于 React 中的事件。

## --video-solution--

2
