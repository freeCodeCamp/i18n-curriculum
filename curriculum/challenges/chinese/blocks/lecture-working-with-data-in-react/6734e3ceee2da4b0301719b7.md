---
id: 6734e3ceee2da4b0301719b7
title: 如何将 Props 从父组件传递到子组件中 React？
challengeType: 19
dashedName: how-do-you-pass-props-from-a-parent-component-to-a-child-component-in-react
---

# --description--

在之前的课程中，我们学习了如何在 React 中构建像这样的微小组件：

```jsx
function Greeting() {
  const developerName = "Jessica";
  return <h1>Hi {developerName}!</h1>;
}
```

我们可以选择将此组件嵌套在另一个父组件或根组件中，如下所示：

```jsx
function App() {
  return <Greeting />;
}

function Greeting() {
  const developerName = "Jessica";
  return <h1>Hi {developerName}!</h1>;
}
```

虽然这段代码可以正常运行并在屏幕上显示 `Hi Jessica!` 的结果，但它不是一个非常灵活的组件。 

如果我们想显示不同的名字，比如 Naomi、Tom 或 Oliver 呢？这就是 React `props` 派上用场的地方。`props` 是 properties 的缩写，是父组件向子组件传递数据的方式。`props` 可以是任何类型：字串、数字、布尔、对象或数组。

让我们更新之前的示例，现在接受一个 `name` 属性：

```jsx
function App() {
  return <Greeting name="Jessica" />;
}

export default App;

function Greeting(props) {
  console.log(props);
  return <h1>Hi {props.name}!</h1>;
}
```

对于名为 `Greeting` 的子组件，我们现在使用 `props.name` 而不是硬编码名称 `"Jessica"`。我们还将 `props` 记录到控制台，显示为一个对象。

然后，在父级 `App` 组件内部，我们将该值传递给 `name` 属性，以便它可以传递给子组件。屏幕上的结果将与之前相同，但现在我们创建了一个更灵活的组件。

现在我们可以多次重用子组件，并且每次传入不同的名称：

```jsx
function App() {
  return (
    <>
      <Greeting name="Naomi" />
      <Greeting name="Tom" />
      <Greeting name="Jessica" />
      <Greeting name="Oliver" />
    </>
  );
}
```

你也可以选择在 props 中使用对象解构，使其更易读。下面是你如何重写 `Greeting` 组件的示例：

```jsx
function Greeting({ name }) {
  return <h1>Hi {name}!</h1>;
}
```

这段代码实现了相同的结果，但更清楚地表明了组件期望接收哪些 props。

React 还提供了一个名为 `children` 的特殊属性。你放置在组件起始和结束标签之间的任何 JSX 都会作为 `children` 传递给该组件。

例如：

```jsx
function Card({ children }) {
  return <div className="card">{children}</div>;
}

function App() {
  return (
    <Card>
      <h2>Hello</h2>
    </Card>
  );
}
```

在这个分支中，`<Card>...</Card>` 内的 JSX 变成了 `children` 属性。DOM 中的渲染输出将是：

```html
<div class="card">
  <h2>Hello</h2>
</div>
```

这个模式通常用于组件组合，其中一个组件包裹其他 UI 元素。

有时，你可能需要传递很多属性作为 props。你可以先将它们转换为一个对象，然后使用展开操作符（`...`），而不是一个一个地传递。 

这是一个名为 `DeveloperCard` 的新建子组件示例：

```jsx
function DeveloperCard({ name, age, country }) {
  return (
    <div className="developer-card">
      <h1>Developer: {name}</h1>
      <p>Age: {age}</p>
      <p>Country: {country}</p>
    </div>
  );
}
```

这个 `DeveloperCard` 组件接受三个属性：`name`、`age` 和 `country`。 

在父级 `App` 组件中，我们可以使用展开语法将对象中的所有属性作为单独的 props 传递给子组件：

```jsx
function App() {
  const developerObj = {
    name: "Alice",
    age: 30,
    country: "USA",
  };

  return (
    <div className="App">
      <DeveloperCard {...developerObj} />
    </div>
  );
}
```

当处理对象数组并向子组件传递多组属性时，这尤其有用。例如，你可能有一个开发者列表，其中数组中的每个对象具有相同的结构但表现不同的人。

你将在后续课程中学习更多关于如何在数组中渲染列表的内容。

在 React 中使用 props 使你的组件更加灵活且可重用，从而允许你构建更复杂的用户界面。然而，重要的是要注意 props 是不可变的，这意味着一旦传递给组件就不能更改。如果你需要处理用户输入并修改数据，你应该使用 state。你将在后续课程中学习更多关于管理 state 的内容。

# --questions--

## --text--

在 React 中，如何将名为 `message` 且值为字串 `"Hello"` 的 prop 传递给子组件？

## --answers--

`<ChildComponent message="Hello" />`

---

`<ChildComponent props.message="Hello" />`

### --feedback--

思考如何将属性添加到 JSX 元素。

---

`<ChildComponent>message="Hello"</ChildComponent>`

### --feedback--

思考如何将属性添加到 JSX 元素。

---

`<ChildComponent {message: "Hello"} />`

### --feedback--

思考如何将属性添加到 JSX 元素。

## --video-solution--

1

## --text--

假设 props 作为 `props` 对象传递，你如何在函数子组件内部访问名为 `userName` 的 prop？

## --answers--

`this.props.userName`

### --feedback--

考虑 props 如何传递给 React 中的函数组件。

---

`props.userName`

---

`this.userName`

### --feedback--

考虑 props 如何传递给 React 中的函数组件。

---

`children.userName`

### --feedback--

考虑 props 如何传递给 React 中的函数组件。

## --video-solution--

2

## --text--

将一个对象的所有属性作为单独的 props 传递给子组件的正确方法是什么？

## --answers--

`<ChildComponent props={objectName} />`

### --feedback--

记住用于将对象属性展开为单独属性的特殊语法。

---

`<ChildComponent {...objectName} />`

---

`<ChildComponent objectName />`

### --feedback--

记住用于将对象属性展开为单独属性的特殊语法。

---

`<ChildComponent>{objectName}</ChildComponent>`

### --feedback--

记住用于将对象属性展开为单独属性的特殊语法。

## --video-solution--

2
