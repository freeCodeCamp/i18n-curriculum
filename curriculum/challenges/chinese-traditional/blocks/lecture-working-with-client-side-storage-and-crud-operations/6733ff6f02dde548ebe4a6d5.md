---
id: 6733ff6f02dde548ebe4a6d5
title: 什麼是 Cookies，以及它們如何運作？
challengeType: 19
dashedName: what-are-cookies-and-how-do-they-work
---

# --description--

Cookies，也稱為網路 Cookies 或瀏覽器 Cookies，是伺服端傳送給使用者網頁瀏覽器的小塊資料。這些 Cookies 會儲存在使用者的裝置上，並在後續請求時回傳給伺服端。 

Cookies 對於協助網頁應用程式維護狀態並記住使用者資訊至關重要，這點尤其重要，因為 HTTP 是無狀態協定。

Cookies 可以儲存各種資訊，例如使用者偏好設定、會話資料或追蹤資訊。

Cookies 總是以名稱-值對組的形式儲存。這表示每個 cookie 都有一個名稱（鍵）和一個相關的值。 

例如，cookie 可能會像這樣儲存使用者的會話 ID：`sessionId=abc123`。鍵是 `sessionId`，值是 `abc123`。每次瀏覽器與伺服端通訊時，瀏覽器會以名稱-值對組的形式傳送這些 cookie。

當使用者造訪網站時，伺服端可以透過在 HTTP 回應中包含 Set-Cookie 標頭，向使用者的瀏覽器傳送一個或多個 cookie。標頭是一個鍵值對，用來提供有關 HTTP 請求或回應的額外資訊。你將在未來的課程中學習更多關於 HTTP 請求和回應的內容。

一旦設定了 cookies，瀏覽器會將它們儲存起來，並在每次對同一個網域的後續請求中自動將它們包含在 Cookie 標頭中。這讓伺服端能夠存取儲存的 cookies，並用於維護使用者會話或追蹤偏好設定等用途。

以下是如何在 HTTP 回應中設定 cookie 的範例：

```http
Set-Cookie: sessionId=abc123; Expires=Wed, 21 Oct 2021 07:28:00 GMT; Secure; HttpOnly
```

瀏覽器會儲存 cookie，並在未來對同一個伺服端的請求中，將 cookie 包含在 `Cookie` 標頭中：

```http
Cookie: sessionId=abc123
```

伺服端接著可以讀取 cookie 並使用儲存的 session ID 來擷取關於使用者的資訊，例如他們是否已登入。

以下是不同型別的 cookie 的細目。

- 工作階段 Cookie 僅在使用者於網站上的工作階段期間有效。一旦使用者關閉瀏覽器或分頁，工作階段 Cookie 即被刪除。這些 Cookie 通常用於像是在使用者造訪期間保持登入狀態等任務。

- 持久性 Cookie 有到期日，並會一直儲存在使用者的裝置上直到該日期到達。持久性 Cookie 通常用於跨會話記住使用者偏好設定或登入資訊。

- 安全 Cookie 僅會透過 HTTPS 傳送，確保它們在傳輸過程中不會被攻擊者攔截。

- HttpOnly Cookies 無法被瀏覽器中執行的 JavaScript 存取或修改，使它們在防範跨站指令碼（XSS）攻擊方面更為安全。跨站指令碼（XSS）攻擊發生在攻擊者將惡意指令碼注入其他使用者瀏覽的網頁時。這些指令碼隨後可以在受害者瀏覽器的背景關係中執行，可能竊取 Cookies、會話資料，或在使用者不知情或未同意的情況下執行其他惡意行為。透過將 Cookies 標記為 HttpOnly，可以防止它們被 JavaScript 存取，降低此類攻擊的風險。

你可以透過伺服端回應使用 `Set-Cookie` 標頭或透過 JavaScript 使用 `document.cookie` 來創建 cookies。

以下是使用 JavaScript 設定 cookie 的範例：

```js
document.cookie = "username=JohnDoe; expires=Fri, 31 Dec 2021 23:59:59 GMT; path=/";
```

此指令會設定一個名為 `username`、值為 `"JohnDoe"` 的 cookie，該 cookie 將於 2021 年底過期。你可以透過再次設定並給予新值來更新現有的 cookie。

要刪除 cookie，你必須將它的過期日期設為過去：

```js
document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
```

這將從瀏覽器中移除 `username` cookie。

# --questions--

## --text--

Cookies 在網頁應用程式中的主要用途是什麼？

## --answers--

永久儲存大量資料。

### --feedback--

想想看 cookies 如何幫助網頁應用程式在請求之間記住使用者特定的資料。

---

用於儲存有助於維護狀態並記住使用者資訊的資料，以跨請求保持。

---

取代伺服端資料庫。

### --feedback--

想想看 cookies 如何幫助網頁應用程式在請求之間記住使用者特定的資料。

---

為了提升瀏覽器中 JavaScript 的效率、性能。

### --feedback--

想想看 cookies 如何幫助網頁應用程式在請求之間記住使用者特定的資料。

## --video-solution--

2

## --text--

以下哪一個屬性確保 cookie 僅透過 HTTPS 傳送？

## --answers--

`Secure`

---

`HttpOnly`

### --feedback--

此屬性可防止 cookie 在不安全的 HTTP 連線中被傳送。

---

`SameSite`

### --feedback--

此屬性可防止 cookie 在不安全的 HTTP 連線中被傳送。

---

`Expires`

### --feedback--

此屬性可防止 cookie 在不安全的 HTTP 連線中被傳送。

## --video-solution--

1

## --text--

如何使用 JavaScript 刪除 cookie？

## --answers--

透過將其值設為 `null`。

### --feedback--

思考設定過期日期如何影響 cookie 的壽命。

---

透過將其過期日期設定為過去的日期。

---

透過使用 `document.cookie.remove()` 方法。

### --feedback--

思考設定過期日期如何影響 cookie 的壽命。

---

透過重新載入頁面。

### --feedback--

思考設定過期日期如何影響 cookie 的壽命。

## --video-solution--

2
