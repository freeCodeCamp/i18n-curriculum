---
id: 5900f4ba1000cf542c50ffcd
title: '問題 334：洩漏秘密'
challengeType: 1
forumTopicId: 301992
dashedName: problem-334-spilling-the-beans
---

# --description--

在柏拉圖的天堂中，存在無限多個排列成一直線的碗。每個碗中要麼裝有有限數量的豆子，要麼沒有豆子。一個孩子玩一個遊戲，該遊戲只允許一種移動方式：從任意碗中移除兩顆豆子，並將一顆放入相鄰的兩個碗中。當每個碗中只剩下一顆或沒有豆子時，遊戲結束。

例如，考慮兩個相鄰的碗，分別裝有 2 和 3 顆豆子，其他所有碗皆為空。以下八個步驟將完成遊戲：

<img alt="animation of game when two adjacent bowls contain 2 and 3 beans respectively" src="https://cdn.freecodecamp.org/curriculum/project-euler/spilling-the-beans.gif" style="background-color: white; padding: 10px; display: block; margin-right: auto; margin-left: auto; margin-bottom: 1.2rem;">

你會得到以下序列：

$$\begin{align}
  & t_0 = 123456, \\\\
  & t_i = \begin{cases}
         \frac{t_{i - 1}}{2},               & \text{如果 $t_{i - 1}$ 是偶數} \\\\
         \left\lfloor\frac{t_{i - 1}}{2}\right\rfloor \oplus 926252, & \text{如果 $t_{i - 1}$ 是奇數}
         \end{cases} \\\\
         & \qquad \text{其中 $⌊x⌋$ 是向下取整函式，$\oplus$ 是以 bit 為單元逐一 XOR 運算子。} \\\\
  & b_i = (t_i\bmod 2^{11}) + 1.
\end{align}$$

最後一個序列的前兩項是 $b_1 = 289$ 和 $b_2 = 145$。如果我們從兩個相鄰的碗中分別放入 $b_1$ 和 $b_2$ 顆豆子，將需要 3419100 步驟才能完成這個遊戲。

現在考慮 1500 個相鄰的碗，分別包含 $b_1, b_2, \ldots, b_{1500}$ 顆豆子，所有其他碗皆為空。找出遊戲結束前需要多少步驟。

# --hints--

`spillingTheBeans()` 應該傳回 `150320021261690850`。

```js
assert.strictEqual(spillingTheBeans(), 150320021261690850);
```

# --seed--

## --seed-contents--

```js
function spillingTheBeans() {

  return true;
}

spillingTheBeans();
```

# --solutions--

```js
// solution required
```
