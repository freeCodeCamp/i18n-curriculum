---
id: 673284e7244c0c1a649121b9
title: 程式設計中的作用域是什麼，以及全域的、區域的和區塊作用域如何運作？
challengeType: 19
dashedName: what-is-scope-in-programming-and-how-does-global-local-and-block-scope-work
---

# --interactive--

程式設計中的作用域指的是變數在程式碼不同部分中的可見性和存取性。它決定了變數可以在哪裡被存取或修改。在 JavaScript 中，理解作用域對於撰寫乾淨、高效且無錯誤的程式碼至關重要。作用域主要有三種型別：全域的作用域、區域的作用域和區塊的作用域。

全域作用域是 JavaScript 程式中最外層的作用域。在全域作用域中宣告的變數可以在你的程式碼任何地方存取，包括函式和區塊內。這些變數通常稱為全域變數。雖然全域變數使用起來方便，但應該謹慎使用，因為它們可能導致命名衝突並使你的程式碼較難維護。以下是一個全域變數的範例：

:::interactive_editor

```js
let globalVar = "I'm a global variable";

function printGlobalVar() {
    console.log(globalVar);
}

printGlobalVar(); // "I'm a global variable"
```

:::

在此範例中，`globalVar` 宣告於全域的範圍，並且可以在 `printGlobalVar` 函式中存取。

區域的作用域，另一方面，是指只能在函式（程式）內存取的變數。以下是區域的作用域範例：

:::interactive_editor

```js
function greet() {
    let message = "Hello, local scope!";
    console.log(message);
}

greet(); // "Hello, local scope!"
// console.log(message); // This will throw an error
```

:::

在這段程式碼中，`message` 是 `greet` 函式（程式）內的區域變數。它可以在函式（程式）內使用，但如果嘗試在函式（程式）外存取它，將會導致錯誤。

區塊作用域是 ES6 中使用 `let` 和 `const` 關鍵字介紹的概念。區塊是任何位於大括號 `{}` 內的程式碼區段，例如在 `if` 述語、`for` 迴圈或 `while` 迴圈中。迴圈的概念將在即將到來的課程中教授。 

使用 `let` 或 `const` 在區塊內宣告的變數，只能在該區塊內存取。以下是區塊範圍的範例：

```js
if (true) {
    let blockVar = "I'm in a block";
    console.log(blockVar); // "I'm in a block"
}
console.log(blockVar); // This will throw an error
```

在此範例中，`blockVar` 僅能在 `if` 區塊內存取。嘗試在區塊外存取它將導致錯誤。理解這些不同型別的作用域對於管理變數存取性及避免程式碼中非預期的副作用至關重要。 

全域變數應該謹慎使用，因為它們可能導致命名衝突並使你的程式碼較難維護。區域變數有助於保持程式碼不同部分的隔離，這在較大型的程式中特別有用。使用 `let` 和 `const` 的區塊範圍提供更細緻的變數存取控制，有助於防止錯誤並使你的程式碼更具可預測性。精通這些全域、區域和區塊範圍的基本概念，將為理解更進階的主題打下堅實基礎。

# --questions--

## --text--

以下 `code` 的輸出結果會是什麼？

```js
let x = 10;

function printX() {
    let x = 20;
    console.log(x);
}

printX();
console.log(x);
```

## --answers--

`20`、`20`

### --feedback--

考慮函式（程式）內區域的作用域如何運作，以及它如何與全域的作用域中的變數交談。

---

`20`、`10`

---

`10`、`10`

### --feedback--

考慮函式（程式）內區域的作用域如何運作，以及它如何與全域的作用域中的變數交談。

---

`10`、`20`

### --feedback--

考慮函式（程式）內區域的作用域如何運作，以及它如何與全域的作用域中的變數交談。

## --video-solution--

2

## --text--

在以下程式碼中，嘗試在其區塊外存取 `blockVar` 會有什麼結果？

```js
if (true) {
    let blockVar = "Hello";
}
console.log(blockVar);
```

## --answers--

它會列印 `"Hello"`。

### --feedback--

記住使用 `let` 宣告的變數如何在區塊範圍內運作。

---

它將列印 `undefined`。

### --feedback--

記住使用 `let` 宣告的變數如何在區塊範圍內運作。

---

它會丟出 `ReferenceError`。

---

它會列印 `null`。

### --feedback--

記住使用 `let` 宣告的變數如何在區塊範圍內運作。

## --video-solution--

3

## --text--

下列哪一項正確描述在腳本頂層（不在任何函式或區塊內）使用 `let` 宣告的變數的作用域？

## --answers--

函式（程式）的作用域

### --feedback--

思考在腳本頂層宣告的變數會在哪些地方被存取。

---

區塊範圍。

### --feedback--

思考在腳本頂層宣告的變數會在哪些地方被存取。

---

全域的範圍。

---

區域的範圍。

### --feedback--

思考在腳本頂層宣告的變數會在哪些地方被存取。

## --video-solution--

3
