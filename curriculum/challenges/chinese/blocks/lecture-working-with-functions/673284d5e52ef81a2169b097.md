---
id: 673284d5e52ef81a2169b097
title: 什么是箭头函数，它们如何工作？
challengeType: 19
dashedName: what-are-arrow-functions-and-how-do-they-work
---

# --interactive--

在上一课中，你学习了如何使用函数，函数是可重用的代码片段，有助于使你的代码更加模块化、更易于维护且更高效。所有之前的示例都使用了常规的函数语法，如下所示：

```js
function greetings(name) {
  console.log("Hello, " + name + "!");
}
```

但在 JavaScript 中编写函数的另一种方法是创建箭头函数表达式。 下面是如何重构前面的示例，改用箭头函数语法：

```js
const greetings = (name) => {
  console.log("Hello, " + name + "!");
};
```

在这个修改后的示例中，我们创建了一个名为 `greetings` 的 `const` 变量，并为其赋予了一个匿名函数。  Most of the syntax will look familiar to you except for the missing `function` keyword and the addition of the arrow (`=>`) between the `name` parameter and the function body. 如果参数列表中只有一个参数，可以像这样去掉括号：

```js
const greetings = name => {
  console.log("Hello, " + name + "!");
};
```

如果箭头函数没有参数，则必须像这样使用括号：

```js
const greetings = () => {
  console.log("Hello");
};
```

初学函数时，必须用大括号将函数体包裹起来。 但如果函数体只包含一行代码，就可以像这样去掉大括号：

```js
const greetings = name => console.log("Hello, " + name + "!");
```

需要注意的是，对于常规函数语法不能去掉括号和大括号。 如果尝试这样做，就会出错：

```js
// This will produce syntax errors 
function greetings name console.log("Hello, " + name + "!");
```

这类单行函数只有在使用箭头函数语法时才有效。 另一个关键概念是 `return` 语句。 下面是一个使用箭头函数语法计算面积的示例：

:::interactive_editor

```js
const calculateArea = (width, height) => {
  const area = width * height;
  return area;
};

console.log(calculateArea(5, 3)); // 15
```

:::

我们将在函数中创建一个名为 `area` 的变量，然后返回该变量。 不过，我们可以稍微整理一下代码，返回计算结果本身：

:::interactive_editor

```js
const calculateArea = (width, height) => {
  return width * height;
}; 

console.log(calculateArea(5, 3)); // 15
```

:::

如果你试图去掉大括号，将计算放在同一行，那么会得到一个 `Uncaught SyntaxError: Unexpected token 'return'` 消息：

```js
const calculateArea = (width, height) => return width * height;
```

之所以会出现这个错误，是因为你需要删除 `return` 语句。 删除 `return` 语句后，错误将消失，函数仍将隐式返回计算结果。 

```js
const calculateArea = (width, height) => width * height;
```

那么，什么时候应该使用箭头函数语法呢？ 那要看情况了。 许多开发人员在个人项目中一直使用它。 不过，在团队中工作时，选择通常取决于现有代码库使用的是常规函数还是箭头函数。  In future lessons, we'll cover when to use arrow functions and when to avoid them.

# --questions--

## --text--

接收两个参数并返回其和的箭头函数的正确写法是什么？

## --answers--

`(a, b) => { a + b }`

### --feedback--

请记住箭头函数中隐式返回的语法。

---

`(a, b) => a + b`

---

`(a, b) => return a + b`

### --feedback--

请记住箭头函数中隐式返回的语法。

---

`a, b => a + b`

### --feedback--

请记住箭头函数中隐式返回的语法。

## --video-solution--

2

## --text--

不带参数并返回字符串 `"Hello"` 的箭头函数的正确写法是什么？

## --answers--

`() => "Hello"`

---

`=> "Hello"`

### --feedback--

请记住无参数和单一表达式返回的箭头函数的语法。

---

`() => { "Hello" } `

### --feedback--

请记住无参数和单一表达式返回的箭头函数的语法。

---

`() => return "Hello"`

### --feedback--

请记住无参数和单一表达式返回的箭头函数的语法。

## --video-solution--

1

## --text--

下面代码的输出是什么？

```js
let multiply = (a, b = 1) => a * b;

console.log(multiply(5));
console.log(multiply(5, 2));
```

## --answers--

`5`、`10`

---

`1`、`2`

### --feedback--

考虑一下默认参数在箭头函数中是如何工作的。

---

`undefined`、`10`

### --feedback--

考虑一下默认参数在箭头函数中是如何工作的。

---

会报错。

### --feedback--

考虑一下默认参数在箭头函数中是如何工作的。

## --video-solution--

1
