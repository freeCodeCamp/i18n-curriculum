---
id: 5a24c314108439a4d4036141
title: React Redux 入門
challengeType: 6
forumTopicId: 301430
dashedName: getting-started-with-react-redux
---

# --description--

這一系列的挑戰介紹如何將 Redux 與 React 一起使用。首先，這裡回顧每項技術的一些關鍵原則。React 是一個視圖函式庫，你提供 `data`，然後它以高效且可預測的方式呈現視圖。Redux 是一個狀態管理框架，你可以用來簡化應用程式狀態的管理。通常，在 React Redux 應用程式中，你會創建一個單一的 Redux store 來管理整個應用程式的狀態。你的 React 組件只訂閱 store 中與其角色相關的資料片段。接著，你直接從 React 組件分派 `actions`，這些 `actions` 會觸發 store 的更新。

雖然 React 組件可以區域性地管理自己的狀態，但當你有一個複雜的應用程式時，通常最好將應用程式狀態保存在單一位置中，使用 Redux。當個別組件可能只有特定於它們的區域狀態時，會有例外。最後，因為 Redux 並非設計為開箱即用地與 React 一起工作，你需要使用 `react-redux` 軟體包。它為你提供了一種方式，將 Redux 的 `state` 和 `dispatch` 作為 `props` 傳遞給你的 React 組件。

在接下來的幾個挑戰中，首先，你會創建一個簡單的 React 組件，允許你輸入新的文字訊息。這些訊息會被添加到一個在視圖中顯示的陣列中。這應該是對你在 React 課程中所學內容的一個很好的複習。接著，你會創建一個 Redux store 和管理訊息陣列狀態的 actions。最後，你會使用 `react-redux` 將 Redux store 與你的組件連接，從而將區域的狀態提取到 Redux store 中。

# --instructions--

從 `DisplayMessages` 組件開始。為你的組件添加一個建構式，並以具有兩個屬性的狀態初始化它：`input`，設為空字串，以及 `messages`，設為空陣列。

# --hints--

`DisplayMessages` 組件應該呈現一個空的 `div` 元素。

```js
assert(
  (function () {
    const mockedComponent = Enzyme.mount(React.createElement(DisplayMessages));
    return mockedComponent.find('div').text() === '';
  })()
);
```

應該使用 `super` 正確地呼叫 `DisplayMessages` 建構式，並傳入 `props`。

```js
assert(
    (function () {
      const noWhiteSpace = __helpers.removeWhiteSpace(code);
      return (
        noWhiteSpace.includes('constructor(props)') &&
        noWhiteSpace.includes('super(props')
      );
    })()
  );
```

`DisplayMessages` 組件應該有一個初始狀態，該狀態與 `{input: "", messages: []}` 相等。

```js
assert(
  (function () {
    const mockedComponent = Enzyme.mount(React.createElement(DisplayMessages));
    const initialState = mockedComponent.state();
    return (
      typeof initialState === 'object' &&
      initialState.input === '' &&
      Array.isArray(initialState.messages) &&
      initialState.messages.length === 0
    );
  })()
);
```

# --seed--

## --after-user-code--

```jsx
ReactDOM.render(<DisplayMessages />, document.getElementById('root'))
```

## --seed-contents--

```jsx
class DisplayMessages extends React.Component {
  // Change code below this line

  // Change code above this line
  render() {
    return <div />
  }
};
```

# --solutions--

```jsx
class DisplayMessages extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      input: '',
      messages: []
    }
  }
  render() {
    return <div/>
  }
};
```
