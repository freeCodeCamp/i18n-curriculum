---
id: 6724e3d6e1cb0c1fec3a8e4f
title: Revisión de SQL y PostgreSQL
challengeType: 31
dashedName: review-sql-and-postgresql
---

# --description--

## Introducción a las Bases de Datos Relacionales

- **Bases de datos relacionales**: Organizan datos en tablas relacionadas compuestas por filas y columnas. Cada fila representa un registro, y cada columna representa un atributo de los datos.
- **Ventajas de las Bases de Datos Relacionales**: Escalables, ampliamente aplicables en diversos dominios (por ejemplo, salud, negocios, juegos) y estructuradas para mantener datos confiables.
- **Casos de uso comunes**: desarrollo web, sistemas de inventario, comercio electrónico, salud y aplicaciones empresariales.

## Conceptos clave

- **Esquema**: Una base de datos relacional requiere un esquema que defina su estructura—tablas, columnas, tipos de datos, restricciones y relaciones.
- **Claves Primarias**: Identificadores únicos para cada fila en una tabla. Son esenciales para la integridad de los datos y se usan para relacionar registros entre tablas mediante claves foráneas.
- **Claves foráneas**: Referencias a claves primarias en otra tabla, usadas para enlazar datos relacionados entre tablas.
- **Relaciones**: Al conectar tablas mediante claves primarias y foráneas, puedes estructurar datos normalizados y realizar consultas significativas.
- **Diagramas de Relaciones de Entidades (ERDs)**: Visualiza cómo las entidades (tablas) se relacionan entre sí en un esquema de base de datos.
- **Integridad de Datos**: Se aplica usando claves y tipos de datos. Garantiza la consistencia y precisión de los datos almacenados.

## Conceptos básicos de SQL

- **Consultas**: Solicitudes para recuperar datos específicos de la base de datos.

```sql
SELECT * FROM dogs WHERE age < 3;
```

- **Cláusula WHERE**: Filtra resultados basados en condiciones. Usa operadores de comparación como `<`, `=`, `>`, etc.
- **Select con ORDER BY**: Recupera y ordena resultados basados en una columna.

```sql
SELECT columns FROM table_name ORDER BY column_name;
```

## Operaciones de Tabla

- **Sentencia `CREATE TABLE`**: Esta sentencia se usa para crear una nueva tabla en una base de datos.

```sql
CREATE TABLE first_table();
```

- **Sentencia `ALTER TABLE ADD COLUMN`**: Esta sentencia se usa para agregar una columna a una tabla existente.

```sql
ALTER TABLE table_name ADD COLUMN column_name DATATYPE;
```

- **Sentencia `ALTER TABLE DROP COLUMN`**: Esta sentencia se usa para eliminar una columna de una tabla existente.

```sql
ALTER TABLE table_name DROP COLUMN column_name;
```

- **Sentencia `ALTER TABLE RENAME COLUMN`**: Esta sentencia se usa para renombrar una columna en una tabla.

```sql
ALTER TABLE table_name RENAME COLUMN column_name TO new_name;
```

- **Sentencia `DROP TABLE`**: Esta sentencia se usa para eliminar una tabla completa de la base de datos.

```sql
DROP TABLE table_name;
```

- **Sentencia `ALTER DATABASE RENAME`**: Esta sentencia se usa para renombrar una base de datos.

```sql
ALTER DATABASE database_name RENAME TO new_database_name;
```

- **Sentencia `DROP DATABASE`**: Esta sentencia se usa para eliminar una base de datos completa.

```sql
DROP DATABASE database_name;
```

## Restricciones e Integridad de Datos

- **`ALTER TABLE ADD COLUMN` con Restricción**: Esta sentencia se usa para agregar una columna con una restricción a una tabla existente.

```sql
ALTER TABLE table_name ADD COLUMN column_name DATATYPE CONSTRAINT;
```

- **Restricción `NOT NULL`**: Esta restricción asegura que una columna no pueda tener valores NULL.

```sql
column_name VARCHAR(50) NOT NULL
```

- **Sentencia `ALTER TABLE ADD PRIMARY KEY`**: Esta sentencia se usa para agregar una restricción de clave primaria a una tabla.

```sql
ALTER TABLE table_name ADD PRIMARY KEY(column_name);
```

- **Sentencia `ALTER TABLE DROP CONSTRAINT`**: Esta sentencia se usa para eliminar una restricción de una tabla.

```sql
ALTER TABLE table_name DROP CONSTRAINT constraint_name;
```

- **`ALTER TABLE ADD COLUMN` con clave foránea**: Esta instrucción se usa para agregar una columna de clave foránea que referencia a otra tabla.

```sql
ALTER TABLE table_name ADD COLUMN column_name DATATYPE REFERENCES referenced_table_name(referenced_column_name);
```

- **Sentencia `ALTER TABLE ADD UNIQUE`**: Esta sentencia se usa para agregar una restricción UNIQUE a una columna.

```sql
ALTER TABLE table_name ADD UNIQUE(column_name);
```

- **Sentencia `ALTER TABLE ALTER COLUMN SET NOT NULL`**: Esta sentencia se usa para establecer una restricción NOT NULL en una columna existente.

```sql
ALTER TABLE table_name ALTER COLUMN column_name SET NOT NULL;
```

- **Sentencia `INSERT` con valores NULL**: Esta sentencia muestra cómo insertar valores NULL en una tabla.

```sql
INSERT INTO table_name(column_a) VALUES(NULL);
-- or
INSERT INTO table_name(column_b) VALUES('value'); -- if column_a allows nulls
```

- **Clave primaria compuesta**: Esta restricción define una clave primaria que consiste en múltiples columnas.

```sql
CREATE TABLE course_enrollments (
    student_id INT,
    course_id INT,
    PRIMARY KEY (student_id, course_id)
);
```

## Manipulación de Datos (CRUD)

- **Sentencia `INSERT`**: Esta sentencia se usa para insertar una sola fila en una tabla.

```sql
INSERT INTO table_name(column_1, column_2) VALUES(value1, value2);
```

- **Sentencia `INSERT` con Columnas Omitidas**: Esta sentencia muestra cómo insertar valores sin listar explícitamente los nombres de las columnas, confiando en el orden predeterminado de las columnas en la tabla.

```sql
INSERT INTO dogs VALUES ('Gino', 3);
```

- **Sentencia `INSERT` con Múltiples Filas**: Esta sentencia se usa para insertar múltiples filas en una tabla en una sola operación.

```sql
INSERT INTO dogs (name, age) VALUES 
('Gino', 3),
('Nora', 2);
```

- **Sentencia `UPDATE`**: Esta sentencia se usa para actualizar datos existentes en una tabla basándose en una condición.

```sql
UPDATE table_name SET column_name=new_value WHERE condition;
```

- **Sentencia `DELETE`**: Esta sentencia se usa para eliminar filas de una tabla basándose en una condición.

```sql
DELETE FROM table_name WHERE condition;
```

## Tipos de datos

- **Tipo de dato `NUMERIC`**: Este tipo de dato se usa para almacenar números decimales precisos con una precisión y escala especificadas.

```sql
price NUMERIC(10, 2)
```

- **Tipo de dato `TEXT`**: Este tipo de dato se usa para almacenar cadenas de caracteres de longitud variable sin un límite específico de longitud.

```sql
column_name TEXT
```

- **Tipo de dato `INTEGER`**: Este tipo de dato se usa para almacenar números enteros sin decimales.

```sql
units_sold INTEGER
```

- **Tipos de Datos `SMALLINT` y `BIGINT`**: Estas son variantes de INTEGER con rangos más pequeños y más grandes respectivamente.

- **Tipo de dato `SERIAL`**: Este tipo de dato se usa para crear columnas enteras con auto-incremento en PostgreSQL.

```sql
id SERIAL
```

- **Atributo `AUTO_INCREMENT`**: Este atributo se usa en MySQL para crear columnas enteras con incremento automático.

```sql
id INT AUTO_INCREMENT
```

- **Tipo de dato `VARCHAR`**: Este tipo de dato se usa para almacenar cadenas de caracteres de longitud variable con una longitud máxima especificada.

```sql
name VARCHAR(50)
```

- **Tipo de dato `DATE`**: Este tipo de dato se usa para almacenar valores de fecha (año, mes, día).

```sql
event_date DATE
```

- **Tipo de dato `TIME`**: Este tipo de dato se usa para almacenar valores de tiempo (hora, minuto, segundo).

```sql
start_time TIME
```

- **Tipo de dato `TIMESTAMP`**: Este tipo de dato se usa para almacenar valores de fecha y hora, opcionalmente con información de zona horaria.

```sql
event_timestamp TIMESTAMP
event_timestamp TIMESTAMP WITH TIME ZONE
```

- **Tipo de dato `BOOLEAN`**: Este tipo de dato se usa para almacenar valores verdadero/falso.

```sql
is_active BOOLEAN
```

## Relaciones de Base de Datos

- **Types of Relationships**: These are the different ways tables can be related to each other in a relational database.
  - Uno a uno
  - Uno a muchos
  - Muchos a uno
  - Muchos a muchos
  - Auto-referencia (recursiva)

- **Relación Uno a Uno**: Este tipo de relación significa que cada registro en una tabla corresponde exactamente a un registro en otra tabla.

```md
One employee is assigned exactly one vehicle.
Tables: employees, vehicles
```

- **Relación Uno a Muchos**: Este tipo de relación significa que un registro en una tabla puede estar asociado con múltiples registros en otra tabla.

```md
One customer can have many orders.
Tables: customers → orders
```

- **Relación Muchos a Muchos mediante Tabla de Unión**: Este tipo de relación se implementa usando una tabla de unión que contiene claves foráneas de ambas tablas relacionadas.

```sql
CREATE TABLE books_authors (
    author_id INT REFERENCES authors(id),
    book_id INT REFERENCES books(id)
);
```

- **Relaciones de Autorreferencia**: Este tipo de relación ocurre cuando una tabla se referencia a sí misma, creando una estructura jerárquica.

```md
An employee table where each employee may report to another employee.
```

## SQL avanzado (Joins)

- **Sentencia `INNER JOIN`**: Esta unión devuelve solo las filas que tienen valores coincidentes en ambas tablas.

```sql
SELECT *
FROM products
INNER JOIN sales ON products.product_id = sales.product_id;
```

- **Sentencia `FULL OUTER JOIN`**: Esta unión devuelve todas las filas de ambas tablas, incluyendo las filas no coincidentes de cualquiera de las tablas.

```sql
SELECT *
FROM products
FULL OUTER JOIN sales ON products.product_id = sales.product_id;
```

- **Sentencia `LEFT OUTER JOIN`**: Esta unión devuelve todas las filas de la tabla izquierda y las filas coincidentes de la tabla derecha.

```sql
SELECT *
FROM products
LEFT JOIN sales ON products.product_id = sales.product_id;
```

- **Sentencia `RIGHT OUTER JOIN`**: Esta unión devuelve todas las filas de la tabla derecha y las filas coincidentes de la tabla izquierda.

```sql
SELECT *
FROM products
RIGHT JOIN sales ON products.product_id = sales.product_id;
```

- **Sentencia `SELF JOIN`**: Esta unión se usa para unir una tabla consigo misma y comparar filas dentro de la misma tabla.

```sql
SELECT A.column_name, B.column_name
FROM table_name A
JOIN table_name B ON A.related_column = B.related_column;
```

- **Sentencia `CROSS JOIN`**: Esta unión devuelve el producto cartesiano de dos tablas, combinando cada fila de la primera tabla con cada fila de la segunda tabla.

```sql
SELECT *
FROM table1
CROSS JOIN table2;
```

## Comandos específicos de PostgreSQL

- **Comando de inicio de sesión `psql`**: Este comando se usa para iniciar sesión en PostgreSQL con un nombre de usuario y base de datos específicos.

```bash
psql --username=freecodecamp --dbname=postgres
```

- **Comando `\l`**: Este comando lista todas las bases de datos en la instancia de PostgreSQL.

```sql
\l
```

- **Comandos `CREATE DATABASE` y `\c`**: Estos comandos se usan para crear una nueva base de datos y conectarse a ella.

```sql
CREATE DATABASE database_name;
\c database_name
```

- **Comando `\d`**: Este comando lista todas las tablas en la base de datos actual.

```sql
\d
```

- **Comando `\d table_name`**: Este comando muestra el esquema/estructura de una tabla específica.

```sql
\d table_name
```

- **Comando `\q`**: Este comando cierra el cliente de PostgreSQL.

```bash
\q
```

## Relacional vs No Relacional

- **Bases de datos no relacionales (NoSQL)**: Almacenan datos no estructurados o semi-estructurados. No requieren un esquema rígido y son más flexibles para modelos de datos en evolución.
- **Elegir entre relacional y no relacional**: Depende de la naturaleza de tus datos y los requisitos de la aplicación.
- **Relacional vs No relacional**: Elige relacional para datos estructurados y consistencia; NoSQL para flexibilidad y datos que cambian rápidamente.

## Sistemas RDBMS populares

- **MySQL**: De código abierto, confiable, ampliamente usado en el desarrollo web, respaldado por una gran comunidad.
- **PostgreSQL**: De código abierto, avanzado, extensible. Soporta tipos de datos personalizados y programación del lado del servidor.
- **SQLite**: Ligero, basado en archivos, sin servidor. Ideal para aplicaciones pequeñas.
- **Microsoft SQL Server**: Base de datos propietaria de nivel empresarial.
- **Oracle Database**: RDBMS comercial conocido por su rendimiento y escalabilidad a gran escala.

## Mejores Prácticas

- **Convención de Nombres**: Usa `snake_case` (por ejemplo, `delivery_orders`) para nombres de tablas y columnas.

# --assignment--

Revisa temas y conceptos de SQL y PostgreSQL.
