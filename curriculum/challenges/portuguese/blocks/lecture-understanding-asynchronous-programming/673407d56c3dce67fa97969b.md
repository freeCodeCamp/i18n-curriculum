---
id: 673407d56c3dce67fa97969b
title: O que é Async/Await e como funciona?
challengeType: 19
dashedName: what-is-async-await-and-how-does-it-work
---

# --interactive--

Nas lições anteriores, você aprendeu sobre programação assíncrona que permite que outro código seja executado enquanto esperamos que algumas tarefas demoradas sejam concluídas, como buscar dados de um servidor, ler dados de um arquivo e assim por diante.

`async`/`await`, construído sobre promises, facilita a escrita e a leitura de código assíncrono. Quando você coloca a palavra-chave `async` antes de uma função, isso significa que essa função sempre retornará uma `Promise`. Apenas dentro de uma função `async`, você pode usar a palavra-chave `await`, que permite esperar que uma `Promise` seja resolvida antes de passar para a próxima linha de código. Aqui está um exemplo para ilustrar como `async`/`await` funciona:

:::interactive_editor

```js
async function delayedGreeting(name) {
  console.log("A Messenger entered the chat...");
  await new Promise(resolve => setTimeout(resolve, 2000));
  console.log(`Hello, ${name}!`);
}

delayedGreeting("Alice");
console.log("First Printed Message!");
```

:::

Neste código, definimos uma função `async` chamada `delayedGreeting`. Dentro desta função, usamos `await` para pausar a execução por 2 segundos. Após o atraso, ele imprime uma saudação. 

Quando chamamos esta função, você verá `First Printed Message!` aparecer antes da saudação. Isso ocorre porque a função é assíncrona - ela não bloqueia o restante do código de ser executado.

Uma das maiores vantagens do `async`/`await` é o tratamento de erros. Com promises, frequentemente tínhamos que usar o método `.catch()` para tratar erros. Com `async`/`await`, podemos usar blocos `try`/`catch`. Aqui está um exemplo:

```js
async function fetchUserData() {
  try {
    let response = await fetch(`https://api.example.com/users`);
    let userData = await response.json();
    console.log(userData);
  } catch (error) {
    console.log("Error fetching user data:", error);
  }
}

fetchUserData();
```

Neste exemplo, estamos usando `async`/`await` para buscar dados do usuário de uma API. A palavra-chave `await` é usada duas vezes: uma para esperar a conclusão da operação fetch e outra para esperar o término do parsing JSON. Se ocorrer algum erro durante este processo, ele será capturado no bloco `catch`.

# --questions--

## --text--

Qual é o propósito principal da palavra-chave `async` em JavaScript?

## --answers--

Para fazer uma função rodar mais rápido.

### --feedback--

Pense no que `async` faz com o valor de retorno da função.

---

Para indicar que uma função sempre retornará uma Promise.

---

Para criar uma nova thread para a função executar.

### --feedback--

Pense no que `async` faz com o valor de retorno da função.

---

Para evitar que uma função seja chamada assincronamente.

### --feedback--

Pense no que `async` faz com o valor de retorno da função.

## --video-solution--

2

## --text--

Onde a palavra-chave `await` pode ser usada em JavaScript?

## --answers--

Em qualquer lugar no código.

### --feedback--

Considere as restrições sobre onde `await` pode ser colocado.

---

No início do seu código.

### --feedback--

Considere as restrições sobre onde `await` pode ser colocado.

---

Dentro de funções `async`.

---

Apenas em blocos `try...catch`.

### --feedback--

Considere as restrições sobre onde `await` pode ser colocado.

## --video-solution--

3

## --text--

O que acontece quando ocorre um erro em uma Promise aguardada?

## --answers--

O programa trava.

### --feedback--

Pense em como o tratamento de erros funciona com `async`/`await`.

---

O erro é registrado automaticamente no console.

### --feedback--

Pense em como o tratamento de erros funciona com `async`/`await`.

---

Nada, erros em Promises são ignorados.

### --feedback--

Pense em como o tratamento de erros funciona com `async`/`await`.

---

O erro pode ser capturado usando um bloco `try...catch`.

## --video-solution--

4
