---
id: 6723ca6c6db3deb21cb1bf19
title: JavaScript 高阶函数复习
challengeType: 31
dashedName: review-javascript-higher-order-functions
---

# --interactive--

## 回调函数和 `forEach` 方法

- **定义**：在 JavaScript 中，回调函数是作为参数传递给另一个函数的函数，并且在主函数执行完成后执行。
- **`forEach()` 方法**：此方法用于迭代数组中的每个元素并对每个元素执行操作。`forEach` 中的回调函数最多可以接受三个参数：当前元素、当前元素的索引以及调用 `forEach` 的数组。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];

// Result: 2 4 6 8 10
numbers.forEach((number) => {
  console.log(number * 2);
});
```

:::

## 高阶函数

- **定义**：高阶函数接受一个或多个函数作为参数，并返回一个函数或值作为结果。

:::interactive_editor

```js
function operateOnArray(arr, operation) {
  const result = [];
  for (let i = 0; i < arr.length; i++) {
    result.push(operation(arr[i]));
  }
  return result;
}

function double(x) {
  return x * 2;
}

const numbers = [1, 2, 3, 4, 5];
const doubledNumbers = operateOnArray(numbers, double);
console.log(doubledNumbers); // [2, 4, 6, 8, 10]
```

:::

- **`map()` 方法**：此方法用于通过将给定函数应用到原数组的每个元素来创建一个新数组。回调函数最多可以接受三个参数：当前元素、当前元素的索引以及调用 `map` 的数组。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((num) => num * 2);

console.log(numbers); // [1, 2, 3, 4, 5]
console.log(doubled); // [2, 4, 6, 8, 10]
```

:::

- **`filter()` 方法**：此方法用于创建一个包含通过指定测试的元素的新数组，使其在根据条件选择性提取项时非常有用。就像 `map` 方法一样，`filter` 方法的回调函数接受相同的三个参数：当前正在处理的元素、索引和数组。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const evenNumbers = numbers.filter((num) => num % 2 === 0);

console.log(evenNumbers); // [2, 4, 6, 8, 10]
```

:::

- **`reduce()` 方法**：此方法用于处理数组并将其压缩为单个值。该单个值可以是数字、字串、对象，甚至是另一个数组。`reduce()` 方法通过依次对数组中的每个元素应用函数来工作，将每次计算的结果传递给下一个。此函数通常称为累加器函数。累加器函数接受两个主要参数：累加器和当前值。累加器是你保存操作运行结果的地方，当前值是正在处理的数组元素。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce(
  (accumulator, currentValue) => accumulator + currentValue,
  0
);

console.log(sum); // 15
```

:::

## 方法链式调用

- **定义**：方法链是一种编程技术，允许你在同一行 `code` 中对同一个对象调用多个方法。该技术可以使你的 `code` 更加可读和简洁，尤其是在对同一个对象执行一系列操作时。

:::interactive_editor

```js
const result = "  Hello, World!  "
  .trim()
  .toLowerCase()
  .replace("world", "JavaScript");

console.log(result); // "hello, JavaScript!"
```

:::

## 使用 `sort` 方法

- **定义**：`sort` 方法用于对数组的元素进行排序并返回排序后数组的引用。此情况下不会进行拷贝，因为元素是在原地排序的。

:::interactive_editor

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.sort();

console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
```

:::

如果你需要排序数字，那么你需要传入一个比较函数。`sort` 方法将元素转换为字串，然后比较它们的 UTF-16 码元序列。UTF-16 码元是表现字串中字符的数值。UTF-16 码元的例子是数字 65、66 和 67，分别表现字符 `"A"`、`"B"` 和 `"C"`。因此数字 200 出现在数字 3 之前，因为在比较它们的 UTF-16 码元时，字串 `"200"` 出现在字串 `"3"` 之前。

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];

numbers.sort((a, b) => a - b);

console.log(numbers); // [3, 5, 10, 200, 414]
```

:::

参数 `a` 和 `b` 是被比较的两个元素。如果 `a` 应该排在 `b` 之前，比较函数应返回负值；如果 `a` 应该排在 `b` 之后，比较函数应返回正值；如果 `a` 和 `b` 相等，比较函数应返回零。

## 使用 `every` 和 `some` 方法

- **`every()` 方法**：此方法测试数组中的所有元素是否通过由提供的函数实现的测试。如果提供的函数对数组中的所有元素都返回 `true`，则 `every()` 方法返回 `true`。如果有任何元素未通过测试，该方法会立即返回 `false` 并停止检查剩余元素。

:::interactive_editor

```js
const numbers = [2, 4, 6, 8, 10];
const hasAllEvenNumbers = numbers.every((num) => num % 2 === 0);

console.log(hasAllEvenNumbers); // true
```

:::

- **`some()` 方法**：此方法查看是否至少有一个元素通过测试。`some()` 方法一旦找到通过测试的元素就返回 `true`。如果没有元素通过测试，则返回 `false`。

:::interactive_editor

```js
const numbers = [1, 3, 5, 7, 8, 9];
const hasSomeEvenNumbers = numbers.some((num) => num % 2 === 0);

console.log(hasSomeEvenNumbers); // true
```

:::

# --assignment--

复习 JavaScript 高阶函数的主题和概念。
