---
id: 683ec8e8a2389f713380fca8
title: 循环遍历字典的一些常见技术有哪些？
challengeType: 19
dashedName: what-are-some-common-techniques-to-loop-over-a-dictionary
---

# --description--

如果你需要访问并处理字典的键值点对，你可以对字典进行循环。这对于更新它们的值或对它们应用某些逻辑非常有帮助。

让我们来看一些你可以使用的技术。

假设我们有一个 `products` 字典，将每个产品与其价格关联起来：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}
```

如果我们想为所有产品提供 20% 折扣，我们可以循环遍历所有的键值点对并修改价格。

`.values()`、`.keys()` 和 `.items()` 方法对于这些技术至关重要。我们在之前的课程中简要介绍过它们。

它们返回一个包含字典的值、密钥和键值点对的视图对象。你可以在 `for` 循环中使用这些视图对象来迭代元素。

例如，你可以像这样迭代字典的所有值。

你写 `for`，循环变量（在这个分支中是 `price`），`products.values()` 来获取 `products` 字典的所有值，冒号，然后是循环的体，在这里你可以应用任何对这些值的逻辑。在这个分支中，我们正在打印它们。

循环变量将在每次迭代中依次取每一个值：

```python
for price in products.values():
    print(price)
```

输出如下。正如你所见，每个值都被逐个打印到控制台：

```md
990
600
250
70
```

这对于 `.keys()` 也完全相同，如果你需要迭代字典的键。你只需迭代 `products.keys()` 或直接迭代 `products`，并为循环变量赋值一个描述性名称：

```python
for product in products.keys():
    print(product)

# Or

for product in products:
    print(product)
```

这是输出。每个密钥都会依次打印到控制台：

```md
Laptop
Smartphone
Tablet
Headphones
```

如果你需要同时迭代密钥及其对应的值，这对键值点对的操作完全相同。你只需迭代 `products.items()`：

```python
for product in products.items():
    print(product)
```

这是输出。现在你得到带有密钥及其对应值的各个元组：

```md
('Laptop', 990)
('Smartphone', 600)
('Tablet', 250)
('Headphones', 70)
```

如果你想将密钥和值保存到不同的循环变量中，你只需定义它们并用逗号分隔。然后，你可以在循环体中使用它们。

这里，我们正在定义一个 `product` 循环变量和一个 `price` 循环变量。每个变量将保存其对应的值。重要的是要按顺序定义它们——先定义密钥，然后定义值：

```python
for product, price in products.items():
    print(product, price)
```

这是输出。我们将它们并排打印，但你可以根据需要在你的代码中使用这些值。

```md
Laptop 990
Smartphone 600
Tablet 250
Headphones 70
```

既然你对这方面了解更多了，我们可以回到最初的例子。如果我们想提供 20％ 的折扣，我们会将每个价格乘以 `0.8`，然后将其重新赋值为该产品 `key` 的值。

如果我们想使用整数，也可以将结果向下取整：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}

for product, price in products.items():
    products[product] = round(price * 0.8)

print(products)
```

然后，如果我们打印字典，我们将得到这些带有折扣价格的密钥-值点对：

```python
{
    'Laptop': 792, 
    'Smartphone': 480, 
    'Tablet': 200, 
    'Headphones': 56
}
```

最后，如果你需要在迭代键值点对的同时跟踪计数器，你可以调用 `enumerate()` 函数。这个计数器本质上充当该元素在循环中的“索引”或“计数”。

该函数返回一个 `enumerate` 对象，它为每个键值点对赋值一个整数，类似计数器。你可以从任意数字开始计数，但默认从 0 开始。

这里，我们正在遍历 `products` 字典的密钥：

```python
for product in enumerate(products):
    print(product)
```

但是 `enumerate()` 函数也会为每个密钥赋值一个整数，所以我们得到包含整数和密钥的元组。

这是输出：

```md
(0, 'Laptop')
(1, 'Smartphone')
(2, 'Tablet')
(3, 'Headphones')
```

如果你需要，可以将这些值赋值给单独的循环变量。这里，我们有两个循环变量（`index` 和 `product`）。当你使用 `enumerate()` 时，这就是你常见和使用的方式：

```python
for index, product in enumerate(products):
    print(index, product)
```

如果你需要迭代这些值，可以将 `products` 替换为 `products.values()`：

```python
for price in enumerate(products.values()):
    print(price)
```

输出将包含每个元组中的索引和价格：

```md
(0, 990)
(1, 600)
(2, 250)
(3, 70)
```

你也可以将它们赋值给单独的循环变量：

```python
for index, price in enumerate(products.values()):
    print(index, price)
```

这将是输出。你可以根据需要在你的代码中使用它们：

```md
0 990
1 600
2 250
3 70
```

使用 `products.items()`，你可以获取整个密钥-值点对，除此之外还有“index”或“counter”：

```python
for index, product in enumerate(products.items()):
    print(index, product)
```

在此示例中，我们获取索引，后跟包含对应键值对的密钥和值的元组：

```md
0 ('Laptop', 990)
1 ('Smartphone', 600)
2 ('Tablet', 250)
3 ('Headphones', 70)
```

要自定义计数的初始值，你可以向 `enumerate()` 传递第二个参数。例如，这里我们从 1 开始计数：

```python
for index, product in enumerate(products.items(), 1):
    print(index, product)
```

你可以在输出中看到此更改。现在第一个整数是 1 而不是 0：

```md
1 ('Laptop', 990)
2 ('Smartphone', 600)
3 ('Tablet', 250)
4 ('Headphones', 70)
```

这适用于我们迄今为止见过的任何变体。你只需将初始数字作为第二个参数传递即可。

有许多技术可以循环遍历字典。这些是一些常见的方法，你需要为你的项目选择最合适的。

# --questions--

## --text--

哪种字典方法在循环中使用时，允许你访问字典中保存的键值点对？

## --answers--

`.keys()`

### --feedback--

考虑哪个方法返回包含密钥及其对应值的序列。

---

`.items()`

---

`.values()`

### --feedback--

考虑哪个方法返回包含密钥及其对应值的序列。

---

`enumerate()`

### --feedback--

考虑哪个方法返回包含密钥及其对应值的序列。

## --video-solution--

2

## --text--

当使用 `enumerate()` 函数和 `dictionary.items()` 时，第一个循环变量表现什么？

## --answers--

字典的密钥

### --feedback--

考虑 `enumerate()` 为每次迭代向可迭代对象添加的内容。 

---

字典的值。

### --feedback--

考虑 `enumerate()` 为每次迭代向可迭代对象添加的内容。 

---

键值点对的索引或计数。

---

作为元组的键值点对。

### --feedback--

考虑 `enumerate()` 为每次迭代向可迭代对象添加的内容。 

## --video-solution--

3

## --text--

如果你需要迭代一个字典并且只访问密钥，你会使用哪种方法？

## --answers--

`.keys()`

---

`.values()`

### --feedback--

考虑哪种 `method` 可以让你访问字典的 `keys`。

---

`enumerate()`

### --feedback--

考虑哪种 `method` 可以让你访问字典的 `keys`。

---

`.items()`

### --feedback--

考虑哪种 `method` 可以让你访问字典的 `keys`。

## --video-solution--

1

