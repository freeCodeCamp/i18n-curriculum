---
id: 5900f4111000cf542c50ff24
title: '问题165：交叉口'
challengeType: 1
forumTopicId: 301799
dashedName: problem-165-intersections
---

# --description--

段由其两个端点唯一定义。 通过考虑平面几何中的两个线段，存在三种可能性：段具有零点，一个点或无限多个共同点。

此外，当两个线段恰好有一个公共点时，该公共点可能是任一线段的端点，或者是两个线段的端点。如果两个线段的公共点不是任一线段的端点，则该点是两个线段的内部点。

如果T是L1和L2的唯一公共点，则我们将两个段L1和L2的公共点T称为L1和L2的真实交点，并且T是两个段的内点。

考虑三个段 $L_1$, $L_2$, 和 $L_3$:

$$\begin{align}
  & L_1: (27, 44) \\;从\text{到}\\; (12, 32) \\\\
  & L_2: (46, 53) \\;从\text{到}\\; (17, 62) \\\\
  & L_3: (46, 70) \\;从\text{到}\\; (22, 40) \\\\
\end{align}$$

可以验证线路段 $L_2$ 和 $L_3$ 有一个真正的交叉点。  We note that as the one of the end points of $L_3$: (22, 40) lies on $L_1$ this is not considered to be a true point of intersection. $L_1$ and $L_2$ have no common point. 因此，在三个线段中，我们找到一个真正的交叉点。

现在让我们对5000个线段进行相同的操作。 为此，我们使用所谓的“Blum Blum Shub”伪随机数生成器生成20000个数字。

$$\begin{align}
  & s_0 = 290797 \\\\
  & s_{n + 1} = s_n × s_n (\text{取模}\\; 50515093) \\\\
  & t_n = s_n (\text{取模}\\; 500) \\\\
\end{align}$$

要创建每个线段, 我们使用连续四个数字 $t_n$。 这就是说，第一个线段是：

($_t$1，$t_2$) 到 ($t_3$，$t_4$)

根据上述生成器计算的前四个数字应为：27、144、12和232。 因此，第一部分为（27、144）至（12、232）。

在5000个线段中发现了多少个不同的真实交叉点？

# --hints--

`distinctIntersections()` 应该返回`2868868`.

```js
assert.strictEqual(distinctIntersections(), 2868868);
```

# --seed--

## --seed-contents--

```js
function distinctIntersections() {

  return true;
}

distinctIntersections();
```

# --solutions--

```js
// solution required
```
