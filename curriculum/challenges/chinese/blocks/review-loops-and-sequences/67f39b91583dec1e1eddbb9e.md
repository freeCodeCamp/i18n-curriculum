---
id: 67f39b91583dec1e1eddbb9e
title: 循环和序列复习
challengeType: 31
dashedName: review-loops-and-sequences
---

# --description--

## Python 列表

- **介绍**：在 Python 中，列表数据类型是一个有序的元素序列，元素可以由字串、数字甚至其他列表组成。列表是可变的，并且基于零索引。

```python
cities = ['Los Angeles', 'London', 'Tokyo']
```

- **访问列表中的元素**：要访问 `cities` 列表中的元素，你可以引用其在序列中的索引号：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # Los Angeles
```

- **使用负索引访问元素**：要访问任何列表的最后一个元素，你可以使用 `-1` 作为索引号：

```python
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # Tokyo
```

- 负索引用于从列表末尾开始访问元素，而不是从索引 `0` 开始。

- **使用 `list()` 构造函数创建列表**：列表也可以使用 `list()` 构造函数创建。`list()` 构造函数用于将可迭代对象转换为列表：

```python
developer = 'Jessica'

print(list(developer)) 
# Result: ['J', 'e', 's', 's', 'i', 'c', 'a']
```

- **查找列表的长度**：你可以使用 `len()` 函数来获取列表的长度：

```python
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

- **列表可变性**：列表是可变的，这意味着只要你传入有效的索引数字，就可以更新列表中的任何元素。要在特定索引处更新列表，你可以为该索引赋值一个新值：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

- **索引超出范围误差**：如果你传入的索引（正数或负数）超出了列表的边界，那么你将收到一个 `IndexError`：

```python
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list assignment index out of range
"""
```

- **从列表中移除元素**：可以使用 `del` 关键字从列表中移除元素：

```python
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

- **查看元素是否存在于列表中**：可以使用 `in` 关键字来查看元素是否存在于列表中：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **嵌套列表**：列表可以嵌套在其他列表中：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

- 要访问嵌套列表，你需要使用索引 `2` 访问它，因为列表是从零开始索引的。

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

- 要进一步访问该嵌套列表中的第二种语言，你需要使用索引 `1` 来访问它：

```python
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # Rust
```

- **从列表中解包值：** 从列表中解包值是一种将列表中的值赋值给新变量的技术。下面是一个示例，将 `developer` 列表解包到名为 `name`、`age` 和 `job` 的新变量中，如下所示：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer
```

- **从列表中收集剩余项**：要收集列表中的任何剩余元素，你可以像这样使用星号（`*`）操作符：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer
```

- 如果赋值操作符左侧的变量数量与列表中的项总数不匹配，则你会收到一个 `ValueError`。

- **切片列表**：切片是通过使用切片操作符 `:` 来访问列表部分内容的概念。要切片一个从索引 `1` 开始到索引 `3` 结束的列表，你可以使用以下语法：

```python
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie']
desserts[1:3] # ['Cookies', 'Ice Cream']
```

- **步长间隔**：也可以指定步长间隔，用于确定索引之间的增量。如果你想使用切片提取仅包含偶数的列表，下面是一个示例：

```python
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

## 列表方法

- **append()**：用于将一项添加到列表的末尾。下面是使用 `append()` 方法将数字 `6` 添加到此 `numbers` 列表的示例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.append(6)
print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **追加列表**：`append()` 方法也可以用于将一个列表添加到另一个列表的末尾：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.append(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, [6, 8, 10]]
```

- **extend()**：用于将多项添加到列表的末尾。下面是将数字 `6`、`8` 和 `10` 添加到 `numbers` 列表末尾的示例：

```py
numbers = [1, 2, 3, 4, 5]
even_numbers = [6, 8, 10]

numbers.extend(even_numbers)
print(numbers) # [1, 2, 3, 4, 5, 6, 8, 10]
```

- **insert()**：用于在列表中的特定索引插入一项。以下是使用 `insert()` 方法的示例：

```py
numbers = [1, 2, 3, 4, 5]
numbers.insert(2, 2.5)

print(numbers) # [1, 2, 2.5, 3, 4, 5]
```

- **remove():** 用于从列表中移除一项。`remove()` 方法只会移除列表中第一次出现的该项：

```py
numbers = [1, 2, 3, 4, 5, 5, 5]
numbers.remove(5)

print(numbers) # [1, 2, 3, 4, 5, 5]

```

- **pop()**：用于从列表中移除特定项并返回它：

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop(1) # The number 2 is returned
```

- 如果你没有为 `pop` 方法指定元素，则会移除最后一个元素。

```py
numbers = [1, 2, 3, 4, 5]
numbers.pop() # The number 5 is returned
```

- **clear()**：用于从列表中移除所有项：

```py
numbers = [1, 2, 3, 4, 5]
numbers.clear()

print(numbers) # []
```

- **sort()**：`sort()` 方法用于就地排序元素。以下是就地排序随机 `numbers` 列表的示例：

```py
numbers = [19, 2, 35, 1, 67, 41]
numbers.sort()

print(numbers) # [1, 2, 19, 35, 41, 67]
```

- **sorted()**：用于对列表中的元素进行排序，并返回一个新建的排序列表，而不是修改原始列表。

- **reverse()**：用于反转列表中元素的顺序：

```py
numbers = [6, 5, 4, 3, 2, 1]
numbers.reverse()

print(numbers) # [1, 2, 3, 4, 5, 6]
```

- **index()**：用于查找元素在列表中首次出现的索引：

```python
programming_languages = ['Rust', 'Java', 'Python', 'C++']
programming_languages.index('Java') # 1
```

- 如果使用 `index()` 方法找不到元素，则结果将是 `ValueError`。

## Python 中的元组

- **定义**：元组是 Python 的一种数据类型，用于创建有序的值序列。元组可以包含混合的数据类型：

```py
developer = ('Alice', 34, 'Rust Developer')
```

- 元组是不可变的，这意味着元组中的元素一旦创建就不能更改。如果你尝试更新元组中的某一项，你将得到一个 `TypeError`：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')
programming_languages[0] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object does not support item assignment
"""
```

- **从元组访问元素**：要访问元组中的元素，使用方括弧表示法和索引号：

```py
developer = ('Alice', 34, 'Rust Developer')
developer[1] # 34
```

- 可以使用负索引从元组的末尾访问元素：

```py
numbers = (1, 2, 3, 4, 5)
numbers[-2] # 4
```

- 如果你尝试传入一个大于或相等于元组长度的索引号，则会收到一个 `IndexError`：

```py
numbers = (1, 2, 3, 4, 5)
numbers[7]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: tuple index out of range
"""
```

- 元组也可以使用 `tuple()` 构造函数创建。在构造函数中，你可以传入不同的可迭代对象，比如字串、列表甚至其他元组。

```python
developer = 'Jessica'

print(tuple(developer)) 
# Result: ('J', 'e', 's', 's', 'i', 'c', 'a')
```

- **验证元组中的项**：要查看某项是否在元组中，你可以像这样使用 `in` 关键字：

```py
programming_languages = ('Python', 'Java', 'C++', 'Rust')

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

- **解包元组**：项可以像这样从元组中解包：

```py
developer = ('Alice', 34, 'Rust Developer')
name, age, job = developer
```

- 如果你需要收集元组中剩余的元素，可以像这样使用星号（`*`）操作符：

```py
developer = ('Alice', 34, 'Rust Developer')
name, *rest = developer
```

- **切片元组**：切片可用于提取元组的一部分。例如，项 `pie` 和 `cookies` 可以切片成一个单独的元组：

```py
desserts = ('cake', 'pie', 'cookies', 'ice cream')
desserts[1:3] # ('pie', 'cookies')
```

- **从元组中移除项**：从元组中移除一项会引起 `TypeError`，因为元组是不可变的：

```py
developer = ('Jane Doe', 23, 'Python Developer')
del developer[1]

"""
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: "tuple" object doesn't support item deletion
"""
```

- **何时使用元组而非列表？**：如果你需要一个动态的元素集合，可以添加、删除和更新元素，那么你应该使用列表。如果你知道你正在处理一个固定且不可变的数据集合，那么你应该使用元组。

## 常用元组方法

- **`count()`**：用于确定一项在元组中出现了多少次。例如，你可以查看语言 `'Rust'` 在元组中出现了多少次：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('Rust') # 2
```

- 如果 `count()` 函数中指定的项在元组中根本不存在，则返回值将是 `0`：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.count('JavaScript') # 0
```

- 如果没有传递参数给 `count()` 函数，那么 Python 会返回一个 `TypeError`。

- **index()**：用于查找特定项在元组中出现的索引。以下是使用 `index()` 方法查找语言 `'Java'` 的索引的示例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust')
programming_languages.index('Java') # 1
```

- 如果找不到指定的项，Python 将返回一个 `ValueError`。

- 你可以向 `index()` 方法传递一个可选的起始索引，以指定从元组中的哪个位置开始查找该项：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
programming_languages.index('Python', 3) # 5
```

- 你也可以传入一个可选的结束索引到 `index()` 方法中，以指定在元组中停止查找该项的位置：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python', 'JavaScript', 'Python')
programming_languages.index('Python', 2, 5) # 2
```

- **`sorted()`**：用于对任何可迭代对象中的元素进行排序并返回一个新排序的列表。以下是使用 `sorted()` 函数创建一个新数字列表的示例：

```py
numbers = (13, 2, 78, 3, 45, 67, 18, 7)
sorted(numbers) # [2, 3, 7, 13, 18, 45, 67, 78]
```

- **修改排序行为**：你可以使用可选的 `reverse` 和 `key` 参数来自定义可迭代对象的排序行为。以下是使用 `key` 参数按长度对元组中的项进行排序的示例：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')
sorted(programming_languages, key=len)

# Result
# ['C++', 'Rust', 'Java', 'Rust', 'Python', 'Python']
```

- 你可以使用 `reverse` 参数创建一个逆序的新值列表，方法如下：

```py
programming_languages = ('Rust', 'Java', 'Python', 'C++', 'Rust', 'Python')

print(sorted(programming_languages, reverse=True))

# Result
# ['Rust', 'Rust', 'Python', 'Python', 'Java', 'C++']
```

## Python 中的循环

- **定义**：循环用于重复执行一段代码块指定的次数。

- **`for` 循环**：用于迭代序列（如列表、元组或字串）并为序列中的每个项执行一块代码。下面是使用 `for` 循环迭代列表并打印每种语言到控制台的示例：

```py
programming_languages = ['Rust', 'Java', 'Python', 'C++']

for language in programming_languages:
    print(language)

"""
Result 

Rust
Java
Python
C++
"""
```

- 下面是使用 `for` 循环遍历字串 `code` 并打印出每个字符的示例：

```py
for char in 'code':
    print(char)

"""
Result 

c
o
d
e
"""
```

- `for` 循环可以嵌套。以下是使用嵌套 `for` 循环的示例：

```py
categories = ['Fruit', 'Vegetable']
foods = ['Apple', 'Carrot', 'Banana']

for category in categories:
    for food in foods:
        print(category, food)

"""
Result

Fruit Apple
Fruit Carrot
Fruit Banana
Vegetable Apple
Vegetable Carrot
Vegetable Banana
"""

```

- **`while` 循环**：重复执行一段代码块直到条件为 `False`。下面是使用 `while` 循环进行猜数字游戏的示例：

```py
secret_number = 3
guess = 0

while guess != secret_number:
    guess = int(input('Guess the number (1-5): '))
    if guess != secret_number:
        print('Wrong! Try again.')

print('You got it!')

"""
Result

Guess the number (1-5): 2
Wrong! Try again.
Guess the number (1-5): 1
Wrong! Try again.
Guess the number (1-5): 3
You got it!
"""

```

- **`break` 和 `continue` 语句**：用于循环中以修改循环的执行。

- `break` 语句用于在满足某个条件时立即退出循环。以下是使用 `break` 语句处理 `developer_names` 列表的示例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        break
    print(developer)
```

- `continue` 语句用于跳过当前迭代并进入循环的下一次迭代。下面是一个使用 `continue` 语句替代 `break` 语句的示例：

```py
developer_names = ['Jess', 'Naomi', 'Tom']

for developer in developer_names:
    if developer == 'Naomi':
        continue
    print(developer)
```

- `for` 和 `while` 循环都可以与 `else` 子句结合使用，只有当循环未被 `break` 终止时才会执行该子句：

```python
words = ['sky', 'apple', 'rhythm', 'fly', 'orange']

for word in words:
    for letter in word:
        if letter.lower() in 'aeiou':
            print(f"'{word}' contains the vowel '{letter}'")
            break
    else:
        print(f"'{word}' has no vowels")
```

## 范围及其在循环中的使用

- **`range()` 函数**：用于生成一个整数序列。

```py
range(start, stop, step)
```

- 必需的 `stop` 参数是一个整数（不包含），它表现为所生成数字序列的终点。以下是使用 `range()` 函数的示例：

```py
for num in range(3):
    print(num)
```

- 如果未指定 `start` 参数，则默认值为 `0`。默认情况下，整数序列将以 `1` 递增。你可以使用可选的 `step` 参数来更改默认的递增值。以下是生成从 2 到但不包括 11（即包括 10）的偶数序列的示例。

```py
for num in range(2, 11, 2):
    print(num)
```

- 如果你不给 `range()` 函数提供任何参数，那么你将得到一个 `TypeError`。

- `range()` 函数只接受整数作为参数，不接受浮点数。使用浮点数也会导致 `TypeError`：

```py
ERROR!
Traceback (most recent call last):
  File "<main.py>", line 1, in <module>
TypeError: 'float' object cannot be interpreted as an integer
```

- 你可以为 `step` 参数使用负整数来生成递减顺序的整数序列：

```py
for num in range(40, 0, -10):
    print(num)
```

- `range()` 函数也可以通过与 `list` 构造函数一起使用来创建整数列表。`list` 构造函数用于将可迭代对象转换为列表。以下是生成包含 2 到 10（含）之间偶数整数列表的示例：

```py
numbers = list(range(2, 11, 2))
print(numbers) # [2, 4, 6, 8, 10]
```

## Python 中的 `enumerate()` 和 `zip()` 函数

- **`enumerate()`**：用于迭代序列并跟踪该序列中每个项的索引。`enumerate()` 函数将可迭代对象作为参数，并返回一个 `enumerate` 对象，该对象包含可迭代对象中每个项的索引和值。

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

for index, language in enumerate(languages):
    print(f'Index {index} and language {language}')

# Result
# Index 0 and language Spanish
# Index 1 and language English
# Index 2 and language Russian
# Index 3 and language Chinese

```

- `enumerate()` 函数也可以在 `for` 循环之外使用：

```python
languages = ['Spanish', 'English', 'Russian', 'Chinese']

print(list(enumerate(languages)))
# [(0, 'Spanish'), (1, 'English'), (2, 'Russian'), (3, 'Chinese')]
```

- `enumerate()` 函数还接受一个可选的 `start` 参数，用于指定计数的起始值。如果省略此参数，则计数将从 `0` 开始。

-  **`zip()`** ：用于并行迭代多个可迭代对象。下面是一个使用 `zip()` 函数并行迭代 `developers` 和 `ids` 的示例：

```python
developers = ['Naomi', 'Dario', 'Jessica', 'Tom']
ids = [1, 2, 3, 4]

for name, id in zip(developers, ids):
    print(f'Name: {name}')
    print(f'ID: {id}')


"""
Result

Name: Naomi
ID: 1
Name: Dario
ID: 2
Name: Jessica
ID: 3
Name: Tom
ID: 4
"""

```

## Python 中的列表推导式

- **定义**：列表推导允许你通过将循环和条件直接组合在方括弧内，在一行中创建一个新列表。这使代码更简短且通常更易于阅读。

```py
even_numbers = [num for num in range(21) if num % 2 == 0]
print(even_numbers)
```

## 可迭代方法

- **`filter()`**：用于根据条件过滤可迭代对象中的元素。它返回一个只包含满足条件元素的迭代器。下面是创建一个只包含长度超过四个字符单词的新列表的示例：

```py
words = ['tree', 'sky', 'mountain', 'river', 'cloud', 'sun']

def is_long_word(word):
    return len(word) > 4

long_words = list(filter(is_long_word, words))
print(long_words) # ['mountain', 'river', 'cloud']
```

- **`map()`**：用于将函数应用到可迭代对象中的每一项，并返回一个包含结果的新可迭代对象。下面是使用 `map()` 函数将摄氏温度列表转换为华氏温度的示例：

```py
celsius = [0, 10, 20, 30, 40]

def to_fahrenheit(temp):
    return (temp * 9/5) + 32

fahrenheit = list(map(to_fahrenheit, celsius))
print(fahrenheit) # [32.0, 50.0, 68.0, 86.0, 104.0]
```

- **`sum()`**：用于从可迭代对象（如列表或元组）中获取总和。以下是使用 `sum()` 函数的示例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers)
print(total) # Result: 50
```

- 你也可以传入一个可选的 `start` 参数，用于设置求和的初始值。下面是一个使用 `start` 参数作为位置参数的更新示例：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, 10) # positional argument
print(total) # 60
```

- 你也可以选择将 `start` 参数作为关键字参数这样使用：

```py
numbers = [5, 10, 15, 20]
total = sum(numbers, start=10) # keyword argument
print(total) # 60
```

## Lambda 函数

- **定义**：Python 中的 lambda 函数是一种简洁的方式来创建没有名称的函数（匿名函数）。
- Lambda 函数通常用作另一个函数的参数。下面是一个 lambda 函数的示例：

```py
numbers = [1, 2, 3, 4, 5]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # [2, 4]
```

- 使用 lambda 函数的最佳实践包括不将它们赋值给变量，保持它们简单且易读，以及将它们用于简短的一次性函数。

# --assignment--

复习 `Loops` 和 `Sequences` 主题和概念。
