---
id: 673368ccf52205329b729378
title: innerText、textContent 和 innerHTML 之間的差異是什麼？
challengeType: 19
dashedName: what-is-the-difference-between-innertext-textcontent-and-innerhtml
---

# --interactive--

讓我們來了解 `innerText`、`textContent` 和 `innerHTML`。

這些是你可以在 JavaScript 中存取的屬性，用來取得或更改 HTML 元素的內容。即使它們乍看之下可能非常相似，但確實有關鍵的差異。選擇正確的屬性取決於你的具體使用情境，所以讓我們深入了解。

讓我們從 `innerText` 開始。

`innerText` 表述 HTML 元素及其子孫的可見文字內容。此屬性不包含隱藏文字或 HTML 標記，僅包含算繪的文字。 

例如，這裡你可以看到一個包含兩個段落的 `div` 元素：

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
```

如果我們在 JavaScript 程式碼中使用 `getElementById()` 取得對此 HTML 元素的引用，我們就可以存取此元素的 `innerText` 屬性：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.innerText);
```

:::

這是此元素的內部文字：

```md
Hello, World!
I'm learning JavaScript
```

該屬性傳回包含元素內的文字的字串，包括其子孫元素的文字。

你應該知道 `innerText` 只會傳回在請求該字串的特定時刻可見的文字。如果子元素被隱藏，其文字將不會可見。

這是一個範例，其中第二段被隱藏：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
```

:::

如果我們嘗試再次記錄 `innerText`，現在輸出將不會包含第二段的文字：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.innerText);
```

:::

你可以這樣設定 HTML 元素的 `innerText`，但這會取代現有的文字，並且為每個換行新增一個換行元素（`br`）。

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.innerText = "JavaScript is awesome!";
```

:::

由於 `innerText` 會考慮可見性，取得其值會觸發一個稱為「reflow」的處理程序，該處理程序會重新計算網站上某些元素的位置。這個處理程序可能會消耗大量運算資源，因此如果可能，應避免觸發它。

太好了。現在讓我們來談談 `textContent`。 

`textContent` 傳回元素的純文字內容，包括其所有子孫元素中的文字。

`innerText` 和 `textContent` 之間最重要的差異是，`textContent` 總是傳回 HTML 元素及其子孫的完整文字內容，無論該內容是可見還是隱藏。

這裡有相同的 HTML 範例：

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
```

如果你嘗試存取這個屬性，你將會看到該元素及其子孫的文字作為輸出，並保留縮排和間距：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.textContent);
```

:::

如果 HTML 元素不可見，就像你在這裡看到的，我們隱藏了第二個段落，它的文字仍然會包含在這個屬性中：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.textContent);
```

:::
  
`textContent` 也會包含像 `script` 和 `style` 這類元素的內容。

如果你嘗試取代節點上 `textContent` 的值，它會移除所有子節點，並以包含新字串的單一文字節點取代它們：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.textContent = "New content";
```

:::

最後，讓我們談談 `textContent` 和 `innerText` 與 `innerHTML` 的差異。

請記住，使用 `innerHTML` 你可以設定元素的內部 HTML 內容。這對於動態地將新的 HTML 注入到 DOM 中非常有幫助。

但是，請記住，如果你無法控制字串，例如包含使用者輸入資料的字串，這會構成安全風險。若該資料具有惡意，可能導致嚴重的安全問題。

為避免此情況，建議改用 `textContent` 屬性來插入純文字。

JavaScript 中的 `innerText`、`textContent` 和 `innerHTML` 屬性提供不同的方式來存取和操作 HTML 元素的內容。如果你的目標是有效地在 JavaScript 中處理 HTML 內容，你應該了解這些屬性之間的差異。

# --questions--

## --text--

下列哪一個屬性會傳回 HTML 元素的可見文字內容，不包含任何隱藏的文字或隱藏元素內的文字？

## --answers--

`innerHTML`

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

---

`textContent`

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

---

`innerText`

---

以上全部。

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

## --video-solution--

3

## --text--

下列哪一個屬性可以用來動態注入新的 HTML 內容到元素中？

## --answers--

`innerHTML`

---

`textContent`

### --feedback--

思考哪個屬性允許你修改元素的 HTML 結構。

---

`innerText`

### --feedback--

思考哪個屬性允許你修改元素的 HTML 結構。

---

以上皆非。

### --feedback--

思考哪個屬性允許你修改元素的 HTML 結構。

## --video-solution--

1

## --text--

下列哪一個屬性會傳回元素的純文字內容，包括所有子元素內的文字，無論其是可見還是隱藏？

## --answers--

`innerHTML`

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

---

`textContent`

---

`innerText`

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

---

以上全部。

### --feedback--

思考這些屬性如何控制代碼隱藏內容。

## --video-solution--

2
