---
id: 5900f46d1000cf542c50ff7f
title: '問題 255：四捨五入平方根'
challengeType: 1
forumTopicId: 301903
dashedName: problem-255-rounded-square-roots
---

# --description--

我們將正整數 $n$ 的四捨五入平方根定義為對 $n$ 的平方根四捨五入到最接近的整數。

以下程序（本質上是適用於整數運算的 Heron 方法）用於尋找 $n$ 的四捨五入平方根：

令 $d$ 為數字 $n$ 的位數。

如果 $d$ 是奇數，則設 $x_0 = 2 × {10}^{\frac{d - 1}{2}}$。

如果 $d$ 是偶數，則設 $x_0 = 7 × {10}^{\frac{d - 2}{2}}$。

重複：

$$x_{k + 1} = \left\lfloor\frac{x_k + \left\lceil\frac{n}{x_k}\right\rceil}{2}\right\rfloor$$

直到 $x_{k + 1} = x_k$。

舉例來說，讓我們找出 $n = 4321$ 的四捨五入平方根。

$n$ 有 4 位數，所以 $x_0 = 7 × {10}^{\frac{4-2}{2}} = 70$。

$$x_1 = \left\lfloor\frac{70 + \left\lceil\frac{4321}{70}\right\rceil}{2}\right\rfloor = 66 \\\\
x_2 = \left\lfloor\frac{66 + \left\lceil\frac{4321}{66}\right\rceil}{2}\right\rfloor = 66$$

因為 $x_2 = x_1$，所以我們在此停止。因此，僅經過兩次迭代後，我們已經找到 4321 的四捨五入平方根是 66（實際平方根是 65.7343137…）。

使用此方法所需的迭代次數出乎意料地少。 例如，我們可以用平均 3.2102888889 次迭代（平均值四捨五入到 10 位小數）找到一個 5 位數整數（`$10\\,000 ≤ n ≤ 99\\,999$`）的四捨五入平方根。

使用上述描述的程序，找到一個 14 位數字的四捨五入平方根（`${10}^{13} ≤ n < {10}^{14}`）所需的平均迭代次數是多少？請將你的答案四捨五入到 10 位小數。

**注意：** 符號 $⌊x⌋$ 和 $⌈x⌉$ 分別表述向下取整函式（floor function）和向上取整函式（ceiling function）。

# --hints--

`roundedSquareRoots()` 應該傳回 `4.447401118`。

```js
assert.strictEqual(roundedSquareRoots(), 4.447401118);
```

# --seed--

## --seed-contents--

```js
function roundedSquareRoots() {

  return true;
}

roundedSquareRoots();
```

# --solutions--

```js
// solution required
```
