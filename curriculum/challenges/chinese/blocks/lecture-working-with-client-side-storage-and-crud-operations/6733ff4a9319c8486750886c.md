---
id: 6733ff4a9319c8486750886c
title: 什么是 localStorage，及其一些常见的方法？
challengeType: 19
dashedName: what-is-localstorage-and-what-are-some-common-methods
---

# --description--

Web Storage API 为浏览器提供了一种机制，可以在浏览器内直接保存键值点对，允许开发者保存可跨不同页面重载和会话使用的信息。 

Web Storage API 中的两个主要组件是 `localStorage` 和 `sessionStorage`。

`localStorage` 是 Web Storage API 的一部分，允许数据即使在浏览器窗口关闭或页面刷新后仍然保持持久。该数据将一直可用，直到被应用或用户显式移除。 

`sessionStorage` 是 Web Storage API 的另一部分，用于在页面会话期间保存数据，这意味着只要浏览器标签（页）或窗口打开，数据就可用。然而，与 `localStorage` 不同，`sessionStorage` 中的数据在标签（页）或窗口关闭时会被清除。你将在下一课中学习更多关于 `sessionStorage` 的内容。 

`localStorage` 的常见使用分支包括存储用户设置，如主题或语言偏好，跨浏览器会话记住表单数据，以及缓存小块信息以提升网页应用的性能。

缓存是指将频繁访问的数据存储在称为缓存的临时存储位置中，以便后续对该数据的请求可以更快地响应，而无需重新计算或从较慢的数据源（例如数据库或外部服务器）获取。

一些常见的 `localStorage` 方法包括 `setItem`、`getItem`、`removeItem` 和 `clear` 方法。 

下面是使用 `setItem()` 方法将密钥-值点对保存到 `localStorage` 的示例。

```js
localStorage.setItem('username', 'JaneDoe');
```

然后如果我们想从 `localStorage` 中检索给定密钥的值，我们可以使用 `getItem()` 方法。

```js
let username = localStorage.getItem('username');
console.log(username); // JaneDoe
```

要使用其密钥从 `localStorage` 中删除一项，你可以使用 `removeItem()` 方法。

```js
localStorage.removeItem('username');
```

要清除 `localStorage` 中的所有数据，你可以使用 `clear()` 方法。

```js
localStorage.clear();
```

现在，让我们来看一个使用 `localStorage` 保存用户首选主题的示例。

```js
// Store the user's theme preference
localStorage.setItem('theme', 'dark');

// Retrieve the stored theme preference
const userTheme = localStorage.getItem('theme');
console.log(userTheme); // 'dark'

// Remove the theme preference
localStorage.removeItem('theme');

// Clear all localStorage data
localStorage.clear();
```

下面为例：

- 我们首先为用户保存一个主题选择（`dark`）。

- 然后我们检索该主题并将其输出到控制台。

- 最后，我们演示如何删除特定项或清除所有已保存的数据。

`localStorage` 非常适合保存需要在会话之间持久存在的小块数据，但重要的是要注意，`localStorage` 不应用于保存敏感信息，例如密码，因为这可能带来安全性风险。

# --questions--

## --text--

Web Storage API 的目的是什么？

## --answers--

在每个超文本传输协议 `request` 中向 `server` 发送小块 `data`。

### --feedback--

Web Storage API 帮助你直接在用户的浏览器中保存数据。

---

在浏览器中保存密钥-值点对。

---

以加密形式保存敏感数据。

### --feedback--

Web Storage API 帮助你直接在用户的浏览器中保存数据。

---

在服务器上运行 JavaScript 代码。

### --feedback--

Web Storage API 帮助你直接在用户的浏览器中保存数据。

## --video-solution--

2

## --text--

哪个方法用于将数据储存在局部存储中？

## --answers--

`localStorage.getItem()`

### --feedback--

该方法以 `set` 开头，涉及设置一个密钥-值点对。

---

`localStorage.setItem()`

---

`localStorage.save()`

### --feedback--

该方法以 `set` 开头，涉及设置一个密钥-值点对。

---

`localStorage.store()`

### --feedback--

该方法以 `set` 开头，涉及设置一个密钥-值点对。

## --video-solution--

2

## --text--

`localStorage` 与 `sessionStorage` 有何不同？

## --answers--

`localStorage` 数据在标签（页）关闭时被清除，`sessionStorage` 是永久的。

### --feedback--

考虑关闭并重新打开浏览器时 `localStorage` 会发生什么。

---

`localStorage` 在浏览器会话之间保持持久，而 `sessionStorage` 会在浏览器或标签（页）关闭时被清除。

---

`localStorage` 将数据发送到服务器，`sessionStorage` 在本地保存数据。

### --feedback--

考虑关闭并重新打开浏览器时 `localStorage` 会发生什么。

---

两者行为相同，没有区别。

### --feedback--

考虑关闭并重新打开浏览器时 `localStorage` 会发生什么。

## --video-solution--

2
