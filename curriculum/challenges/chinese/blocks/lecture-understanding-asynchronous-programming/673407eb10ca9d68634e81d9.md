---
id: 673407eb10ca9d68634e81d9
title: 什么是 Geolocation API，`getCurrentPosition` 如何工作？
challengeType: 19
dashedName: what-is-the-geolocation-api-and-how-does-the-getcurrentposition-work
---

# --description--

地理位置 API 提供了一种方式，让网站可以请求用户的位置。需要注意的是，出于隐私原因，用户必须先授权，网站才能访问他们的位置。

我们今天将重点关注的主要方法是 `getCurrentPosition`。此方法用于收集设备的地理位置。以下是你可能如何使用 `getCurrentPosition` 的示例：

```js
navigator.geolocation.getCurrentPosition(
  (position) => {
    console.log("Latitude: " + position.coords.latitude);
    console.log("Longitude: " + position.coords.longitude);
  },
  (error) => {
    console.log("Error: " + error.message);
  }
);
```

在这段代码中，我们调用了 `getCurrentPosition` 并传入一个函数，该函数将在成功获取位置时被调用。这个位置对象包含各种信息，但我们只关注 `latitude` 和 `longitude`。

如果获取位置时出现问题，则该误差将被记录到控制台日志中。 

`getCurrentPosition` 方法根据设备及其 `Settings` 使用 GPS、Wi-Fi `network` 或 IP `address` 定位。一旦找到位置，将调用带有位置 `object` 的成功 `callback` 函数。

位置对象包含各种属性，其中最常用的是 `latitude` 和 `longitude`，但它也可以包括 `altitude`、`accuracy`、`speed` 和 `heading` 等。

使用地理定位时，一个重要的考虑因素是用户隐私。向你的用户解释你为什么需要他们的位置信息以及你将如何使用这些信息。

# --questions--

## --text--

Geolocation API 的 `getCurrentPosition` 方法的主要用途是什么？

## --answers--

设置用户的当前位置。

### --feedback--

考虑这个方法为 web 应用提供了哪些信息。

---

检索用户当前的地理位置。

---

计算两点之间的距离。

### --feedback--

考虑这个方法为 web 应用提供了哪些信息。

---

在网页上显示地图。

### --feedback--

考虑这个方法为 web 应用提供了哪些信息。

## --video-solution--

2

## --text--

在 JavaScript 中使用哪个对象来访问 Geolocation API？

## --answers--

`window.location`

### --feedback--

考虑哪个全局的对象提供对浏览器特定信息的访问。

---

`document.geolocation`

### --feedback--

考虑哪个全局的对象提供对浏览器特定信息的访问。

---

`navigator.geolocation`

---

`browser.location`

### --feedback--

考虑哪个全局的对象提供对浏览器特定信息的访问。

## --video-solution--

3

## --text--

使用 Geolocation API 时的一个关键隐私考虑是什么？

## --answers--

加密位置数据。

### --feedback--

考虑应采取哪些步骤来尊重用户隐私。

---

无限期存储位置数据。

### --feedback--

考虑应采取哪些步骤来尊重用户隐私。

---

自动访问用户位置。

### --feedback--

考虑应采取哪些步骤来尊重用户隐私。

---

在访问位置之前获取用户许可。

## --video-solution--

4
