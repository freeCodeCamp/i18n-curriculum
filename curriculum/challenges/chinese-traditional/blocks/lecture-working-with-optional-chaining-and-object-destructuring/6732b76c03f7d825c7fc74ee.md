---
id: 6732b76c03f7d825c7fc74ee
title: 什麼是選用串鏈運算子，以及它如何運作？
challengeType: 19
dashedName: what-is-the-optional-chaining-operator-and-how-does-it-work
---

# --interactive--

選用的串鏈運算子（`?.`）是在 JavaScript 中一個有用的工具，讓你可以安全地存取物件屬性或呼叫方法，而不必擔心它們是否存在。它就像是處理可能缺少零件的物件時的一個安全網。

:::interactive_editor

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.name); // "Alice"
console.log(person.job); // undefined
```

:::

在這個範例中，因為 `person.name` 存在，所以它會記錄 `Alice`。但因為 `person.job` 不存在，所以它會回傳 `undefined`。

現在，假設我們想要存取一個可能不存在的物件屬性：

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.address.street); // This will throw an error!
```

此範例將會發出 `Uncaught TypeError`。因為 `person.address` 是 `undefined`，我們無法存取 `street` 屬性。這時候選用串鏈運算子就非常有用。以下是使用選用串鏈運算子的範例：

:::interactive_editor

```ts
const user = {
  name: "John",
  profile: {
    email: "john@example.com",
    address: {
      street: "123 Main St",
      city: "Somewhere"
    }
  }
};

console.log(user?.profile?.address?.street); // "123 Main St"
console.log(user?.profile?.phone?.number);   // undefined
```

:::

透過使用選用串鏈運算子，我們告訴 JavaScript 只有在物件（或 `?.` 之前的值）存在且不是 `null` 或 `undefined` 時，才繼續執行該操作。 

如果 `?.` 之前的值是 `null` 或 `undefined`，JavaScript 傳回 `undefined`，而不是嘗試繼續該操作並發出錯誤。

請記住，選用串鏈運算子在你不確定某個屬性或方法是否存在時最為有用。它有助於防止錯誤並使你的程式碼更強固。

# --questions--

## --text--

JavaScript 中的選用串鏈運算子（`?.`）有什麼作用？

## --answers--

當屬性遺失時，它會指定一個預設值。

### --feedback--

選用串鏈運算子只會在值為 `null` 或 `undefined` 時防止錯誤。

---

它可防止 `undefined` 值出現在物件中。

### --feedback--

選用串鏈運算子只會在值為 `null` 或 `undefined` 時防止錯誤。

---

它安全地存取巢狀屬性，並在值遺失時傳回 `undefined`，而非丟出錯誤。

---

它強制 JavaScript 評估缺失的屬性，即使它們不存在。

### --feedback--

選用串鏈運算子只會在值為 `null` 或 `undefined` 時防止錯誤。

## --video-solution--

3

## --text--

以下 `code` 的輸出結果會是什麼？

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.address.street);
```

## --answers--

`undefined`

### --feedback--

在沒有使用選用串鏈的情況下存取遺失的巢狀屬性會停止程式碼執行。

---

`street`

### --feedback--

在沒有使用選用串鏈的情況下存取遺失的巢狀屬性會停止程式碼執行。

---

`{}`

### --feedback--

在沒有使用選用串鏈的情況下存取遺失的巢狀屬性會停止程式碼執行。

---

因為 `person.address` 未定義，所以會丟出 `TypeError`。

## --video-solution--

4

## --text--

以下 `code` 的輸出結果會是什麼？

```js
const user = {
  name: "John",
  profile: {
    email: "john@example.com",
    "home address": {
      street: "123 Main St",
      city: "Somewhere"
    }
  }
};

console.log(user?.profile?.address?.street);
```

## --answers--

`undefined`

---

`"123 Main St"`

### --feedback--

思考什麼表現一個尚未被指定值的值。

---

`null`

### --feedback--

思考什麼表現一個尚未被指定值的值。

---

會發出 `TypeError`。

### --feedback--

思考什麼表現一個尚未被指定值的值。

## --video-solution--

1
