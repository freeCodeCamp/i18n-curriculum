---
id: 67336956340e8a34fbd5d9f3
title: ¿Qué es la API requestAnimationFrame(), y cómo se puede usar para configurar un bucle de animación?
challengeType: 19
dashedName: what-is-the-requestanimationframe-api-and-how-can-it-be-used-to-set-up-an-animation-loop
---

# --interactive--

Crear animaciones suaves en una página web puede ser complicado, especialmente si no estás seguro de cómo manejar el tiempo correctamente. La buena noticia es que la API `requestAnimationFrame()` lo hace más fácil. 

`requestAnimationFrame()` es un método que te permite programar el siguiente paso de tu animación antes del próximo repintado de pantalla, resultando en una experiencia fluida y visualmente atractiva.

El siguiente repintado de pantalla se refiere al momento en que el navegador refresca la visualización de la página web. Esto ocurre múltiples veces por segundo, típicamente alrededor de 60 veces (o 60 cuadros por segundo) en la mayoría de las pantallas.

Para usar el método `requestAnimationFrame()`, lo único que necesitas hacer es llamarlo y pasarle una función de retorno o callback:

```js
requestAnimationFrame(callback);
```

Llamar a `requestAnimationFrame()` debe ocurrir primero dentro de una función que gestione la animación, como `animate()`, junto con una función para actualizar la animación, tradicionalmente llamada `update()`:

```js
function animate() {
 // Update the animation...
 // for example, move an element, change a style, and more.
 update();
 // Request the next frame
 requestAnimationFrame(animate);
}
```

La función `update()` es donde ocurre la magia. Dentro de ella, puedes cambiar lo que quieras animar. Por ejemplo, actualizar un estilo o cambiar la posición de un elemento:

```js
function update() {
 element.style.transform = `translateX(${position}px)`;
 position += 2;
}
```

Lo que finalmente inicia la animación es llamar a `requestAnimationFrame()` y pasar la función `animate`, esta vez fuera de la función `animate`:

```js
requestAnimationFrame(animate);
```

El ciclo continuará hasta que lo detengas.

Ahora, echemos un vistazo a otro ejemplo. El HTML para este ejemplo es un elemento `div` con el texto `freeCodeCamp is Awesome`. El CSS convierte el `div` en un rectángulo y oculta cualquier cosa que salga del viewport por la izquierda o la derecha. El código JavaScript mueve el rectángulo `2px` hacia la derecha en cada llamada a `requestAnimationFrame(animate)` con la función `animate` como callback:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css" />
<div id="rect" class="rect">freeCodeCamp is Awesome</div>
<script src="index.js"></script>
```

```css
body {
  overflow-x: hidden;
}

.rect {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 400px;
  height: 250px;
  border-radius: 5px;
  background-color: #1b1b32;
  color: #f5f6f7;
  font-size: 2rem;
  position: absolute;
}
```

```js
const rect = document.getElementById("rect");

let position = 0;

function update() {
  // Move the rectangle 2px to the right
  rect.style.left = position + "px";
  position += 2;

  if (position > window.innerWidth) {
    // Move the rectangle just outside the left side of the screen
    position = -rect.offsetWidth;
  }
}

function animate() {
  update();

  //request the next frame
  requestAnimationFrame(animate);
}

// Start the animation
requestAnimationFrame(animate);
```

:::

El resultado en el navegador será una tarjeta de título animada flotando a través de la pantalla.

# --questions--

## --text--

¿Qué hace el método `requestAnimationFrame()`?

## --answers--

Detiene una animación de ejecutarse.

### --feedback--

Piensa en cómo este método ayuda a crear animaciones fluidas.

---

Ejecuta una animación inmediatamente sin demora.

### --feedback--

Piensa en cómo este método ayuda a crear animaciones fluidas.

---

Acelera una animación.

### --feedback--

Piensa en cómo este método ayuda a crear animaciones fluidas.

---

Programa el siguiente paso de una animación antes del próximo repintado de pantalla para una visualización más fluida.

## --video-solution--

4

## --text--

¿Qué inicia la animación al usar `requestAnimationFrame()`?

## --answers--

Llamar a la función `animate` dentro del método `requestAnimationFrame()`.

### --feedback--

Piensa en cómo el método `requestAnimationFrame()` dispara la animación.

---

Establecer un tiempo de espera con `setTimeout()`.

### --feedback--

Piensa en cómo el método `requestAnimationFrame()` dispara la animación.

---

Usar `setInterval()` para repetir la animación.

### --feedback--

Piensa en cómo el método `requestAnimationFrame()` dispara la animación.

---

Llamar a `requestAnimationFrame()` y pasarle la función animate fuera de la función animate.

## --video-solution--

4

## --text--

¿Qué significa "el próximo repintado de pantalla"?

## --answers--

El momento en que el navegador actualiza la estructura HTML.

### --feedback--

Piensa en la frecuencia con la que el navegador actualiza lo que ves en la pantalla.

---

El momento en que el navegador actualiza la visualización de la página web, generalmente alrededor de 60 veces por segundo.

---

El momento en que el navegador recarga toda la página.

### --feedback--

Piensa en la frecuencia con la que el navegador actualiza lo que ves en la pantalla.

---

El momento en que el navegador actualiza los estilos CSS.

### --feedback--

Piensa en la frecuencia con la que el navegador actualiza lo que ves en la pantalla.

## --video-solution--

2
