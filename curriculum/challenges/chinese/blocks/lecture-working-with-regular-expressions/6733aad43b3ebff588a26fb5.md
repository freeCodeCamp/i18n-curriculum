---
id: 6733aad43b3ebff588a26fb5
title: 什么是正则表达式，以及一些常见的方法？
challengeType: 19
dashedName: what-are-regular-expressions-and-what-are-some-common-methods
---

# --interactive--

正则表达式，或称 regex，是许多不同编程语言支持的一种特色。

正则表达式是一种特殊的语法，用于创建一个 "pattern"，你可以用它来查看 `string`、提取文本等。

让我们来看一个基本的正则表达式：

```js
const regex = /freeCodeCamp/;
```

注意，在 JavaScript 中，你通过在两个斜线（`/`）之间创建你的模式来定义正则表达式。尽量不要将此与评论混淆，评论中的文本位于两个斜线之后。

这个特定的正则表达式将匹配字串中任何位置的文本 `freeCodeCamp`，其中包含大写的 `C`。但是你实际上如何做到这一点？

这就引出了我们的第一个方法——`test()` 方法。`test()` 方法存在于 `RegExp` 对象上，`RegExp` 对象是表现正则表达式（例如我们刚刚定义的那个）的对象。

`test()` 方法接受一个字串，该字串用于对正则表达式进行匹配测试。例如，让我们尝试测试字串 `e`：

:::interactive_editor

```js
const regex = /freeCodeCamp/;
const test = regex.test("e");
console.log(test);
```

:::

你可以看到我们在新建的正则表达式上调用了 `test()` 方法，并将字串 `e` 作为参数传递。 

`test()` 方法返回了 `false`，因为字串 `e` 不匹配模式 `freeCodeCamp`。尽管模式 `freeCodeCamp` 包含字母 `e`，但这与正则表达式的工作方向相反。

让我们再看几个例子。花点时间考虑这些：

:::interactive_editor

```js
const regex = /freeCodeCamp/;
console.log(regex.test("freeCodeCamp"));
console.log(regex.test("freeCodeCamp is great"));
console.log(regex.test("I love freeCodeCamp"));
console.log(regex.test("freecodecamp"));
console.log(regex.test("FREECODECAMP"));
console.log(regex.test("free"));
console.log(regex.test("code"));
console.log(regex.test("camp"));
```

:::

注意前三个返回 `true` 的字串。这些字串都包含文本 `freeCodeCamp`，且完全匹配，出现在字串中的某处。 

第 5 行和第 6 行返回 `false`。虽然它们包含文本 `freecodecamp`，但分支不匹配。正则表达式默认区分大小写。

最后，虽然最后三个包含模式的一部分，但字串不包含整个模式。

`test()` 方法返回一个布尔值，指示字串是否完全匹配正则表达式。

但是如果你想要比这更多的信息呢？字串有一个 `match()` 方法。这个方法接受一个正则表达式，虽然你也可以传入一个字串，它将被构造成一个正则表达式。

`match()` 返回该字串的匹配数组。什么是匹配数组？好吧，让我们来看一下：

```js
const regex = /freeCodeCamp/;
const match = "freeCodeCamp".match(regex);
console.log(match);
```

如果我们运行这个，我们会得到一个数组！但它是一个看起来很奇怪的数组。它有一些额外的属性：

```js
// [
//   'freeCodeCamp',
//   index: 0,
//   input: 'freeCodeCamp',
//   groups: undefined
// ]
```

`groups` 属性会显示任何捕捉的组。你将在以后的课程中了解这是什么意思。

`index` 属性告诉你在字串中的第几个字符找到了匹配。在我们的分支中，它是在字串的开头找到的。

`input` 属性告诉你 `match()` 方法被调用时的字串。

让我们再试几个，看看结果如何变化：

```js
const regex = /freeCodeCamp/;
console.log("freeCodeCamp".match(regex)); // ['freeCodeCamp', index: 0, input: 'freeCodeCamp', groups: undefined]
console.log("freeCodeCamp is great".match(regex)); // ['freeCodeCamp', index: 0, input: 'freeCodeCamp is great', groups: undefined]
console.log("I love freeCodeCamp".match(regex)); // ['freeCodeCamp', index: 7, input: 'I love freeCodeCamp', groups: undefined]
console.log("freecodecamp".match(regex)); // null
console.log("FREECODECAMP".match(regex)); // null
console.log("free".match(regex)); // null
```

我们已经知道前三个字串应该产生匹配，所以让我们来看一下它们：

```js
// ['freeCodeCamp', index: 0, input: 'freeCodeCamp', groups: undefined]
// ['freeCodeCamp', index: 0, input: 'freeCodeCamp is great', groups: undefined]
// ['freeCodeCamp', index: 7, input: 'I love freeCodeCamp', groups: undefined]
```

那是你预期的吗？你可以看到根据提供的字串，`input` 和 `index` 如何变化，以及匹配在字串中的位置。 

另外三行不匹配时，返回 `null` 而不是数组。

现在我们可以使用我们的正则表达式测试和匹配字串，如果我们想替换字串的内容怎么办？也许有人把 `freecodecamp` 全部写成小写，我们想自动帮他们修正大小写。

首先，我们需要更新我们的正则表达式以匹配 `freecodecamp` 的小写形式，并创建我们的测试字串：

```js
const regex = /freecodecamp/;
const str = "freecodecamp is rly kewl";
```

现在，字串有一个 `replace()` 方法，它接受两个参数：用于匹配的正则表达式（或者字串，如果你不需要正则表达式的所有特色），以及用于替换匹配项的字串（或者对每个匹配项运行的函数）。 

所以如果我们想用正确的大小写替换我们的 `freecodecamp`：

:::interactive_editor

```js
const regex = /freecodecamp/;
const str = "freecodecamp is rly kewl";
const replaced = str.replace(regex, "freeCodeCamp");
console.log(replaced);
```

:::

你可以看到 `replace()` 返回了带有匹配模式 `replaced` 的更新字串。

正则表达式，以及所有关联的 `method`，看起来可能很复杂且令人难以应付。但你将在接下来的这一组课程中有机会进一步探索它们。

# --questions--

## --text--

在 JavaScript 中，基本的正则表达式如何定义？ 

## --answers--

使用单引号：`'pattern'`

### --feedback--

本课展示了定义正则表达式的特定语法。

---

使用双引号：`"pattern"`

### --feedback--

本课展示了定义正则表达式的特定语法。

---

使用转发斜线：`/pattern/`

---

使用括号：`(pattern)`

### --feedback--

本课展示了定义正则表达式的特定语法。

## --video-solution--

3

## --text--

当与正则表达式一起使用时，`test()` 方法返回什么？ 

## --answers--

一个匹配的数组。

### --feedback--

考虑 `test()` 方法提供的结果类型。

---

一个布尔值。

---

匹配的字串。

### --feedback--

考虑 `test()` 方法提供的结果类型。

---

匹配的索引。

### --feedback--

考虑 `test()` 方法提供的结果类型。

## --video-solution--

2

## --text--

当你对不包含匹配项的字串使用带有正则表达式的 `match()` 方法时，会发生什么？

## --answers--

它返回一个空数组。

### --feedback--

本课描述了对于不匹配字串，`match()` 的结果。

---

它返回 `false`。

### --feedback--

本课描述了对于不匹配字串，`match()` 的结果。

---

返回 `null`。

---

会报错。

### --feedback--

本课描述了对于不匹配字串，`match()` 的结果。

## --video-solution--

3
