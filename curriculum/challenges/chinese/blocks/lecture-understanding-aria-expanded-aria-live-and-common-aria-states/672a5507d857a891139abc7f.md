---
id: 672a5507d857a891139abc7f
title: 什么是 `aria-controls` 属性，它是如何工作的？
challengeType: 19
dashedName: what-is-the-aria-controls-attribute
---

# --interactive--

`aria-controls` 属性用于创建一个程序化关系，连接控制页面上另一个元素存在的元素与它所控制的元素。此关系可以帮助屏幕阅读器用户更好地理解控件的工作方式。常见用法包括一组控制不同内容区域可见性的标签（页），或一个切换菜单可见性的按钮。

让我们来看一个示例，了解这是如何工作的。在这个带有标签（页）接口的示例中，我们有一个包含三组按钮的 `div` 元素：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div role="tablist">
  <button role="tab" id="tab1" aria-controls="section1" aria-selected="true">
    Tab 1
  </button>
  <button role="tab" id="tab2" aria-controls="section2" aria-selected="false">
    Tab 2
  </button>
  <button role="tab" id="tab3" aria-controls="section3" aria-selected="false">
    Tab 3
  </button>
</div>
```

```css
[role="tablist"] {
  display: flex;
  border-bottom: 2px solid #ccc;
  margin-bottom: 1em;
  gap: 4px;
}

[role="tab"] {
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-bottom: none;
  border-radius: 4px 4px 0 0;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 14px;
  color: #333;
  transition: background 0.2s, color 0.2s;
}

[role="tab"]:hover,
[role="tab"]:focus {
  background: #e8f0fe;
  outline: none;
}

[role="tab"][aria-selected="true"] {
  background: #fff;
  border-color: #ccc;
  border-bottom: 2px solid #fff;
  color: #000;
  font-weight: 600;
  position: relative;
  top: 1px; 
}

[role="tab"]:focus-visible {
  outline: 2px solid #0078d4;
  outline-offset: 2px;
}

```

:::

`div` 使用 `role="tablist"` 来表示它作为一组标签（页）的容器元素。

每个按钮表现为一个标签（页），并且具有设置为 `tab` 的 `role` 属性。在大多数标签式接口中，第一个标签窗格默认可见，因此第一个标签按钮具有设置为 `true` 的 `aria-selected` 属性，以表示其关联的内容部分当前可见。`aria-controls` 属性用于将每个按钮与其控制的内容部分关联起来。

以下是对应于各个标签（页）的三个内容部分：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div role="tablist">
  <button role="tab" id="tab1" aria-controls="section1" aria-selected="true">
    Tab 1
  </button>
  <button role="tab" id="tab2" aria-controls="section2" aria-selected="false">
    Tab 2
  </button>
  <button role="tab" id="tab3" aria-controls="section3" aria-selected="false">
    Tab 3
  </button>
</div>

<div id="section1" role="tabpanel" aria-labelledby="tab1">
  Section 1 content
</div>

<div id="section2" role="tabpanel" aria-labelledby="tab2" hidden>
  Section 2 content
</div>

<div id="section3" role="tabpanel" aria-labelledby="tab3" hidden>
  Section 3 content
</div>
<script src="index.js"></script>
```

```css
[role="tablist"] {
  display: flex;
  border-bottom: 2px solid #ccc;
  margin-bottom: 1em;
  gap: 4px;
  background: #fafafa;
  padding: 0.25em;
}

[role="tab"] {
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-bottom: none;
  border-radius: 4px 4px 0 0;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 14px;
  color: #333;
  transition: background 0.2s, color 0.2s;
}

[role="tab"]:hover,
[role="tab"]:focus {
  background: #e8f0fe;
  outline: none;
}

[role="tab"][aria-selected="true"] {
  background: #fff;
  border-color: #ccc;
  border-bottom: 2px solid #fff;
  color: #000;
  font-weight: 600;
  position: relative;
  top: 1px;
}

[role="tab"]:focus-visible {
  outline: 2px solid #0078d4;
  outline-offset: 2px;
}

[role="tabpanel"] {
  border: 1px solid #ccc;
  border-radius: 0 4px 4px 4px;
  padding: 16px;
  background-color: #fff;
  color: #333;
  font-size: 15px;
  line-height: 1.4;
}

[role="tabpanel"][hidden] {
  display: none;
}

```

```js
const tabs = document.querySelectorAll('[role="tab"]');
const tabList = document.querySelector('[role="tablist"]');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    activateTab(tab);
  });

  tab.addEventListener('keydown', (e) => {
    const key = e.key;
    const currentIndex = Array.from(tabs).indexOf(tab);
    let newIndex = null;

    if (key === 'ArrowRight') {
      newIndex = (currentIndex + 1) % tabs.length;
    } else if (key === 'ArrowLeft') {
      newIndex = (currentIndex - 1 + tabs.length) % tabs.length;
    } else if (key === 'Home') {
      newIndex = 0;
    } else if (key === 'End') {
      newIndex = tabs.length - 1;
    }

    if (newIndex !== null) {
      tabs[newIndex].focus();
      activateTab(tabs[newIndex]);
    }
  });
});

function activateTab(tab) {
  const tabPanels = document.querySelectorAll('[role="tabpanel"]');

  tabs.forEach(t => {
    t.setAttribute('aria-selected', 'false');
    t.setAttribute('tabindex', '-1');
  });

  tabPanels.forEach(panel => panel.hidden = true);

  tab.setAttribute('aria-selected', 'true');
  tab.removeAttribute('tabindex');

  const panelId = tab.getAttribute('aria-controls');
  const panel = document.getElementById(panelId);
  panel.hidden = false;
  tab.focus();
}

```

:::

每个内容部分都有一个设置为 `tabpanel` 的 `role` 属性和一个指向相应标签（页）的 `aria-labelledby` 属性，以为窗格提供可访问名称。`hidden` 属性用于隐藏当前未选中的内容部分。每个部分的 ID 与相应按钮上的 `aria-controls` 属性值匹配。`section1` ID 与第一个按钮上的 `aria-controls` 属性匹配，`section2` 与第二个按钮上的 `aria-controls` 属性匹配，`section3` 与第三个按钮上的 `aria-controls` 属性匹配。这就是标签（页）与其内容部分之间建立关联的方式。

要在不同部分之间切换，你需要使用 JavaScript 根据当前可见的部分更新该部分上的 `hidden` 属性和按钮上的 `aria-selected` 属性。一次只能有一个部分可见，该部分不应有 `hidden` 属性，并且其按钮上的 `aria-selected` 应设置为 `true`。其余隐藏的部分应全部具有 `hidden` 属性，并且其按钮上的 `aria-selected` 应设置为 `false`。

标签（页）是 `aria-controls` 属性的常见用例，但它也可以用于其他场景，其中一个元素控制另一个元素的可见性或行为。其他示例包括手风琴、下拉菜单和模态框。

下次你设计涉及控制元素可见性的用户界面时，考虑使用 `aria-controls` 属性来建立控件元素与被控元素之间的关系。

# --questions--

## --text--

在标签（页）上下文中，`aria-controls` 属性的作用是什么？

## --answers--

指定当前激活的标签（页）。

### --feedback--

考虑标签（页）与内容部分之间的关联。

---

隐藏或显示内容部分。

### --feedback--

考虑标签（页）与内容部分之间的关联。

---

将标签（页）与其控制的部分关联。

---

设置元素的角色。

### --feedback--

考虑标签（页）与内容部分之间的关联。

## --video-solution--

3

## --text--

`aria-controls` 属性如何影响示例中的内容部分？

## --answers--

它会根据用户输入自动更新内容。

### --feedback--

考虑该属性如何用于控制内容部分的可见性。

---

它根据选择的标签（页）隐藏或显示部分内容。

---

它更改标签（页）的样式以表示它已被选中。

### --feedback--

考虑该属性如何用于控制内容部分的可见性。

---

它定义了标签（页）的视觉外观。

### --feedback--

考虑该属性如何用于控制内容部分的可见性。

## --video-solution--

2

## --text--

在提供的示例中，`aria-labelledby` 属性是如何使用的？

## --answers--

指定哪个标签（页）控件控制哪个内容部分。

### --feedback--

它将标签（页）链接到它所控制的内容部分。

---

识别标签（页）所控件的内容部分。

---

为标签（页）和内容部分定义角色。

### --feedback--

它将标签（页）链接到它所控制的内容部分。

---

在点击标签（页）时自动切换内容部分。

### --feedback--

它将标签（页）链接到它所控制的内容部分。

## --video-solution--

2
