---
id: 673362d7f94d551edb532d24
title: Sort 方法如何運作？
challengeType: 19
dashedName: how-does-the-sort-method-work
---

# --interactive--

在程式設計中，有許多不同的方法可以排序你的資料。在本課程中，我們將專注於 JavaScript 中內建的 `sort` 方法。

`sort` 方法用於排列陣列的元素，並傳回排序後陣列的引用。因為元素是在原地排序，所以不會進行複製。

以下是 `sort` 方法的基本語法：

```js
array.sort(compareFunction);
```

`compareFunction` 是一個選用參數，用來指定定義排序順序的函式（程式）。我們稍後會看看如何在排序數字時使用比較函式（程式）。

在這個第一個範例中，我們有一個隨機順序的字串陣列。

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
```

我們的目標是將陣列依字母順序排序。我們可以透過對 `fruits` 陣列呼叫 `sort` 方法來達成這個目的。

:::interactive_editor

```js
const fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.sort();

console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
```

:::

結果將會是一個依字母順序排序、以水果 `Apple` 開頭的水果陣列。

在接下來的範例中，我們想要排序以下的數字陣列：

```js
const numbers = [414, 200, 5, 10, 3];
```

如果我們嘗試在這個 `numbers` 陣列上使用 `sort` 方法，將會得到意想不到的結果。

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];
numbers.sort();

console.log(numbers); // [10, 200, 3, 414, 5]
```

:::

我們預期會看到結果 `[3, 5, 10, 200, 414]`，但實際上我們得到的是 `[10, 200, 3, 414, 5]`。

這是因為 `sort` 方法會將元素轉換成字串，然後比較它們的 UTF-16 編碼單元值序列。

UTF-16 程式碼單元是表述字串中字元的數值。UTF-16 程式碼單元的範例有數字 `65`、`66` 和 `67`，分別表述字元 `A`、`B` 和 `C`。

所以，數字 `200` 出現在數字 `3` 之前的陣列中，因為字串 `200` 在比較它們的 UTF-16 代碼單元時，出現在字串 `3` 之前。

這個問題的解法是為 `sort` 方法提供一個比較函式（函式、函數）。

以下是如何使用比較函式對 `numbers` 陣列進行排序的範例：

:::interactive_editor

```js
const numbers = [414, 200, 5, 10, 3];

numbers.sort((a, b) => a - b);

console.log(numbers); // [3, 5, 10, 200, 414]
```

:::

參數 `a` 和 `b` 是被比較的兩個元素。比較函式應該在 `a` 應該排在 `b` 之前時傳回負值，`a` 應該排在 `b` 之後時傳回正值，且當 `a` 和 `b` 相等時傳回零。

第一次比較是在數字 `414` 和 `200` 之間。`414 - 200` 的結果是 `214`，這是一個正值。這表示 `414` 應該排在排序後的陣列中 `200` 之後。

下一個比較是在數字 `200` 和 `5` 之間。`200 - 5` 的結果是 `195`，這是一個正值。這表示 `200` 應該排在排序後的陣列中 `5` 之後。

我們對陣列中的所有元素重複這個處理程序，結果是一個排序好的數字陣列。

儘管在程式設計中有許多更多排序資料的方法，但當你需要排序一個元素陣列時，JavaScript 中的 `sort` 方法在許多情況下都很有用且高效。

# --questions--

## --text--

`sort` 方法在 JavaScript 中的作用是什麼？

## --answers--

它會創建陣列的複本並對該複本進行排序。

### --feedback--

該方法直接修改原始陣列。

---

它會就地排序陣列的元素。

---

它只排序數字。

### --feedback--

該方法直接修改原始陣列。

---

預設會以遞減順序排序元素。

### --feedback--

該方法直接修改原始陣列。

## --video-solution--

2

## --text--

為什麼在使用 `sort` 方法而不帶比較函式時，數字不會如預期排序？

## --answers--

`sort` 方法無法排序數字。

### --feedback--

考慮 JavaScript 在比較時如何控制代碼不同的資料型別。

---

這些元素會根據 UTF-16 編碼單元以字串形式進行比較。

---

`sort` 方法區分大小寫。

### --feedback--

考慮 JavaScript 在比較時如何控制代碼不同的資料型別。

---

該方法僅適用於字串。

### --feedback--

考慮 JavaScript 在比較時如何控制代碼不同的資料型別。

## --video-solution--

2

## --text--

如果 `a` 應該排在 `b` 之後，則比較函式（compare function）應該傳回什麼？

## --answers--

負值。

### --feedback--

考慮元素的排序。

---

零。

### --feedback--

考慮元素的排序。

---

正值。

---

`undefined`

### --feedback--

考慮元素的排序。

## --video-solution--

3
