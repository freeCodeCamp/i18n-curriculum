---
id: 672aa8985acb7361e656f94c
title: 什么是 CSS 自定义属性，它们是如何工作的？
challengeType: 19
dashedName: what-are-css-custom-properties
---

# --interactive--

CSS 自定义属性，也称为 CSS 变量，是由 CSS 作者定义的包含要在整个文档中重用的特定值的实体。 它们是一个强大的特性，可以实现更高效、可维护和灵活的样式表。

声明自定义属性的语法很简单。 它以两个连字符（`--`）开头，后面跟属性名：

```css
:root {
  --main-color: #3498db;
}
```

在这个例子中，我们声明了一个名为 `--main-color` 的自定义属性，其值为 `#3498db`。 `:root` 伪类通常用于声明全局自定义属性，因为它表示 DOM 树中最高级别的父类。

要使用自定义属性，需要调用 `var()` 函数：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
:root {
  --main-color: #3498db;
}

.button {
  background-color: var(--main-color);
}
```

:::

这将 `button` 类的元素的背景颜色设置为存储在 `--main-color` 中的值。

自定义属性的一个关键特性是它们遵循 CSS 级联。 这意味着你可以针对特定的元素或上下文重新定义它们：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="alert">This is an alert message.</div>
```

```css
.alert {
  --main-color: #e74c3c;
  background-color: var(--main-color);
}
```

:::

在这种情况下，`alert` 类的元素将使用一个不同的 `--main-color` 值，覆盖全局定义。

自定义属性还支持后备值。 如果未定义自定义属性或自定义属性无效，你可以提供后备值：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="text">This is some text.</div>
```

```css
:root {
  --text-color: green;
}

.text {
  color: var(--text-color, green);
}
```

:::

这里，如果未定义 `--text-color`，则 `color` 将默认设置为 `green`。

自定义属性在创建主题设计时特别有用。 你可以为不同主题定义一组属性：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="light-theme">
  <p>This is some light themed text.</p>
</div>
```

```css
:root {
  --bg-color: black;
}

body {
  background-color: var(--bg-color);
}

.light-theme {
  --bg-color: white;
  --text-color: black;
  background-color: var(--bg-color);
  color: var(--text-color);
  padding: 10px;
}

```

:::

切换主题变得像从 `body` 元素中添加或删除类一样简单。

自定义属性也可以用于媒体查询以创建响应设计：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<div class="card">
  <h2>Responsive Design</h2>
  <p>Resize the window to see the card adapt!</p>
</div>

```

```css
:root {
  --card-width: 90%;
  --card-bg: #f0f0f0;
  --card-padding: 1rem;
  --text-color: #333;
}

/* Tablet screens and up */
@media (min-width: 600px) {
  :root {
    --card-width: 70%;
    --card-bg: #e8f5e9;
    --card-padding: 1.5rem;
  }
}

/* Desktop screens and up */
@media (min-width: 1024px) {
  :root {
    --card-width: 50%;
    --card-bg: #d0f0ff;
    --card-padding: 2rem;
  }
}

body {
  font-family: system-ui, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #fafafa;
}

.card {
  width: var(--card-width);
  background-color: var(--card-bg);
  padding: var(--card-padding);
  color: var(--text-color);
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  text-align: center;
  transition: all 0.3s ease;
}

```

:::

这种方法允许更易于维护的响应式布局，因为你可以在一个地方更改值，而不是在整个样式表中更改值。 这可以显著减少样式表中的重复，特别是对于经常使用的复杂值。

自定义属性还可以引用其他自定义属性：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
:root {
  --primary-color: #3498db;
  --button-bg: var(--primary-color);
}

button {
  background-color: var(--button-bg);
}

```

:::

这允许在不同样式之间创建关系，从而更容易在整个站点中维护一致的主题。

虽然自定义属性提供了许多优点，但了解它们的浏览器支持很重要。 它们在现代浏览器中得到很好的支持，但旧的浏览器可能无法识别它们。 使用前沿功能时总是要有一个后被计划。

总之，CSS 自定义属性提供了一种强大的方式来创建更动态、更灵活和更易于维护的样式表。 它们允许创建主题设计，简化响应式布局，并支持样式的在运行时被操作。 

随着 web 开发的不断发展，自定义属性正在成为开发人员工具包中越来越重要的工具，为创建适应性强且高效的 CSS 提供了新的可能性。

# --questions--

## --text--

声明 CSS 自定义属性的正确语法是什么？

## --answers--

`$main-color: #3498db;`

### --feedback--

记住，自定义属性在其声明中具有唯一的前缀。

---

`@main-color: #3498db;`

### --feedback--

记住，自定义属性在其声明中具有唯一的前缀。

---

`--main-color: #3498db;`

---

`main-color: #3498db;`

### --feedback--

记住，自定义属性在其声明中具有唯一的前缀。

## --video-solution--

3

## --text--

如何在样式声明中使用 CSS 自定义属性？

## --answers--

`use(--main-color)`

### --feedback--

想想用于引用 CSS 中自定义属性的函数。

---

`var(--main-color)`

---

`@main-color`

### --feedback--

想想用于引用 CSS 中自定义属性的函数。

---

`$(--main-color)`

### --feedback--

想想用于引用 CSS 中自定义属性的函数。

## --video-solution--

2

## --text--

使用 CSS 自定义属性时应该注意什么？

## --answers--

它们可以与旧版本的 CSS 一起使用。

### --feedback--

考虑一下新进的 CSS 自定义属性是如何引入的，以及这可能会给使用旧设备的人带来什么问题。

---

旧的浏览器可能不支持它们。

---

它们可以带来更快的页面速度。

### --feedback--

考虑一下新进的 CSS 自定义属性是如何引入的，以及这可能会给使用旧设备的人带来什么问题。

---

它们增加了样式表中的重复。

### --feedback--

考虑一下新进的 CSS 自定义属性是如何引入的，以及这可能会给使用旧设备的人带来什么问题。

## --video-solution--

2
