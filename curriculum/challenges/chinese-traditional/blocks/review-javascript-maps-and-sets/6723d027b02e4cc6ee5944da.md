---
id: 6723d027b02e4cc6ee5944da
title: JavaScript 的 Map 和 Set 回顧
challengeType: 31
dashedName: review-javascript-maps-and-sets
---

# --interactive--

## JavaScript 中的集合

- `Set` 是用於管理資料群集的內建選項。
- 集合確保其中的每個值只出現一次，使其在從陣列中消除重複項或處理不同值的群集時非常有用。
- 你可以使用 `Set()` 建構式來創建 `Set`：

:::interactive_editor

```js
const set = new Set([1, 2, 3, 4, 5]);
console.log(set); // Set { 1, 2, 3, 4, 5 }
```

:::

- 集合可以使用這些方法操作：

  - `add()`: 為 `Set` 添加一個新元素。
  - `delete()`：從 `Set` 中移除一個元素。
  - `has()`：檢查元素是否存在於 `Set` 中。
  - `clear()`：從 `Set` 中移除所有元素。
  - `keys()` 和 `values()`：兩者都傳回一個包含 `Set` 值的 `SetIterator`。它們是相同的，因為 `keys()` 是 `values()` 的別名。
  - `forEach()`：用於遍歷 `Set` 的值。

## JavaScript 中的 Weaksets

- `WeakSet` 是一個允許你儲存弱參考物件的物件群集。

## 集合與 WeakSet

- 與 Set 不同，`WeakSet` 不支援像數字或字串這類的原始值。
- `WeakSet` 僅儲存物件，且對這些物件的引用是「弱引用」，表示如果該物件在你的程式碼中沒有被其他地方使用，則會自動移除以釋放記憶體。

## JavaScript 中的 Maps

- `Map` 是一個內建物件，用來儲存像物件一樣的鍵值配對。
- Map 與標準的 JavaScript 物件不同，因為它允許任何型別的鍵，包括物件和函式（程式）。
- 當頻繁新增和移除鍵值配對時，`Map` 比標準物件提供更好的效率。
- 你可以使用 `Map()` 建構式來創建 `Map`：

:::interactive_editor

```js
const map = new Map([
  ['flower', 'rose'],
  ['fruit', 'apple'],
  ['vegetable', 'carrot']
]);
console.log(map); // Map(3) { 'flower' => 'rose', 'fruit' => 'apple', 'vegetable' => 'carrot' }
```

:::

- 地圖可以使用這些方法操作：

  - `set()`：為 `Map` 添加新的鍵值配對。
  - `get()`：從 `Map` 中取得鍵的值。
  - `delete()`：從 `Map` 中移除一個鍵值配對。
  - `has()`: 檢查 `Map` 中是否存在某個鍵。
  - `clear()`：從 `Map` 中移除所有鍵值配對。

請注意，Maps 和 Sets 都有 `size` 屬性，該屬性會傳回其中唯一元素的數量。

## JavaScript 中的 WeakMaps

- `WeakMap` 是一個與 `Map` 類似的鍵值配對群集，但對鍵採用弱引用。鍵必須是物件，而值可以是你想要的任何東西。

## Maps 與 WeakMaps

- WeakMap 類似於 WeakSet，因為它們只儲存物件，且對這些物件的引用是「弱」的。

# --assignment--

檢視 JavaScript 的 Maps、Sets 和 JSON 主題與概念。
