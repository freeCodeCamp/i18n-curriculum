---
id: 6733d852175df50937f06061
title: '¿Cómo puedes trabajar con las transmisiones de medios para capturar video y audio de un dispositivo local?'
challengeType: 11
videoId: l7DpWBSCkBs
dashedName: how-can-you-work-with-the-media-streams-getusermedia-to-capture-video-and-audio-from-a-local-device
---

# --description--

Mira el video o lee la transcripción y responde las preguntas a continuación.

# --transcript--

¿Cómo puedes capturar video y audio desde un dispositivo local?

En lugar de reproducir audio y video, a veces puede que desees capturar audio o video. La API de Captura de Medios y Transmisiones, o la API de MediaStream, te permite hacer esto.

Para usar la API, sin embargo, necesitas crear el objeto `MediaStream`. Podrías hacer esto con el constructor, pero no estaría vinculado al hardware del usuario. En cambio, la propiedad `mediaDevices` del objeto global `navigator` tiene un método `getUserMedia()` para que lo uses.

Este método acepta un único objeto `constraints` que define el tipo de medios que deseas recibir. Este objeto tiene una propiedad `audio` y `video`, reflejando transmisiones de audio y video. Estas propiedades pueden ser `false`, si no deseas recibir ese tipo de transmisión, `true` si lo haces, u objetos que definan restricciones adicionales.

Por ejemplo, puedes requerir una resolución específica para la salida de video:

```js
window.navigator.mediaDevices.getUserMedia({
  audio: true,
  video: {
    width: {
      min: 1280,
      ideal: 1920,
      max: 3840
    },
    height: {
      min: 720,
      ideal: 1080,
      max: 2160
    }
  }
});
```

Este objeto de restricciones especifica resoluciones mínimas y máximas para la transmisión de video. La propiedad `ideal` especifica la resolución que más te gustaría tener – y la transmisión proporcionará la resolución más cercana a tu ideal.

Una vez que hayas creado tu MediaStream (asumiendo que el usuario aprueba la solicitud automatizada para acceder a su hardware), puedes usar los datos de la transmisión como necesites.

Ten en cuenta que `getUserMedia()` devuelve una Promesa, lo que significa que necesitarás una función de callback para consumir la transmisión, o usar la sintaxis async/await. Aprenderás más sobre Promesas y programación asíncrona en futuras lecciones.

Aquí hay un ejemplo básico que muestra la transmisión de la webcam del usuario en la página.

```js
const video = document.querySelector("video");
const stream =
  await window.navigator.mediaDevices.getUserMedia({ video: true });
video.srcObject = stream;
await video.play();
```

Vale la pena señalar que esta API no ofrece acceso para captura de pantalla. Aprenderás sobre esa API en la próxima lección.

# --questions--

## --text--

¿Qué método se utiliza para acceder a los dispositivos de medios del usuario?

## --answers--

`createMediaStream()`

### --feedback--

Este método accede a los dispositivos de medios del usuario.

---

`getMediaDevices()`

### --feedback--

Este método accede a los dispositivos de medios del usuario.

---

`getUserMedia()`

---

`captureStream()`

### --feedback--

Este método accede a los dispositivos de medios del usuario.

## --video-solution--

3

## --text--

En el objeto de restricciones para video, ¿qué representa la propiedad ideal?

## --answers--

La resolución mínima aceptable.

### --feedback--

Piensa en lo que significa la palabra ideal.

---

La máxima resolución posible.

### --feedback--

Piensa en lo que significa la palabra ideal.

---

La resolución preferida.

---

La resolución por defecto si no se cumplen otras restricciones.

### --feedback--

Piensa en lo que significa la palabra ideal.

## --video-solution--

3

## --text--

¿Qué devuelve el método `getUserMedia()`?

## --answers--

Un objeto `MediaStream`.

### --feedback--

El método `getUserMedia()` es asíncrono.

---

Un objeto `constraints`.

### --feedback--

El método `getUserMedia()` es asíncrono.

---

Una Promesa.

---

Un elemento `video`.

### --feedback--

El método `getUserMedia()` es asíncrono.

## --video-solution--

3
