---
id: 673368c0161e6b326a7e03f0
title: 如何使用 `innerHTML` 和 `createElement()` 创建新节点？
challengeType: 19
dashedName: how-do-you-create-new-nodes-using-innerhtml-and-createelement
---

# --interactive--

让我们看看你如何使用 `innerHTML` 和 `createElement()` 创建节点。

我们将从 `innerHTML` 开始。

`innerHTML` 是 `Element` 对象的一个属性，你可以用它来设置它们的超文本标记语言结构。通过 `innerHTML`，你可以用字串设置现有元素的超文本标记语言结构，从而创建所有必要的节点。

这是一个示例。我们有一个空的 `div`，并且我们将使用 `innerHTML` 属性在其中添加一些元素：

```html
<div id="container">
  <!-- Add new elements here -->
</div>
```

首先，我们需要通过其 ID 选择元素：

```js
const container = document.getElementById("container");
```

然后，我们将容器的 `innerHTML` 属性设置为一个字串。这个字串必须包含表现你想要创建的节点和结构所需的所有标记。你可以把它看作是在一个字串中编写超文本标记语言。

:::interactive_editor

```html
<div id="container"></div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.innerHTML = "<ul><li>Cheese</li><li>Tomato</li></ul>";
```

:::

我们将把该元素的 `innerHTML` 设置为一个包含披萨配料（奶酪和番茄）的无序列表。

如果这样能让标记更易理解，你也可以将字串写成多行。重要的是标记能准确表现你想要创建的超文本标记语言结构。

运行此 `code` 后，如果你检查你的标记，将看到以下 `HTML` 结构。 

```html
<div id="container">
  <ul>
    <li>Cheese</li>
    <li>Tomato</li>
  </ul>
</div>
```

新节点在字串被解析后动态创建并添加到 DOM 中。

`innerHTML` 在某些场景下非常有用。但是，它确实存在一些你应该熟悉的安全性风险。如果你不能完全控制该字串，就不应该使用它。 

例如，如果字串将由用户输入，你不应该使用 `innerHTML`，因为用户可能会将恶意内容插入到你的网站中。因此，通常建议使用 `textContent` 来插入纯文本。

另一种创建新节点的方法是使用 `createElement()` 方法。通过这个新方法，你可以通过指定它的标签名称来创建一个新元素。 

例如，如果你想创建一个图像元素，你需要在调用此方法时将 `img` 标签作为字串传入：

```js
document.createElement("img");
```

你可以将这个新建对象赋值给一个变量：

```js
const img = document.createElement("img");
```

如果文档是 `HTMLDocument`，则 `createElement()` 方法返回一个新建的 `HTMLElement` 对象。否则，它返回一个 `Element` 对象。

一旦你准备好这个新元素，你可以使用 `appendChild()` 方法将它作为另一个现有元素的子元素添加到 DOM 中，或者你可以使用其他方法将它插入到特定位置。选择最适合你需求的方法。

:::interactive_editor

```html
<div id="container"></div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
const img = document.createElement("img");
img.src = "https://cdn.freecodecamp.org/curriculum/cat-photo-app/lasagna.jpg";
img.alt = "A slice of lasagna on a plate.";
container.appendChild(img);
```

:::

使用 `innerHTML` 和 `createElement()` 创建节点允许你动态操作你的网站的结构和内容。通过结合这些技术，你可以构建交互式网页应用。

# --questions--

## --text--

`innerHTML` 属性的主要用途是什么？

## --answers--

更新 `HTML` 元素。

### --feedback--

考虑如何使用 `innerHTML` 来操作一个元素的结构。

---

设置元素的文本内容。

### --feedback--

考虑如何使用 `innerHTML` 来操作一个元素的结构。

---

修改元素的属性。

### --feedback--

考虑如何使用 `innerHTML` 来操作一个元素的结构。

---

动态将超文本标记语言内容注入到元素中。

## --video-solution--

4

## --text--

以下哪种方法用于在 JavaScript 中创建一个新的 HTML 元素？

## --answers--

`createElement()`

---

`createNode()`

### --feedback--

思考如何从零开始创建一个新建元素。

---

`appendChild()`

### --feedback--

思考如何从零开始创建一个新建元素。

---

`getElementById()`

### --feedback--

思考如何从零开始创建一个新建元素。

## --video-solution--

1

## --text--

当你无法控制该字串时，使用 `innerHTML` 的主要风险是什么？

## --answers--

导致无限循环。

### --feedback--

使用带有不可信 `input` 的 `innerHTML` 时，请考虑代码注入的潜在风险。

---

插入恶意内容。

---

性能问题。

### --feedback--

使用带有不可信 `input` 的 `innerHTML` 时，请考虑代码注入的潜在风险。

---

无障碍问题。

### --feedback--

使用带有不可信 `input` 的 `innerHTML` 时，请考虑代码注入的潜在风险。

## --video-solution--

2
