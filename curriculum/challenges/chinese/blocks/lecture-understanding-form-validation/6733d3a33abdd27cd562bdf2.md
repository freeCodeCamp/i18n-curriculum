---
id: 6733d3a33abdd27cd562bdf2
title: preventDefault() 方法的目的是什么？
challengeType: 19
dashedName: what-is-the-purpose-of-e-preventdefault
---

# --interactive--

让我们了解 `preventDefault()` 方法在事件上的作用。

每个在 DOM 中触发的事件都有某种默认行为。复选框上的 `click` 事件默认切换该复选框的状态。按下聚焦按钮上的空格键会激活该按钮。调用这些事件对象上的 `preventDefault()` 方法可以阻止该行为发生。

让我们来看一个例子。让我们为用户定义一个用于输入的 `input` 元素：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
```

```css
label {
  display: flex;
  flex-direction: column;
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #333;
  margin-bottom: 12px;
}

input[type="text"] {
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 14px;
  margin-top: 4px;
  width: 100%;
  box-sizing: border-box;
  transition: border-color 0.2s, box-shadow 0.2s;
}

input[type="text"]:focus {
  border-color: #0078d4;
  box-shadow: 0 0 3px rgba(0, 120, 212, 0.5);
  outline: none;
}

```

:::

如果我们查看结果，我们可以像预期那样在输入字段中输入。但也许我们不想这样。也许，我们更想在一个单独的元素中显示用户输入的字符。首先，让我们为此定义我们的元素：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

:::

然后，我们需要挂钩到 `keydown` 事件以监听键盘上字符的输入。请注意，这里我们不需要 `change` 或 `input` 事件，因为我们需要键盘信息。

```js
const input = document.querySelector("input");

input.addEventListener("keydown", (e) => {
    
})
```

当你按下键盘上的一个键时，会触发 `keydown` 事件。发生这种情况时，让我们在我们的 `p` 元素中显示该字符。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
<script src="index.js"></script>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

```js
const input = document.querySelector("input");
const output = document.getElementById("output");

input.addEventListener("keydown", (e) => {
  output.innerText = `You pressed the ${e.key} key`;
});
```

:::

`e.key` 给你按下的密钥的值，例如 `a` 表示 `a` 键，`Enter` 表示 `Enter` 键。

使用上述代码，当你在 `input` 中输入时，你输入的字符将显示在 `p` 元素中。 

这很好，但我们不想在 `input` 中显示字符。这就是我们的 `preventDefault()` 方法发挥作用的地方。`keydown` 的默认行为是在输入中渲染字符。让我们通过调用 `e.preventDefault()` 来避免这种情况：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
<script src="index.js"></script>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

```js
const input = document.querySelector("input");
const output = document.getElementById("output");

input.addEventListener("keydown", (e) => {
  e.preventDefault();
  output.innerText = `You pressed the ${e.key} key`;
});
```

:::

就这样，你已经阻止了默认行为，从而允许你实现自己的自定义事件处理。

另一个常见的使用 `e.preventDefault` 方法的例子与表单提交有关。默认情况下，提交表单会将数据发送到服务器并重新装载页面。使用 `e.preventDefault()` 可以防止这种情况发生。

```js
const form = document.querySelector("form");

form.addEventListener("submit", (e) => {
  e.preventDefault();
  // rest of code goes here
});
```

阻止默认行为在你需要更多控件来控制用户如何与页面交互时非常有用，但重要的是要考虑无障碍——你的自定义行为应提供与默认行为相同的特色。

# --questions--

## --text--

`preventDefault()` 方法在事件处理中的主要目的是什么？

## --answers--

停止事件传播。

### --feedback--

本课解释了该方法对事件默认行为的作用。

---

移除事件监听器。

### --feedback--

本课解释了该方法对事件默认行为的作用。

---

停止事件的默认行为。

---

触发自定义事件。

### --feedback--

本课解释了该方法对事件默认行为的作用。

## --video-solution--

3

## --text--

在给定的示例中，当对 `input` 元素的 `keydown` 事件调用 `preventDefault()` 时，正在阻止什么默认行为？

## --answers--

输入失去焦点。

### --feedback--

想想当你在输入字段中输入时通常会发生什么。

---

显示在输入字段中的密钥。

---

正在提交的形式。

### --feedback--

想想当你在输入字段中输入时通常会发生什么。

---

页面滚动。

### --feedback--

想想当你在输入字段中输入时通常会发生什么。

## --video-solution--

2

## --text--

使用 `preventDefault()` 时，开发者应牢记哪些重要事项？

## --answers--

它应仅用于表单提交。

### --feedback--

课程提到在使用自定义行为时与用户交互相关的特定问题。

---

它将自动提升性能。

### --feedback--

课程提到在使用自定义行为时与用户交互相关的特定问题。

---

它应维护与无障碍默认行为相同的特色。

---

它将阻止该元素上的所有未来事件。

### --feedback--

课程提到在使用自定义行为时与用户交互相关的特定问题。

## --video-solution--

3
