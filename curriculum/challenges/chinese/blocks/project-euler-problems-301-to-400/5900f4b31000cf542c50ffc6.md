---
id: 5900f4b31000cf542c50ffc6
title: '问题 327：末日房间'
challengeType: 1
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

一系列三个房间通过自动门相互连接。

<img alt="series of three rooms, connected to each other by automatic doors" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px; display: block; margin-right: auto; margin-left: auto; margin-bottom: 1.2rem;">

每个门都由一张安全卡操作。一旦你进入房间，门会自动关闭，该安全卡将无法再次使用。机器在开始时会发放无限数量的卡，但每个房间（包括起始房间）都配备扫描器。如果它们检测到你持有超过三张安全卡，或者检测到地上有无人看管的安全卡，那么所有门将永久锁定。然而，每个房间都设有一个盒子，你可以安全地保存任意数量的安全卡，以便后续使用。

如果您只是尝试一次一个地穿过房间，那么当您进入房间3时，您将使用所有三张卡片，并将永远被困在那个房间！

但是，如果您使用存储箱，则可以进行逃生。 例如，您可以使用第一张卡进入房间1，将一张卡放入存储箱，然后使用第三张卡退回到房间。 然后在从点胶机收集另外三张牌之后，您可以使用一张进入1号房间并收集刚刚放入盒子中的卡片。 你现在又有三张牌，可以通过剩余的三扇门。 此方法允许您使用总共六张安全卡通过所有三个房间。

可以使用总共123张安全卡通过六个房间，最多可携带3张卡。

设 $C$ 为任何时候可携带的最大卡牌数量。

令 $R$ 为要穿过的房间数。

设 $M(C, R)$ 为从发卡机获取的最少卡片数，以便在任何时候携带最多 $C$ 张卡片穿过 $R$ 个房间。

例如，$M(3, 6) = 123$ 和 $M(4, 6) = 23$。

并且，$\sum M(C, 6) = 146$ 对于 $3 ≤ C ≤ 4$。

已知对于 $3 ≤ C ≤ 10$，$\sum M(C, 10) = 10382$。

查找 $\sum M(C, 30)$，其中 $3 ≤ C ≤ 40$。

# --hints--

`roomsOfDoom()` 应该返回 `34315549139516`。

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
