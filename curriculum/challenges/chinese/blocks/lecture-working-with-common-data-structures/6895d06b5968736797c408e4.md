---
id: 6895d06b5968736797c408e4
title: 动态数组与静态数组有何不同？
challengeType: 19
dashedName: how-do-dynamic-arrays-differ-from-static-arrays
---

# --description--

数组是计算机科学中的一种基本数据结构。所有数组都保存有序的数据集合，但根据它们的类型，底层的工作方式可能不同。

它们的底层行为可能对程序的效率产生重要影响，因此让我们了解动态数组和静态数组及其区别，这样你就可以为你的程序选择最高效的一个。

我们将从静态数组开始。

**静态数组**具有固定大小。它们将元素保存于相邻的内存位置。

静态数组的大小在数组初始化时确定。一旦分配了那块特定的内存，它就是固定的，并且在程序运行时无法更改。这是静态数组的一个关键特性。

将元素存储在相邻的内存位置使数据检索过程更加高效，因为程序可以保存第一个元素的位置，然后使用索引进行简单计算并查找内存中的其他元素。

多亏了这一点，访问静态数组的值需要常量时间 `O(1)`，这非常高效。

当你预先知道将要 `store` 的 `Element` 数量时，可以使用静态 `array`。当这些值将被非常频繁地 `access` 时，这也很有帮助，因为 `access` 操作非常高效。

但是，这种数据结构不能增长或缩小，因此如果将要保存的元素数量可能变化，你应该使用动态数组。

尝试增加静态数组的大小需要新建一个数组并将所有元素从旧数组拷贝到新数组，这样效率很低。在这种情况下，动态数组会更好，因为它会自动处理这个过程。

Python 不包含传统的静态数组作为内置数据结构。

但其他编程语言，比如 Java，确实支持它们。这是一个在 Java 中可以保存三个整数的静态数组示例：

```java
int[] numbers = new int[3]; 
```

Python 中的数组是动态的，所以让我们来看一下这些。

**动态数组** 更加灵活，因为它们可以在程序运行时自动增长或缩小。

它们通过一种自动调整大小的机制工作，当原始数组已满时，将元素复制到一个新建数组中。该进程高效完成，因为新建数组的大小以一种高效的方式选择，使这些计算代价高昂的操作变得不那么频繁。

访问动态数组的元素需要常量时间 `O(1)`，所以这个操作非常高效。

在数组中间插入一个元素需要线性时间 `O(n)`，因为其后的元素需要重新定位。

如果动态数组中仍有空间，在数组末尾插入一个元素需要常量时间 `O(1)`，但如果数组已满且需要调整大小，则该操作具有 `O(n)` 复杂度。

当你事先不知道需要在数组中保存多少个值时，应该使用动态数组。当你需要频繁插入和删除元素时，它们也很有帮助。

Python 的内置 `list` 数据结构作为动态数组工作。你可以通过将元素写在方括弧内并用逗号分隔来创建一个列表。

```python
numbers = [3, 4, 5, 6]
```

你可以通过写出保存列表的变量名，后跟方括弧，并在方括弧内写入对应的索引来访问一个元素。

索引从第 0 个元素开始，后续每个元素的索引递增 1：

```python
numbers[0]  # 3
numbers[1]  # 4
numbers[2]  # 5
numbers[3]  # 6
```

要更新一个值，只需重新赋值即可：

```python
numbers[2] = 16
```

你可以使用 `.append()` 方法将元素追加到列表中：

```python
numbers.append(7)
```

你可以使用 `.insert()` 方法在特定索引处插入元素，将索引作为第一个参数传入，将元素本身作为第二个参数传入。

```python
numbers.insert(3, 15)
```

你可以使用 `.pop()` 方法删除特定索引处的元素：

```python
numbers.pop(2)
```

如果你不指定索引，`.pop()` 将移除最后一个元素。

文档中还有其他内置列表方法，你可以查看这些方法以便轻松地添加和移除元素。

这就是动态数组的强大之处，或者在这种情况下的列表。

通常，当你预先知道元素数量且需要频繁访问它们时，应使用静态数组；当元素数量未知或随时间变化时，应使用动态数组。

你应该始终权衡静态数组的简单性和动态数组的灵活性之间的取舍。它们对于特定的用例和场景都很有帮助。能够为特定问题选择最佳方案是你通过实践逐步培养的问题解决能力的一部分。

# --questions--

## --text--

静态数组和动态数组在大小上的主要区别是什么？

## --answers--

静态数组在创建后可以改变其大小，而动态数组则不能。

### --feedback--

考虑每种类型的数组将需要多少空间。

---

静态数组具有固定大小，而动态数组可以在运行期改变大小。

---

它们的大小处理方式在实际应用中没有区别。

### --feedback--

考虑每种类型的数组将需要多少空间。

---

动态数组总是比静态数组大。

### --feedback--

考虑每种类型的数组将需要多少空间。

## --video-solution--

2

## --text--

如果你需要为已满的静态数组添加更多元素，通常涉及什么进程？

## --answers--

静态数组会自动扩展其内存以适应新建元素。

### --feedback--

考虑当一个具有固定容量的容器空间不足时的必要措施。

---

你必须创建一个新的、更大的数组，并将所有现有元素拷贝到其中。

---

数组会自动转换为动态数组。

### --feedback--

考虑当一个具有固定容量的容器空间不足时的必要措施。

---

如果数组已满，新建元素将被直接丢弃。

### --feedback--

考虑当一个具有固定容量的容器空间不足时的必要措施。

## --video-solution--

2

## --text--

在哪种情况下，静态数组通常比动态数组更合适？

## --answers--

当元素的确切数量未知且经常变化时。

### --feedback--

考虑静态数组在大小和资源使用方面的主要优势。

---

当你需要保存可能无限增长的非常大数据集时。

### --feedback--

考虑静态数组在大小和资源使用方面的主要优势。

---

当你需要在集合内任意位置频繁插入和删除时。

### --feedback--

考虑静态数组在大小和资源使用方面的主要优势。

---

当数据大小在编写 `Program` 时是固定且已知的。

## --video-solution--

4

