---
id: 5900f3c31000cf542c50fed5
title: '問題 86：長方體路徑'
challengeType: 1
forumTopicId: 302200
dashedName: problem-86-cuboid-route
---

# --description--

一隻蜘蛛 S 坐在一個長方體房間的角落，該房間尺寸為 6×5×3，且一隻蒼蠅 F 坐在對角的角落。透過在房間表面行走，從 S 到 F 的最短「直線」距離為 10，路徑如圖所示。

<img alt="a diagram of a spider and fly's path from one corner of a cuboid room to the opposite corner" src="https://cdn-media-1.freecodecamp.org/project-euler/cuboid-route.png" style="background-color: white; padding: 10px; display: block; margin-right: auto; margin-left: auto; margin-bottom: 1.2rem;">

然而，對於任何給定的長方體，最多有三個「最短」路徑候選，而最短路線不一定具有整數長度。

可以證明，當 M = 100 時，有且只有 `2060` 個不同的長方體（忽略旋轉），其整數維度最大為 M × M × M，且最短路徑長度為整數。這是解法數量首次超過兩千的最小 M 值；當 M = 99 時，解法數量為 `1975`。

找到最小的 M 值，使解的數量首次超過 `n`。

# --hints--

`cuboidRoute(2000)` 應該傳回一個數字。

```js
assert(typeof cuboidRoute(2000) === 'number');
```

`cuboidRoute(2000)` 應該傳回 `100`。

```js
assert.strictEqual(cuboidRoute(2000), 100);
```

`cuboidRoute(25000)` 應該傳回 `320`。

```js
assert.strictEqual(cuboidRoute(25000), 320);
```

`cuboidRoute(500000)` 應該傳回 `1309`。

```js
assert.strictEqual(cuboidRoute(500000), 1309);
```

`cuboidRoute(1000000)` 應該傳回 `1818`。

```js
assert.strictEqual(cuboidRoute(1000000), 1818);
```

# --seed--

## --seed-contents--

```js
function cuboidRoute(n) {

  return true;
}

cuboidRoute(2000);
```

# --solutions--

```js
function cuboidRoute(n) {
  // Based on https://www.mathblog.dk/project-euler-86-shortest-path-cuboid/
  function getLength(a, b) {
    return Math.sqrt(a ** 2 + b ** 2);
  }

  let M = 2;
  let counter = 0;

  while (counter < n) {
    M++;
    for (let baseHeightWidth = 3; baseHeightWidth <= 2 * M; baseHeightWidth++) {
      const pathLength = getLength(M, baseHeightWidth);
      if (Number.isInteger(pathLength)) {
        if (baseHeightWidth <= M) {
          counter += Math.floor(baseHeightWidth / 2);
        } else {
          counter += 1 + M - Math.floor((baseHeightWidth + 1) / 2);
        }
      }
    }
  }

  return M;
}
```
