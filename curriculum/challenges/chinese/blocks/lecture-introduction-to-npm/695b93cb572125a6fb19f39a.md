---
id: 695b93cb572125a6fb19f39a
title: 什么是包依赖以及选择外部包时需要考虑哪些因素？
challengeType: 19
dashedName: what-are-package-dependencies-and-what-are-some-considerations-for-choosing-an-external-package
---

# --description--

在之前的课程中，你已经了解了依赖是什么。这里，你将进一步了解它们以及在为你的项目选择外部包时需要考虑的事项。

依赖是你的项目为了正常运行所需的另一段代码。这些通常是其他开发者创建并在 npm 注册表中共享的外部包。

使用依赖可以为你节省大量时间。你可以安装一个已经解决常见问题的包，而不是自己创建所有内容——比如创建网络服务器、处理路由、获取数据、管理认证等等。

在你的 `package.json` 文件中，所有你的项目依赖的包都列在 `dependencies` 密钥下：

```json
{
  "name": "package-dependencies",
  "version": "1.0.0",
  "description": "a demo on how package dependencies work",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [
    "Node",
    "NPM"
  ],
  "author": "Kolade Chris",
  "license": "ISC",
  "dependencies": {
    "chalk": "^5.6.2",
    "lodash": "^4.17.21"
  }
}
```

在上面的示例 `package.json` 文件中，`chalk` 和 `lodash` 被列为项目的依赖项。这意味着项目依赖这些包才能正常工作。如果它们未安装且未列在 `package.json` 文件中，任何使用它们的特色都会出错。

还有另一类依赖称为 `devDependencies`。这些是你在创建或测试你的项目时才需要的包，而不是在生产环境中运行时需要的。常见示例包括：

* Nodemon 用于在有更新时自动重启 `project`
    
* Jest 或 Mocha 用于测试
    
* ESLint 用于代码检查
    

正如你所料，`devDependencies` 出现在 `package.json` 文件的 `devDependencies` 部分：

```json
{
  "name": "package-dependencies",
  "version": "1.0.0",
  "description": "a demo on how package dependencies work",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [
    "Node",
    "NPM"
  ],
  "author": "Kolade Chris",
  "license": "ISC",
  "dependencies": {
    "chalk": "^5.6.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "jest": "^30.2.0",
    "nodemon": "^3.1.10"
  }
}
```

在选择在你的项目中使用哪些包时，有几点重要事项需要牢记。

安全性应始终放在首位。即使是一个不安全的包也可能为你的整个项目带来问题。你还应考虑性能，因为大型或优化不良的包可能会拖慢你的项目。

这也有助于选择流行且得到良好支持的包。流行的包通常拥有活跃的社区、良好的文档和频繁的更新。查看流行度的一个简单方法是查看 npm 上每周的下载量。例如，`chalk` 包每周下载量超过 300,000 次：

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-package-dependencies-and-what-are-some-considerations-for-choosing-an-external-package-1.webp" alt="screenshot from npm of chalk package statistics">

维护也很重要。维护良好的 `package` 会定期更新，并且能更好地与其他软件的新版本协同工作。

最后，不要忽视文档。清晰、详尽的文档使理解如何使用一个包变得更加容易，并且在将其集成到你的项目中时为你节省大量时间。

# --questions--

## --text--

npm 包的高下载量通常表示什么？

## --answers--

该 `package` 是新建且未经测试的。

### --feedback--

考虑高下载量对一个 `package` 受欢迎程度的说明。

---

该 `package` 不受欢迎且很少使用。

### --feedback--

考虑高下载量对一个 `package` 受欢迎程度的说明。

---

该包具有强大的社区支持，且可能更可靠。

---

该包仅用于私有项目。

### --feedback--

考虑高下载量对一个 `package` 受欢迎程度的说明。

## --video-solution--

3

## --text--

哪个语句最能描述 `dependencies` 和 `devDependencies` 之间的区别？

## --answers--

`dependencies` 仅用于测试，而 `devDependencies` 用于生产。

### --feedback--

考虑应用部署后运行所需的依赖类型。

---

`dependencies` 是应用运行所需的，而 `devDependencies` 仅在开发和测试期间需要。

---

`devDependencies` 会在生产环境中自动安装。

### --feedback--

考虑应用部署后运行所需的依赖类型。

---

`devDependencies` 仅用于管理数据库。

### --feedback--

考虑应用部署后运行所需的依赖类型。

## --video-solution--

2

## --text--

为什么依赖项有用？

## --answers--

它们减慢项目设置以确保代码规范。

### --feedback--

考虑依赖如何帮助你避免重复造轮子。

---

它们防止开发者安装第三方包。

### --feedback--

考虑依赖如何帮助你避免重复造轮子。

---

它们仅用于样式和前端设计。

### --feedback--

考虑依赖如何帮助你避免重复造轮子。

---

它们为常见的任务如路由和认证提供现成的方案。

## --video-solution--

4
