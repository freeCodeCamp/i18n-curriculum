---
id: 5900f4b31000cf542c50ffc6
title: '問題 327：末日房間'
challengeType: 1
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

三個房間透過自動門彼此相連。

<img alt="series of three rooms, connected to each other by automatic doors" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px; display: block; margin-right: auto; margin-left: auto; margin-bottom: 1.2rem;">

每扇門皆由安全卡操作。當你進入房間後，門會自動關閉，且該安全卡將無法再次使用。機器在開始時會發放無限數量的卡片，但每個房間（包括起始房間）都設有掃描器。若掃描器偵測到你持有超過 3 張安全卡，或偵測到地上有無人看管的安全卡，則所有門將永久鎖定。然而，每個房間都設有一個箱子，你可以安全地將任意數量的安全卡存放其中，以便日後使用。

如果你只是嘗試一次穿越一個房間，那麼當你進入第 3 個房間時，你已經使用了全部三張卡，將永遠被困在那個房間裡！

但是，如果你使用儲物箱，則可以離開。 例如，你可以使用你的第一張卡進入房間 1，將一張卡放入儲物箱，然後使用你的第三張卡離開房間回到起點。 接著，在從發卡機收集三張卡後，你可以使用其中一張進入房間 1 並取回剛才放入儲物箱的卡。 你現在又有三張卡，將能通過剩下的三扇門。 這種方法允許你總共使用六張安全卡通過所有三個房間。

可以攜帶最多 3 張卡片，使用總共 123 張安全卡穿越六個房間。

令 $C$ 為任何時候可攜帶的最大卡片數量。

令 $R$ 為要穿越的房間數量。

設 $M(C, R)$ 為從發卡機取得的最少卡片數量，以攜帶最多 $C$ 張卡片在任何時間內，通過 $R$ 個房間。

例如，$M(3, 6) = 123$ 和 $M(4, 6) = 23$。

而且，$\sum M(C, 6) = 146$ 對於 $3 ≤ C ≤ 4$。

已知對於 $3 ≤ C ≤ 10$，$\sum M(C, 10) = 10382$。

求 $\sum M(C, 30)$，其中 $3 ≤ C ≤ 40$。

# --hints--

`roomsOfDoom()` 應該傳回 `34315549139516`。

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
