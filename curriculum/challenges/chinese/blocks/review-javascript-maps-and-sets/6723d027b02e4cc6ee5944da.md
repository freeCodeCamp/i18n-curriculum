---
id: 6723d027b02e4cc6ee5944da
title: JavaScript 的 Map 和 Set 复习
challengeType: 31
dashedName: review-javascript-maps-and-sets
---

# --interactive--

## JavaScript 中的集合

- `Set` 是管理数据集合的内置选项。
- 集合确保其中的每个值只出现一次，使其在从数组中消除副本或处理不同值的集合时非常有用。
- 你可以使用 `Set()` 构造函数创建一个 `Set`：

:::interactive_editor

```js
const set = new Set([1, 2, 3, 4, 5]);
console.log(set); // Set { 1, 2, 3, 4, 5 }
```

:::

- 集合可以使用这些方法进行操作：

  - `add()`：为 `Set` 添加一个新建元素。
  - `delete()`：从 `Set` 中移除一个元素。
  - `has()`：查看 `Set` 中是否存在某个元素。
  - `clear()`：从 `Set` 中移除所有元素。
  - `keys()` 和 `values()`：两者都返回包含 `Set` 值的 `SetIterator`。它们是相同的，因为 `keys()` 是 `values()` 的别名。
  - `forEach()`：用于遍历 `Set` 的值。

## JavaScript 中的 Weaksets

- `WeakSet` 是一个对象集合，允许你保存弱引用的对象。

## 集合与弱集合

- 与 Set 不同，`WeakSet` 不支持数字或字串等原语。
- `WeakSet` 只保存对象，并且对这些对象的引用是“弱引用”，这意味着如果对象在你的代码中没有被其他地方使用，它会被自动移除以释放内存。

## JavaScript 中的 Maps

- `Map` 是一个内置对象，保存着与对象类似的键值对。
- Map 与标准 JavaScript 对象不同，它允许任何类型的密钥，包括对象和函数。
- 当频繁添加和移除键值点对时，`Map` 相较于标准对象提供了更好的性能。
- 你可以使用 `Map()` 构造函数创建一个 `Map`：

:::interactive_editor

```js
const map = new Map([
  ['flower', 'rose'],
  ['fruit', 'apple'],
  ['vegetable', 'carrot']
]);
console.log(map); // Map(3) { 'flower' => 'rose', 'fruit' => 'apple', 'vegetable' => 'carrot' }
```

:::

- 地图可以使用这些方法进行操作：

  - `set()`：为 `Map` 添加一个新建的密钥-值点对。
  - `get()`：从 `Map` 中检索密钥的值。
  - `delete()`：从 `Map` 中移除一个密钥-值点对。
  - `has()`: 查看 `Map` 中是否存在某个密钥。
  - `clear()`：从 `Map` 中移除所有密钥-值点对。

请注意，Maps 和 Sets 都有 `size` 属性，该属性返回其中唯一元素的数量。

## JavaScript 中的 WeakMaps

- `WeakMap` 是一个键值点对的集合，就像 `Map` 一样，但对键使用弱引用。键必须是对象，值可以是你喜欢的任何内容。

## Maps 与 WeakMaps

- WeakMap 类似于 WeakSet，因为它们只保存对象，并且对这些对象的引用是“弱引用”。

# --assignment--

复习 JavaScript 的 Maps、Sets 和 JSON 主题与概念。
