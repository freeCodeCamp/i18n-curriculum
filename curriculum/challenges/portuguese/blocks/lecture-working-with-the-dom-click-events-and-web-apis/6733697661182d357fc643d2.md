---
id: 6733697661182d357fc643d2
title: O que é a Canvas API e como ela funciona?
challengeType: 19
dashedName: what-is-the-canvas-api-and-how-does-it-work
---

# --interactive--

A API `Canvas` é uma ferramenta poderosa que permite manipular gráficos diretamente dentro do seu arquivo JavaScript. Tudo começa com um elemento `canvas` em HTML. Este elemento serve como uma superfície de desenho que você pode manipular usando os métodos de instância e propriedades da API `Canvas`.

A API `Canvas` fornece tudo que você precisa para criar visuais incríveis, incluindo formas, texto, animações e até jogos complexos. Ele possui interfaces como `HTMLCanvasElement`, `CanvasRenderingContext2D`, `CanvasGradient`, `CanvasPattern`, `TextMetrics` que fornecem métodos e propriedades que você pode usar para criar gráficos no seu arquivo JavaScript.

Vamos ver como a API `Canvas` funciona para que você possa começar a criar gráficos com JavaScript.

Primeiro, você precisa criar um elemento `canvas` no seu arquivo HTML:

```html
<canvas id="my-canvas"></canvas>
```

O elemento `canvas` é representado pela interface `HTMLCanvasElement`, que fornece métodos e propriedades para manipulá-lo. Além disso, você pode usar métodos e propriedades de outras interfaces na API `Canvas`.

Você pode definir um `width` e `height` para o seu `canvas` dentro do HTML:

```html
<canvas id="my-canvas" width="400" height="400"></canvas>
```

Ou você pode usar as propriedades `width` e `height` da interface `HTMLCanvasElement`:

```js
const canvas = document.getElementById("my-canvas");
canvas.width = 400;
canvas.height = 400;
```

Por enquanto, você ainda não pode ver nada na tela. Após criar seu elemento `canvas`, o próximo passo é obter acesso ao contexto de desenho do canvas com o método `getContext()` da interface `HTMLCanvasElement`. 

O contexto mais comum é `2d`, que permite desenhar em duas dimensões:

```js
const canvas = document.getElementById("my-canvas");
const ctx = canvas.getContext('2d');
```

Se você registrar a variável `ctx` no console, verá os métodos e propriedades de `CanvasRenderingContext2D` que você pode usar para criar formas, cores, linhas e mais, junto com seus valores padrão:

```js
console.log(ctx);
```

Uma vez que você tenha o contexto 2D, você pode começar a desenhar na tela.

A API `Canvas` fornece vários métodos e propriedades para desenhar formas, linhas e texto. Uma delas é a propriedade `fillStyle`, que você pode combinar com o método `fillRect()` para desenhar um retângulo ou quadrado:

:::interactive_editor

```html
<html>
  <head>
  </head>
  <body>
    <canvas id="my-canvas" width="400" height="400"></canvas>
    <script src="index.js"></script>
  </body>
</html>
```

```js
const canvas = document.getElementById("my-canvas");

const ctx = canvas.getContext("2d");

// Set the background color
ctx.fillStyle = "crimson";

// Draw a rectangle
ctx.fillRect(1, 1, 150, 100);
```

:::

`fillRect` recebe 4 valores numéricos que representam o eixo x, eixo y, largura e altura, respectivamente.

Há algo na tela agora. Você também pode desenhar texto ou até criar uma animação. Aqui está uma tela para representar texto:

```html
<canvas id="my-text-canvas" width="300" height="70"></canvas>
```

Para finalmente desenhar o texto, passe o texto para o método `fillText()` como o primeiro argumento, seguido pelos valores para os eixos x e y:

:::interactive_editor

```html
<html>
  <head>
  </head>
  <body>
    <canvas id="my-text-canvas" width="300" height="70"></canvas>
    <script src="index.js"></script>
  </body>
</html>
```

```js
const textCanvas = document.getElementById("my-text-canvas");

const textCanvasCtx = textCanvas.getContext("2d");

// Set font family and size
textCanvasCtx.font = "30px Arial";

// Set text color
textCanvasCtx.fillStyle = "crimson";

// Draw the text
textCanvasCtx.fillText("Hello HTML Canvas!", 1, 50);
```

:::

O resultado no navegador será o texto vermelho `Hello HTML Canvas!`.

Há muito mais que você pode fazer com a API `Canvas`. Por exemplo, você pode combiná-lo com `requestAnimationFrame` para criar animações personalizadas, visualizações, jogos e mais.

# --questions--

## --text--

Qual método e propriedade permitem desenhar e preencher retângulos ou quadrados na API `Canvas`?

## --answers--

`strokeRect()` e `lineWidth`.

### --feedback--

Pense tanto no método que desenha a forma quanto na propriedade que a preenche com cor.

---

`fillRect()` e `fillStyle`.

---

`clearRect()` e `strokeStyle`.

### --feedback--

Pense tanto no método que desenha a forma quanto na propriedade que a preenche com cor.

---

`beginPath()` e `shadowColor`.

### --feedback--

Pense tanto no método que desenha a forma quanto na propriedade que a preenche com cor.

## --video-solution--

2

## --text--

Qual destes não é uma propriedade ou método da interface `CanvasRenderingContext2D` na API `Canvas`?

## --answers--

`fillStyle`

### --feedback--

Pense nas propriedades e métodos comumente usados na renderização de canvas.

---

`shadowColor`

### --feedback--

Pense nas propriedades e métodos comumente usados na renderização de canvas.

---

`drawImage`

### --feedback--

Pense nas propriedades e métodos comumente usados na renderização de canvas.

---

`backgroundColor`

## --video-solution--

4

## --text--

Como você desenha texto em um canvas usando o método `fillText()` em JavaScript?

## --answers--

Passe o texto, seguido pelos valores para a largura e altura.

### --feedback--

Pense nas coordenadas onde o texto deve aparecer.

---

Passe o texto, seguido pelos valores para os eixos x e y.

---

Passe o texto e o tamanho da fonte.

### --feedback--

Pense nas coordenadas onde o texto deve aparecer.

---

Passe os valores de texto e cor.

### --feedback--

Pense nas coordenadas onde o texto deve aparecer.

## --video-solution--

2
