---
id: 5900f3831000cf542c50fe96
title: '问题23：非丰富的总和'
challengeType: 1
forumTopicId: 301873
dashedName: problem-23-non-abundant-sums
---

# --description--

完美数字是一个数字，其正确除数的总和恰好等于数字。 例如，28的适当除数之和为1 + 2 + 4 + 7 + 14 = 28，这意味着28是一个完美数。

当一个数字 `n` 的真因子之和小于 `n` 时，称其为亏数；当该和大于 `n` 时，称其为盈数。

由于12是最小的有限数，1 + 2 + 3 + 4 + 6 = 16，可以写成两个有限数之和的最小数是24.通过数学分析，可以看出所有整数都大于28123可以写成两个数字的总和。  By mathematical analysis, it can be shown that all integers greater than 28123 can be written as the sum of two abundant numbers. 然而，即使已知不能表示为两个充裕数的总和的最大数小于该限制，也不能通过分析进一步减小该上限。

查找所有不能写成两个丰富数之和的 `n` 以下（含）正整数的和。

# --hints--

`sumOfNonAbundantNumbers(10000)` 应该返回一个数字。

```js
assert.isNumber(sumOfNonAbundantNumbers(10000));
```

`sumOfNonAbundantNumbers(10000)` 应该返回 3731004。

```js
assert.strictEqual(sumOfNonAbundantNumbers(10000), 3731004);
```

`sumOfNonAbundantNumbers(15000)` 应该返回 4039939。

```js
assert.strictEqual(sumOfNonAbundantNumbers(15000), 4039939);
```

`sumOfNonAbundantNumbers(20000)` 应该返回 4159710。

```js
assert.strictEqual(sumOfNonAbundantNumbers(20000), 4159710);
```

`sumOfNonAbundantNumbers(28123)` 应该返回 4179871。

```js
assert.strictEqual(sumOfNonAbundantNumbers(28123), 4179871);
```

# --seed--

## --seed-contents--

```js
function sumOfNonAbundantNumbers(n) {

  return n;
}

sumOfNonAbundantNumbers(28123);
```

# --solutions--

```js
function abundantCheck(number) {
  let sum = 1;

  for (let i = 2; i <= Math.sqrt(number); i += 1) {
    if(number % i === 0) {
      sum += i + +(i !== Math.sqrt(number) && number / i);
    }
  }
  return sum > number;
}

function sumOfNonAbundantNumbers(n) {
  let sum = 0;
  const memo = {};
  let abundantList = [];

  // Function checkSum checks if num can be represented as a sum of numbers in the stack (array)
  const checkSum = (num, stack, memo) => {
    for (let i = 0; i < stack.length; i += 1) {
      if ((num - stack[i]) in memo) return true;
    }
    return false;
  };

  for (let i = 1; i <= n; i += 1) {
    if (abundantCheck(i)) {
      abundantList.push(i);
      memo[i] = 1;
    }
    if (checkSum(i, abundantList, memo)) continue;
    sum += i;
  }
  return sum;
}
```
