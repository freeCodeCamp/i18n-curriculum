---
id: 6733696567d2273540aa6033
title: '¿Qué es la API de Animaciones Web y cómo se relaciona con las propiedades de animación CSS?'
challengeType: 19
dashedName: what-is-the-web-animations-api-and-how-does-it-relate-to-css-animation-properties
---

# --description--

La API `Web Animations` (WAAPI) te permite crear y controlar animaciones directamente dentro de JavaScript. Con WAAPI, puedes trabajar con animaciones de manera más dinámica, lo que facilita su manipulación.

Examinemos WAAPI en más detalle, para que puedas comenzar a trabajar con animaciones directamente dentro de tu código JavaScript. En el núcleo de WAAPI está el constructor `Animation`, que proporciona varios métodos y propiedades de instancia que te permiten animar elementos dinámicamente.

Un método significativo en el constructor `Animation` es `animate()`. Te permite crear una animación especificando fotogramas clave y opciones como duración, dirección, atenuación e iteraciones.

Aquí está la sintaxis básica del método `animate()`:

```js
element.animate(keyframes, options);
```

Mira un ejemplo. Aquí hay un elemento `div` para el HTML:

```html
<div class="square" id="square"></div>
```

Aquí está el CSS que hace que el `div` sea un cuadrado y centre todo en la página:

```css
body {
  background: #f1f1f1;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.square {
  background: #1b1b32;
  width: 10rem;
  aspect-ratio: 1/1;
}
```

Y aquí está el JavaScript que usa el método `animate()`:

```js
const square = document.querySelector("#square");

const animation = square.animate(
  [{ transform: "translateX(0px)" }, { transform: "translateX(100px)" }],
  {
    duration: 2000, // makes animation lasts 2 seconds
    iterations: Infinity, // loops indefinitely
    direction: "alternate", // moves back and forth
    easing: "ease-in-out" // smooth easing
  }
);
```

El resultado en el navegador será un cuadrado azul moviéndose de un lado a otro horizontalmente.

Los métodos de instancia del constructor `Animation` incluyen:

```js
play()
pause()
reverse()
finish()
cancel()
```

Y las propiedades de instancia incluyen:

```md
playbackRate
currentTime
startTime
effect
timeline
playState
finished
onfinish
oncancel
```

Modifiquemos el ejemplo para usar los métodos `play()`, `pause()` y la propiedad `onfinish`. Aquí está el HTML con botones de reproducción y pausa:

```html
<div class="square" id="square"></div>

<button id="playBtn">Play</button>
<button id="pauseBtn">Pause</button>
```

Aquí está el nuevo CSS:

```css
body {
  background: #f1f1f1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
.square {
  background: #1b1b32;
  width: 10rem;
  aspect-ratio: 1/1;
  margin-bottom: 20px;
}
button {
  margin: 10px;
  padding: 10px 20px;
  font-size: 16px;
}
```

Y aquí está el nuevo JavaScript:

```js
const square = document.querySelector("#square");
const playBtn = document.querySelector("#playBtn");
const pauseBtn = document.querySelector("#pauseBtn");

const animation = square.animate(
  [{ transform: "translateX(0px)" }, { transform: "translateX(200px)" }],
  {
    duration: 5000, // Animation lasts 5 seconds
    // iterations: Infinity, // Loops indefinitely
    direction: "alternate", // Moves back and forth
    easing: "ease-in-out" // Smooth easing function
  }
);

// Set the onfinish property to log a message when the animation ends
animation.onfinish = () => {
  console.log("Animation finished!");
};

// Play the animation when the "Play" button is clicked
playBtn.addEventListener("click", () => {
  animation.play();
  console.log("You start the animation");
});

// Pause the animation when the "Pause" button is clicked
pauseBtn.addEventListener("click", () => {
  animation.pause();
  console.log("You pause the animation");
});
```

El resultado en el navegador mostrará el cuadro azul moviéndose de izquierda a derecha cuando se hace clic en el botón `play`.

WAAPI extiende las capacidades de las animaciones CSS proporcionando un control más dinámico sobre las animaciones directamente dentro de JavaScript.

Con las animaciones CSS, defines animaciones de manera declarativa usando propiedades como `animation-name`, `animation-duration` y `animation-timing-function`. También tienes la oportunidad de hacer lo mismo utilizando el método `animate()` de WAAPI.

La diferencia es que puedes controlar las animaciones que creas con el método `animate()` de manera más directa y dinámica, pero con las animaciones CSS, necesitas hacer mucho más definiendo estilos personalizados y activándolos dentro de tu archivo JavaScript.

La animación CSS es ideal para animaciones simples y declarativas que se ejecutan automáticamente. Estas incluyen efectos al pasar el ratón, transiciones o animaciones que no necesitan mucha interacción una vez activadas. Si tu animación necesita responder a interacciones del usuario como clics, y desplazamientos, o deseas que el usuario pueda pausar, invertir o cambiar la velocidad dinámicamente, WAAPI es la mejor opción. 

Puedes considerar combinar tanto WAAPI como animaciones CSS cuando desees la simplicidad de CSS para la configuración básica, pero necesitas controlar las animaciones durante el tiempo de ejecución.

# --questions--

## --text--

¿Cuál es el método principal en la API de Animaciones Web (WAAPI) para crear animaciones?

## --answers--

`setInterval()`

### --feedback--

Piensa en el método que te permite definir fotogramas clave y opciones como duración.

---

`setTimeout()`

### --feedback--

Piensa en el método que te permite definir fotogramas clave y opciones como duración.

---

`animate()`

---

`requestAnimationFrame()`

### --feedback--

Think about the method that allows you to define keyframes and options like duration.

## --video-solution--

3

## --text--
¿Cuál de estos no es un método de instancia del constructor `Animation` en la API de Animaciones Web (WAAPI)?

## --answers--

`play()`

### --feedback--

Piensa en los métodos utilizados para controlar animaciones.

---

`pause()`

### --feedback--

Piensa en los métodos utilizados para controlar animaciones.

---

`reverse()`

### --feedback--

Piensa en los métodos utilizados para controlar animaciones.

---

`stop()`

## --video-solution--

4

## --text--

¿Cuándo se debe usar WAAPI en lugar de animaciones CSS?

## --answers--

Para efectos simples y automáticos al pasar el mouse.

### --feedback--

Piensa en situaciones donde necesitas más control sobre la animación.

---

Cuando necesites que las animaciones respondan a interacciones de usuario como clics, desplazamientos o permitir control dinámico como pausar o invertir.

---

Cuando solo necesites transiciones sin interacción.

### --feedback--

Think about situations where you need more control over the animation.

---

Para animaciones que no requieren mucha interacción después de ser desencadenadas.

### --feedback--

Piensa en situaciones donde necesitas más control sobre la animación.

## --video-solution--

2
