---
id: 683ec8e8a2389f713380fca8
title: 有哪些常見的技術可以用來迴圈遍歷字典？
challengeType: 19
dashedName: what-are-some-common-techniques-to-loop-over-a-dictionary
---

# --description--

如果你需要存取並處理字典的鍵值對組，你可以對字典進行迴圈。這對於更新它們的值或對它們套用某些邏輯非常有幫助。

讓我們來看看你可以使用的一些技術。

假設我們有一個 `products` 字典，將每個產品與其價格關聯起來：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}
```

如果我們想為所有產品提供 20% 折扣，我們可以對所有鍵值配對進行迴圈並修改價格。

`.values()`、`.keys()` 和 `.items()` 方法是這些技術的關鍵。我們在之前的課程中簡要涵蓋過它們。

它們傳回包含字典的值、鍵和鍵值配對的檢視物件。你可以在 `for` 迴圈中使用這些檢視物件來迭代元素。

例如，你可以這樣迭代字典的所有值。

你寫下 `for`、迴圈變數（此例中為 `price`）、`products.values()` 以取得 `products` 字典的所有值、冒號，然後是迴圈主體，在那裡你可以對這些值套用任何邏輯。在此例中，我們正在列印它們。

迴圈變數將在每次迭代中取得其中一個值：

```python
for price in products.values():
    print(price)
```

以下是輸出結果。如你所見，每個值都依序列印到主控台：

```md
990
600
250
70
```

這對於 `.keys()` 來說也是完全相同的，如果你需要迭代字典的鍵。你只需要迭代 `products.keys()` 或直接迭代 `products`，並為迴圈變數指定一個描述性的名稱：

```python
for product in products.keys():
    print(product)

# Or

for product in products:
    print(product)
```

這是輸出。每個鍵會依序列印到主控台：

```md
Laptop
Smartphone
Tablet
Headphones
```

如果你需要同時迭代鍵及其對應的值，這對於鍵值配對的操作也是完全相同的。你只需要迭代 `products.items()`：

```python
for product in products.items():
    print(product)
```

這是輸出。現在你會得到帶有鍵及其對應值的個別元組：

```md
('Laptop', 990)
('Smartphone', 600)
('Tablet', 250)
('Headphones', 70)
```

如果你想將鍵和值儲存在不同的迴圈變數中，你只需要定義它們並用逗號分隔。然後，你可以在迴圈主體中使用它們。

在這裡，我們正在定義一個 `product` 迴圈變數和一個 `price` 迴圈變數。每個變數都會保存其對應的值。重要的是要按順序定義它們－先定義鍵，然後定義值：

```python
for product, price in products.items():
    print(product, price)
```

這是輸出。我們將它們並排列印，但你可以在你的程式碼中根據需要使用這些值。

```md
Laptop 990
Smartphone 600
Tablet 250
Headphones 70
```

既然你對此有更多了解，我們可以回到最初的範例。如果我們想提供 20％ 折扣，我們會將每個價格乘以 `0.8`，並將其重新指定為該產品鍵的值。

如果你想使用整數，我們也可以將結果向下取整：

```python
products = {
    'Laptop': 990,
    'Smartphone': 600,
    'Tablet': 250,
    'Headphones': 70,
}

for product, price in products.items():
    products[product] = round(price * 0.8)

print(products)
```

然後，如果我們列印該字典，我們會得到這些帶有折扣價格的鍵值配對。

```python
{
    'Laptop': 792, 
    'Smartphone': 480, 
    'Tablet': 200, 
    'Headphones': 56
}
```

最後，如果你需要在迭代鍵值配對的同時追蹤計數器，你可以呼叫 `enumerate()` 函式。這個計數器本質上充當該元素在迴圈中的「索引」或「計數」。

該函式傳回一個 `enumerate` 物件，會為每個鍵值對組指定一個整數，類似計數器。你可以從任何數字開始計數，但預設會從 0 開始。

這裡，我們正在遍歷 `products` 字典的鍵：

```python
for product in enumerate(products):
    print(product)
```

但是 `enumerate()` 函式（程式）也會為每個鍵指定一個整數，因此我們會得到包含整數和鍵的元組。

這是輸出結果：

```md
(0, 'Laptop')
(1, 'Smartphone')
(2, 'Tablet')
(3, 'Headphones')
```

如果你需要，你可以將這些值指定給不同的迴圈變數。這裡，我們有兩個迴圈變數（`index` 和 `product`）。當你使用 `enumerate()` 時，這是你常見且會使用的方式：

```python
for index, product in enumerate(products):
    print(index, product)
```

如果你需要迭代這些值，你可以將 `products` 替換為 `products.values()`：

```python
for price in enumerate(products.values()):
    print(price)
```

輸出將在每個元組中包含索引和價格：

```md
(0, 990)
(1, 600)
(2, 250)
(3, 70)
```

你也可以將它們指定給不同的迴圈變數：

```python
for index, price in enumerate(products.values()):
    print(index, price)
```

這將是輸出。你可以根據需要在你的程式碼中使用它們：

```md
0 990
1 600
2 250
3 70
```

而且使用 `products.items()`，你可以取得整個鍵值配對，除了「索引」或「計數器」之外：

```python
for index, product in enumerate(products.items()):
    print(index, product)
```

在此範例中，我們取得索引，接著取得包含對應鍵值配對中鍵與值的元組：

```md
0 ('Laptop', 990)
1 ('Smartphone', 600)
2 ('Tablet', 250)
3 ('Headphones', 70)
```

要自訂計數的初始值，你可以傳遞第二個引數給 `enumerate()`。例如，這裡我們從 1 開始計數：

```python
for index, product in enumerate(products.items(), 1):
    print(index, product)
```

你可以在輸出中看到此變更。現在第一個整數是 1，而不是 0：

```md
1 ('Laptop', 990)
2 ('Smartphone', 600)
3 ('Tablet', 250)
4 ('Headphones', 70)
```

這適用於我們目前看到的任何變體。你只需要將初始數字作為第二個引數傳入。

有許多技術可以用來迴圈遍歷字典。這些是一些常見的方法，你需要為你的專案選擇最適合的一種。

# --questions--

## --text--

哪一個字典方法，在迴圈中使用時，允許你存取字典中儲存的鍵值對組？

## --answers--

`.keys()`

### --feedback--

思考哪個方法會傳回包含鍵及其對應值的序列。

---

`.items()`

---

`.values()`

### --feedback--

思考哪個方法會傳回包含鍵及其對應值的序列。

---

`enumerate()`

### --feedback--

思考哪個方法會傳回包含鍵及其對應值的序列。

## --video-solution--

2

## --text--

當使用 `enumerate()` 函式搭配 `dictionary.items()` 時，第一個迴圈變數表述什麼？

## --answers--

字典的鍵

### --feedback--

思考 `enumerate()` 在每次迭代時為可迭代物件添加了什麼。 

---

字典的值。

### --feedback--

思考 `enumerate()` 在每次迭代時為可迭代物件添加了什麼。 

---

鍵值配對的索引或計數。

---

鍵值配對作為一個元組。

### --feedback--

思考 `enumerate()` 在每次迭代時為可迭代物件添加了什麼。 

## --video-solution--

3

## --text--

如果你需要迭代字典並且只存取鍵，你會使用哪種方法？

## --answers--

`.keys()`

---

`.values()`

### --feedback--

思考哪個方法能讓你存取字典的鍵。

---

`enumerate()`

### --feedback--

思考哪個方法能讓你存取字典的鍵。

---

`.items()`

### --feedback--

思考哪個方法能讓你存取字典的鍵。

## --video-solution--

1

