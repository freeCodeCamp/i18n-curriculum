---
id: 6733ffacd0ad1e49ec2af051
title: 你如何使用 Cookies 來儲存通常由 HTTP 標頭控制的任意資料？
challengeType: 19
dashedName: how-can-you-use-cookies-to-store-arbitrary-data-normally-controlled-by-http-headers
---

# --description--

如你在先前課程中所學，cookies 是網站可以儲存在使用者裝置上的簡單資料。

不過，你其實可以在 cookie 中儲存更複雜的資料結構。一個常見的方法是使用 JSON 來儲存物件或陣列。以下是一個範例：

```js
const userData = {
  name: "John Doe",
  age: 30,
  role: "admin"
};

document.cookie = "userInfo=" + JSON.stringify(userData) + "; path=/";
```

在這個範例中，我們正在建立一個包含使用者資料的物件，將它轉換成 JSON 字串，然後將其儲存在 cookie 中。當我們想要取得這些資料時，可以使用 `JSON.parse()` 將 JSON 字串解析成物件。

現在，你可能會想知道我們主題中「HTTP headers」的部分。通常，cookies 是由伺端使用 HTTP headers 設定的。

例如，伺服端可能會傳送像這樣的標頭：

```http
Set-Cookie: username=John Doe; expires=Thu, 31 Dec 2024 6:00:00 IST; path=/
```

此標頭告訴瀏覽器設定 cookie。 

我們也可以使用 JavaScript 在瀏覽器中直接設定 cookies。這對於儲存不需要立即傳送到伺服器的資料非常有用。

請注意，cookies 的大小限制約為 4KB，並且在其中儲存過多資料可能會使你的網頁應用程式變慢。

將大量資料儲存在 cookies 中會增加網路流量，因為 cookies 會隨每個 HTTP 請求一起傳送。

# --questions--

## --text--

設定 cookie 時，`expires` 參數的目的為何？

## --answers--

它指定哪些頁面可以存取該 cookie。

### --feedback--

想想在經過一定時間後，`cookie` 會發生什麼事。

---

它設定 cookie 的最大大小。

### --feedback--

想想在經過一定時間後，`cookie` 會發生什麼事。

---

它告訴瀏覽器何時刪除 cookie。

---

它會加密 cookie 資料。

### --feedback--

想想在經過一定時間後，`cookie` 會發生什麼事。

## --video-solution--

3

## --text--

你如何將像物件這樣的複雜資料結構儲存在 cookie 中？

## --answers--

物件可以直接儲存在 cookies 中。

### --feedback--

考慮可能用來將物件表述為字串的格式。

---

透過將物件轉換為 JSON 字串。

---

透過為每個物件屬性使用多個 cookie。

### --feedback--

考慮可能用來將物件表述為字串的格式。

---

複雜的資料結構無法儲存在 cookies 中。

### --feedback--

考慮可能用來將物件表述為字串的格式。

## --video-solution--

2

## --text--

將大量資料儲存在 cookies 中可能的缺點是什麼？

## --answers--

它可能會減慢你的網頁應用程式。

---

Cookies 有無限的儲存容量。

### --feedback--

想想當每個 HTTP 請求都帶有 cookie 時會發生什麼。

---

它使網站更安全。

### --feedback--

想想當每個 HTTP 請求都帶有 cookie 時會發生什麼。

---

它提升伺服端效率。

### --feedback--

想想當每個 HTTP 請求都帶有 cookie 時會發生什麼。

## --video-solution--

1
