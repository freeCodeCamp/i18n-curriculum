---
id: 688290c998562972e953d34d
title: 你如何为你的仓库创建一个新建分支？
challengeType: 19
dashedName: how-do-you-create-a-new-branch-for-your-repository
---

# --description--

你之前已经学会了如何提交更改并将其推送到你的远程仓库，但所有这些都是在你的默认 `main` 分支上完成的。对于较小的项目，这种方式可以，但当你为其他开源项目贡献代码，或者当你的项目增长时，分支是必不可少的。

例如，如果你分叉一个仓库并对你的分叉的 `main` 分支进行提交，你最终可能会在你的分叉中产生原始仓库未接受的更改。这会使得用被接受的分叉更改更新你的分支变得非常困难。或者，当你在自己的项目中工作时，如果不使用分支，在不同任务之间切换会变得更加困难。相反，你必须手动跟踪哪些更改与哪个特色或修复相关。

但是分支到底是什么？把你的 `main` 分支看作一条高速公路，每个提交都是进入高速公路的汽车。你可能决定想去看看某些东西，比如创建一个新特色，所以你需要暂时离开高速公路去看看。

分支本质上是你主历史的一个偏离，你可以在其中自由地尝试针对新建特色或错误修复的更改。如果你对更改满意，可以通过将分支合并到 `main` 来回到主干。如果你对更改不满意，可以删除分支并切换回 `main`，而不接受这些更改。

在创建新分支之前，你可以使用 `git branch` 命令查看你的分支。输出可能如下所示：

```sh
* main
```

现在我们只有一个分支，即我们的默认 `main` 分支。星号（`*`）表示这是你当前“检出”的分支。你稍后会了解更多。

你可以使用 `git branch` 命令创建一个新建分支，并通过参数指定新建分支的名称：

```sh
git branch feature
```

这会创建一个名为 `feature` 的新建分支。让我们再次使用 `git branch` 查看我们的分支：

```sh
  feature
* main
```

我们现在可以看到我们的新建分支，但我们仍然在 `main` 分支上。我们需要通过“查看”切换到我们的新建分支。当你查看一个新建分支时，你是在告诉 Git 装载那些文件在那个时间点的准确状态。

让我们用以下命令查看我们的新建分支：

```sh
git checkout feature
```

或者

```sh
git switch feature
```

然后再次运行 `git branch` 查看：

```sh
* feature
  main
```

注意星号现在已移动到你当前“checked out”的分支。
 
通常当你创建一个新建分支时，你会想立即查看它。你可以用一个命令来创建并切换到分支，而不是先创建分支然后用两个命令查看它：

```sh
git checkout -b feature
```

或者

```sh
git switch -c feature
```

现在我们已经创建并切换到了一个新建分支。这个分支是 `main` 分支的克隆，它包含了你创建分支时 `main` 分支的所有相同代码。现在，我们可以为这个分支添加任何代码，而不会影响 `main` 分支。我们本质上是从主干道上分出来创建一个特色。如果你查看你的 `git status`，你会看到类似这样的内容：

```sh
On branch feature
nothing to commit, working tree clean
```

通过运行此命令创建一个新的 `feature.md` 文件：

```sh
echo "This is our new feature" > feature.md
```

现在状态将如下所示：

```sh
On branch feature
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	feature.md

nothing added to commit but untracked files present (use "git add" to track)
```

接下来，是时候提交你的新建特色。首先，将文件添加到暂存区：

```sh
git add feature.md
```

然后，提交更改：

```sh
git commit -m "my new feature"
```

最后，将你的 `feature` 分支推送到你的仓库：

```sh
git push -u origin feature
```

`-u` 标记将你的局部的 `feature` 分支连接到远程分支，因此以后推送只需使用 `git push`。

接下来，我们将学习如何为我们的新建特色创建一个 pull 请求！

# --questions--

## --text--

在 Git 中创建一个新建分支允许你做什么？

## --answers--

永久删除 `main` 分支。

### --feedback--

你不想删除你的 `main` 分支。

---

在不影响 `main` 分支的情况下进行更改。

---

直接与 GitHub 用户共享你的代码。

### --feedback--

共享代码涉及推送分支并可能创建拉取请求。

---

更改你局部的机器上的 Git 版本。

### --feedback--

分支不会更改 Git 软件版本。

## --video-solution--

2

## --text--

`git branch` 输出中分支名称旁边的 `*` 符号表示什么？

## --answers--

该分支即将被删除。

### --feedback--

星号表示该分支已被 `checked out`。

---

该分支是仓库中最早的一个。

### --feedback--

星号表示该分支已被 `checked out`。

---

该分支正在被推送到 GitHub。

### --feedback--

星号表示该分支已被 `checked out`。

---

该分支当前已被 `checked out`。

## --video-solution--

4

## --text--

以下 `Command` 会执行什么操作？

```sh
git push -u origin feature
```

## --answers--

从远程仓库删除 `feature` 分支。

### --feedback--

此命令不会删除任何内容。

---

将 `feature` 分支推送并设置为跟踪远程分支。

---

将特色分支合并到 `main`。

### --feedback--

合并是一个单独的操作，不包含在此 `Command` 中。

---

将所有分支推送到远程仓库。

### --feedback--

此命令仅推送一个特定的 `branch`。

## --video-solution--

2
