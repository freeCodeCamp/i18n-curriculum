---
id: 695b93cb572125a6fb19f39c
title: 如何安装和移除依赖？
challengeType: 19
dashedName: how-can-you-install-and-remove-dependencies
---

# --description--

在之前的课程中，你学习了依赖项是什么以及如何为你的项目选择合适的依赖项。

在本课中，你将学习如何使用 npm 安装和移除依赖。

要安装依赖，请使用如下的 `npm install` 命令：

```bash
npm install dependencyName
```

你也可以像这样将 `install` 缩写为 `i`：

```bash
npm i dependencyName
```

安装包后，npm 会在你的 `package.json` 文件中添加一个新的 `dependencies` 部分（如果尚未存在），并列出你安装的包。例如，安装 `chalk` 包时的示例如下：

```json
{
  "name": "install-uninstall-deps",
  "version": "1.0.0",
  "description": "a simple demo on how to install and uninstall dependencies",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["npm", "deps"],
  "author": "Kolade Chris",
  "license": "ISC",
  "dependencies": {
    "chalk": "^5.6.2"
  }
}
```

当你安装一个依赖时，会在你的项目根文件夹中出现两个新建项：

* `node_modules/`：一个包含你安装的包的实际代码的文件夹。
    
* `package-lock.json`：一个文件，用于保存关于这些包的确切版本的详细信息，包括它们自己的依赖项。（你将在后面的课程中详细了解此文件。）
    

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/how-can-you-install-and-remove-dependencies-1.png" alt="">

大多数项目需要多个依赖。npm 允许你通过输入以空格分隔的包名称列表，一次性安装多个包，而不是一个一个地安装。

```bash
npm install express lodash bcrypt
```

就像之前一样，当你一次安装多个依赖时，npm 会更新你的 `package.json` 和 `package-lock.json` 文件以及你的 `node_modules` 以包含它们。以下是 `package.json` 的示例：

```json
{
  "name": "install-uninstall-deps",
  "version": "1.0.0",
  "description": "a simple demo on how to install and uninstall dependencies",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["npm", "deps"],
  "author": "Kolade Chris",
  "license": "ISC",
  "dependencies": {
    "bcrypt": "^6.0.0",
    "chalk": "^5.6.2",
    "express": "^5.1.0",
    "lodash": "^4.17.21"
  }
}
```

要安装 `devDependency`，为 `install` 命令添加 `--save-dev` 标记。你也可以使用更短的 `-D` 版本：

```bash
npm i nodemon -D
```

运行此命令后，npm 会更新你的 `package.json` 文件，并将该包添加到 `devDependencies` 部分。以下是示例：

```json
{
  "name": "install-uninstall-deps",
  "version": "1.0.0",
  "description": "a simple demo on how to install and uninstall dependencies",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["npm", "deps"],
  "author": "Kolade Chris",
  "license": "ISC",
  "dependencies": {
    "bcrypt": "^6.0.0",
    "chalk": "^5.6.2",
    "express": "^5.1.0",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "nodemon": "^3.1.10"
  }
}
```

每当你运行 `npm install` 命令时，npm 会显示一条消息，告诉你安装是否成功。成功消息通常看起来像这样：

```bash
user@Kolade ~/Desktop/fCC/script-code/node/npm/install-uninstall-deps  % npm install express lodash bcrypt

added 72 packages, and audited 74 in 8s

17 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

user@Kolade ~/Desktop/fCC/script-code/node/npm/install-uninstall-deps  % npm install nodemon -D

added 27 packages, and audited 101 in 16s

21 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```

要卸载或移除一个包，请使用 `npm uninstall` 命令：

```bash
npm uninstall dependencyName
```

例如，要从你的项目中移除 `chalk`，你需要运行此命令：

```bash
npm uninstall chalk
```

你也可以通过用空格分隔每个包名来一次卸载多个包：

```bash
npm uninstall express lodash bcrypt
```

你还会收到一条消息，显示卸载命令是成功还是失败：

```bash
user@Kolade ~/Desktop/fCC/script-code/node/npm/install-uninstall-deps  % npm uninstall chalk

added 1 package, removed 1 package, and audited 101 packages in 1s

20 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

user@Kolade ~/Desktop/fCC/script-code/node/npm/install-uninstall-deps  % npm uninstall express lodash bcrypt

removed 70 packages, and audited 31 in 1s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```

你的 `package.json` 文件将自动更新：

```json
{
  "name": "install-uninstall-deps",
  "version": "1.0.0",
  "description": "a simple demo on how to install and uninstall dependencies",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["npm", "deps"],
  "author": "Kolade Chris",
  "license": "ISC",
  "devDependencies": {
    "nodemon": "^3.1.10"
  }
}
```

要卸载 `devDependency`，你只需运行：

```bash
npm uninstall nodemon
```

请注意，卸载时你不需要使用 `-D` 标记。npm 会自动从正确的部分中移除该包，在此情况下为 `devDependencies`。

卸载 `devDependency` 后，你的 `package.json` 将再次更新：

```json
{
  "name": "install-uninstall-deps",
  "version": "1.0.0",
  "description": "a simple demo on how to install and uninstall dependencies",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": ["npm", "deps"],
  "author": "Kolade Chris",
  "license": "ISC"
}
```

# --questions--

## --text--

安装像 `chalk` 这样的新依赖后，你的 `package.json` 文件会发生什么？

## --answers--

该文件会被自动删除并替换。

### --feedback--

考虑 npm 在哪里记录你的项目依赖的包。

---

该包已安装但未在任何地方被记录。

### --feedback--

考虑 npm 在哪里记录你的项目依赖的包。

---

一个新的 dependencies 密钥被添加，包名列在其下。

---

`package.json` 文件变为只读。

### --feedback--

考虑 npm 在哪里记录你的项目依赖的包。

## --video-solution--

3

## --text--

安装依赖后，哪个文件夹和文件会自动添加到你的项目？

## --answers--

`src` 文件夹和 [`readme.md`](http://readme.md) 文件

### --feedback--

考虑 npm 在哪里保存已安装的包并跟踪它们的确切版本。

---

`node_modules` 文件夹和 `package-lock.json` 文件

---

`public` 文件夹和 `index.html` 文件

### --feedback--

考虑 npm 在哪里保存已安装的包并跟踪它们的确切版本。

---

`dist` 文件夹和 `webpack.config.js` 文件

### --feedback--

考虑 npm 在哪里保存已安装的包并跟踪它们的确切版本。

## --video-solution--

2

## --text--

哪个命令能正确安装 `devDependency`？

## --answers--

`npm install nodemon -D`

---

`npm uninstall nodemon`

### --feedback--

考虑用于安装仅限开发的依赖项的标记。

---

`npm save nodemon --dev`

### --feedback--

考虑用于安装仅限开发的依赖项的标记。

---

`npm install nodemon`

### --feedback--

考虑用于安装仅限开发的依赖项的标记。

## --video-solution--

1
