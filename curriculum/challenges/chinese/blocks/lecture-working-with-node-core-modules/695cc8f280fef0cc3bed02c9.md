---
id: 695cc8f280fef0cc3bed02c9
title: 什么是 `os` 模块及其工作原理？
challengeType: 19
dashedName: what-is-the-os-module-and-how-does-it-work
---

# --description--

OS 模块是另一个内置于 Node.js 的标准模块。

它让你与 Node 正在运行的当前操作系统进行交互，从而可以访问诸如操作系统类型、CPU 详情、可用内存、总内存、网络接口等重要信息。

要使用 OS 模块，你可以这样导入它：

```js
const os = require("os");
```

OS 模块提供了几个方法，你可以使用它们使你的应用更加系统感知。让我们来看一些常用的方法。

`platform()` 方法检索 Node 当前运行的操作系统：

```js
const os = require("os");
console.log(os.platform()); // darwin
```

它对于实现跨平台脚本非常有用：

```js
if (os.platform() === 'win32') {
 // Windows specific code
} else {
 // Non-Windows specific code
}
```

`arch()` 方法显示一个表现 Node.js 编译所用 CPU 架构的字串：

```js
const os = require("os");
console.log(os.arch()); // arm64
```

如果你想让用户下载适用于特定架构的正确二进制文件和依赖项，这会很有用。

其他可能的值是 `'x64'`、`'arm'`、`'arm64'`、`'ia32'`、`'mips'`、`'ppc'` 和其他。

`type()` 获取官方操作系统名称，因此你可以通过编程方式识别操作系统：

```js
const os = require("os");
console.log(os.type()); // Darwin (the core OS for macOS, iOS, and other Apple products)
```

`release()` 显示系统的操作系统核心版本，操作系统管理系统资源以及硬件和软件组件之间通信的核心部分。此方法对于跟踪操作系统核心版本与服务器需求之间的兼容性非常有用。

它以字串形式返回此值，如 `'20.6.0'`：

```js
const os = require("os");
console.log(os.release()); // 25.0.0
```

`version()` 返回比 `release()` 方法更详细的特定操作系统版本信息：

```js
const os = require("os");
console.log(os.version());
// Darwin Kernel Version 25.0.0: Wed Sep 17 21:41:39 PDT 2025;
// root:xnu-12377.1.9~141/RELEASE_ARM64_T8103
```

`cpus()` 返回一个包含每个逻辑 CPU 核心详细信息的对象数组。这可以帮助监控 CPU 装载：

```js
const os = require("os");
console.log(os.cpus());

/*
[
 {
   model: 'Apple M1',
   speed: 2400,
   times: { user: 2184260, nice: 0, sys: 1767340, idle: 8344200, irq: 0 }
 },
 {
   model: 'Apple M1',
   speed: 2400,
   times: { user: 2049430, nice: 0, sys: 1641050, idle: 8612980, irq: 0 }
 },
 {
   model: 'Apple M1',
   speed: 2400,
   times: { user: 1162300, nice: 0, sys: 1193390, idle: 9986140, irq: 0 }
 },
 ...
]
*/
```

`uptime()` 显示系统启动以来的时间。它可以帮助确定服务器运行了多长时间：

```js
const os = require("os");
console.log(os.uptime()); // 23047
```

`totalmem()` 和 `freemem()` 分别显示系统内存总量（以字节为单位）和系统空闲内存（以字节为单位）：

```js
const os = require("os");
console.log(os.totalmem()); // 8589934592 (8 GB)
console.log(os.freemem()); // 93585408 (87 MB)
```

`userInfo()` 返回一个包含当前系统用户信息的对象：

```js
const os = require("os");
console.log(os.userInfo());

/*
[Object: null prototype] {
 uid: 502,
 gid: 20,
 username: 'user',
 homedir: '/Users/user',
 shell: '/bin/zsh'
}
*/
```

最后，`networkInterfaces()` 返回一个只包含已被赋值网络地址的网络接口的对象。

```js
console.log(os.networkInterfaces());

/*
{
  lo0: [
    {
      address: '127.0.0.1',
      netmask: '255.0.0.0',
      family: 'IPv4',
      mac: '00:00:00:00:00:00',
      internal: true,
      cidr: '127.0.0.1/8'
    },
    {
      address: '::1',
      netmask: 'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff',
      family: 'IPv6',
      mac: '00:00:00:00:00:00',
      internal: true,
      cidr: '::1/128',
      scopeid: 0
    }
  ],
  en0: [
    {
      address: '192.168.1.10',
      netmask: '255.255.255.0',
      family: 'IPv4',
      mac: 'aa:bb:cc:dd:ee:ff',
      internal: false,
      cidr: '192.168.1.10/24'
    },
    {
      address: 'fe80::abcd:1234:5678:9abc',
      netmask: 'ffff:ffff:ffff:ffff::',
      family: 'IPv6',
      mac: 'aa:bb:cc:dd:ee:ff',
      internal: false,
      cidr: 'fe80::abcd:1234:5678:9abc/64',
      scopeid: 2
    }
  ],
  // ...more network interfaces
};
*/
```

# --questions--

## --text--

Node.js 中的 `os.totalmem()` 和 `os.freemem()` 方法显示什么？

## --answers--

Node.js 使用的总内存和空闲内存。

### --feedback--

这些方法测量的是系统级内存，而不是应用级内存。

---

特定进程的总内存和空闲内存。

### --feedback--

这些方法测量的是系统级内存，而不是应用级内存。

---

总计和空闲盘存储空间。

### --feedback--

这些方法测量的是系统级内存，而不是应用级内存。

---

系统总内存和空闲内存的字节数。

## --video-solution--

4

## --text--

以下哪项是 Node.js 中 `os.arch()` 方法可能返回的值？

## --answers--

`'Windows'`

### --feedback--

注意 `Node.js` 编译所针对的 CPU 架构的表现形式。

---

`'x64'`

---

`'intel'`

### --feedback--

注意 `Node.js` 编译所针对的 CPU 架构的表现形式。

---

`'CPU1'`

### --feedback--

注意 `Node.js` 编译所针对的 CPU 架构的表现形式。

## --video-solution--

2

## --text--

Node.js 的 OS 模块允许你做什么？

## --answers--

与当前操作系统交互以访问诸如 CPU、内存 和 网络 简介 等详细信息。

---

与数据库交互并执行 SQL 查询。

### --feedback--

重点关注赋予 Node 访问系统级简介的内容，例如操作系统类型和内存详情。

---

处理客户和服务器之间的超文本传输协议 `request` 和 `Response`。

### --feedback--

重点关注赋予 Node 访问系统级简介的内容，例如操作系统类型和内存详情。

---

管理文件上传并从流中读取数据。

### --feedback--

重点关注赋予 Node 访问系统级简介的内容，例如操作系统类型和内存详情。

## --video-solution--

1


