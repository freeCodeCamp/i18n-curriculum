---
id: 6733d3a33abdd27cd562bdf2
title: preventDefault() 方法的目的為何？
challengeType: 19
dashedName: what-is-the-purpose-of-e-preventdefault
---

# --interactive--

讓我們來了解 `preventDefault()` 方法在事件上的用途。

每個在 DOM 中觸發的事件都有某種預設行為。`click` 事件在核取方塊上預設會切換該核取方塊的狀態。按下空白鍵在聚焦的按鈕上會作用該按鈕。這些事件物件上的 `preventDefault()` 方法會阻止該行為發生。

讓我們來看一個範例。讓我們定義一個讓使用者輸入的 `input` 元素：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
```

```css
label {
  display: flex;
  flex-direction: column;
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #333;
  margin-bottom: 12px;
}

input[type="text"] {
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 14px;
  margin-top: 4px;
  width: 100%;
  box-sizing: border-box;
  transition: border-color 0.2s, box-shadow 0.2s;
}

input[type="text"]:focus {
  border-color: #0078d4;
  box-shadow: 0 0 3px rgba(0, 120, 212, 0.5);
  outline: none;
}

```

:::

如果我們查看結果，就可以如預期在輸入欄位中輸入。但也許我們不想這樣。也許，我們想要在另一個元素中顯示使用者輸入的字元。首先，讓我們定義那個元素：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

:::

接著，我們需要掛鉤到 `keydown` 事件，以監聽鍵盤上字元的輸入。請注意，我們這裡不需要 `change` 或 `input` 事件，因為我們需要鍵盤的資訊。

```js
const input = document.querySelector("input");

input.addEventListener("keydown", (e) => {
    
})
```

當你按下鍵盤鍵時，會觸發 `keydown` 事件。當這種情況發生時，讓我們在 `p` 元素中顯示該字元。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
<script src="index.js"></script>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

```js
const input = document.querySelector("input");
const output = document.getElementById("output");

input.addEventListener("keydown", (e) => {
  output.innerText = `You pressed the ${e.key} key`;
});
```

:::

`e.key` 給你按下鍵的值，例如 `a` 表示 `a` 鍵，或 `Enter` 表示 `Enter` 鍵。

使用上述程式碼時，當你在 `input` 中輸入時，你輸入的字元將會顯示在 `p` 元素中。 

這很好，但我們不想在 `input` 中顯示字元。這時候就會用到我們的 `preventDefault()` 方法。`keydown` 的預設行為是將字元呈現在輸入框中。讓我們透過呼叫 `e.preventDefault()` 來避免這種情況：

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<label>Enter some characters:
  <input type="text">
</label>
<p id="output"></p>
<script src="index.js"></script>
```

```css
body {
  font-family: Arial, sans-serif;
  background-color: #f0f0f0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
}

label {
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
}

input[type="text"] {
  padding: 0.5rem;
  font-size: 1rem;
  border: 2px solid #ccc;
  border-radius: 5px;
  margin-top: 0.5rem;
  outline: none;
}

input[type="text"]:focus {
  border-color: #007BFF;
}

#output {
  margin-top: 1rem;
  font-size: 1.1rem;
  color: #555;
}

```

```js
const input = document.querySelector("input");
const output = document.getElementById("output");

input.addEventListener("keydown", (e) => {
  e.preventDefault();
  output.innerText = `You pressed the ${e.key} key`;
});
```

:::

就這樣，你已經阻止了預設行為，讓你能實作自己的訂製事件處理。

另一個常見使用 `e.preventDefault` 行為的例子與表單提交有關。預設情況下，提交表單會將資料傳送到伺服端並重新載入頁面。使用 `e.preventDefault()` 可以防止這種情況發生。

```js
const form = document.querySelector("form");

form.addEventListener("submit", (e) => {
  e.preventDefault();
  // rest of code goes here
});
```

當你需要更多控制元件來管理使用者如何與頁面交談時，防止預設行為是很好的，但重要的是要考慮像是無障礙性這類的因素－你的訂製行為應該提供與預設相同的功能。

# --questions--

## --text--

`preventDefault()` 方法在事件處理中的主要目的是什麼？

## --answers--

停止事件傳播。

### --feedback--

本課程說明此方法對事件預設行為的影響。

---

移除事件監聽器。

### --feedback--

本課程說明此方法對事件預設行為的影響。

---

停止 `event` 的預設行為。

---

觸發訂製事件。

### --feedback--

本課程說明此方法對事件預設行為的影響。

## --video-solution--

3

## --text--

在範例中，當在 `input` 元素的 `keydown` 事件上呼叫 `preventDefault()` 時，正在防止什麼預設行為？

## --answers--

輸入失去焦點。

### --feedback--

想想當你在輸入欄中輸入時通常會發生什麼情況。

---

在輸入欄位中顯示的鍵。

---

正在提交的表單。

### --feedback--

想想當你在輸入欄中輸入時通常會發生什麼情況。

---

頁面捲動。

### --feedback--

想想當你在輸入欄中輸入時通常會發生什麼情況。

## --video-solution--

2

## --text--

當使用 `preventDefault()` 時，開發者應該注意哪些重要事項？

## --answers--

它應該只用於表單提交。

### --feedback--

課程提到在使用訂製行為時，與使用者互動相關的特定問題。

---

它會自動提升效率。

### --feedback--

課程提到在使用訂製行為時，與使用者互動相關的特定問題。

---

它應該維護與預設行為相同的存取特性。

---

它將阻止該元素上的所有未來事件。

### --feedback--

課程提到在使用訂製行為時，與使用者互動相關的特定問題。

## --video-solution--

3
