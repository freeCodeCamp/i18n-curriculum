---
id: 6733696567d2273540aa6033
title: O que é a Web Animations API e como ela se relaciona com as propriedades de animação CSS?
challengeType: 19
dashedName: what-is-the-web-animations-api-and-how-does-it-relate-to-css-animation-properties
---

# --interactive--

A API `Web Animations` (WAAPI) permite que você crie e controle animações diretamente dentro do JavaScript. Com WAAPI, você pode trabalhar com animações de forma mais dinâmica, facilitando a manipulação delas.

Vamos dar uma olhada no WAAPI com mais detalhes, para que você possa começar a trabalhar com animações diretamente dentro do seu código JavaScript. No núcleo do WAAPI está o construtor `Animation`, que fornece vários métodos e propriedades de instância que permitem animar elementos dinamicamente.

Um método significativo no construtor `Animation` é `animate()`. Ele permite que você crie uma animação especificando keyframes e opções como duração, direção, easing e iterações.

Aqui está a sintaxe básica do método `animate()`:

```js
element.animate(keyframes, options);
```

Dê uma olhada no exemplo. 

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css" />
<div class="square" id="square"></div>
<script src="index.js"></script>
```

```css
body {
  background: #f1f1f1;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.square {
  background: #1b1b32;
  width: 10rem;
  aspect-ratio: 1/1;
}
```

```js
const square = document.querySelector("#square");

const animation = square.animate(
  [{ transform: "translateX(0px)" }, { transform: "translateX(100px)" }],
  {
    duration: 2000, // makes animation lasts 2 seconds
    iterations: Infinity, // loops indefinitely
    direction: "alternate", // moves back and forth
    easing: "ease-in-out" // smooth easing
  }
);
```

:::

O resultado no navegador será um quadrado azul se movendo para frente e para trás horizontalmente.

Os métodos de instância do construtor `Animation` incluem:

```js
play()
pause()
reverse()
finish()
cancel()
```

E as propriedades da instância incluem:

```md
playbackRate
currentTime
startTime
effect
timeline
playState
finished
onfinish
oncancel
```

Vamos modificar o exemplo para usar os métodos `play()`, `pause()` e a propriedade `onfinish`. Aqui está a nova versão:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css" />
<div class="square" id="square"></div>

<button id="playBtn">Play</button>
<button id="pauseBtn">Pause</button>
<script src="index.js"></script>
```

```css
body {
  background: #f1f1f1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
.square {
  background: #1b1b32;
  width: 10rem;
  aspect-ratio: 1/1;
  margin-bottom: 20px;
}
button {
  margin: 10px;
  padding: 10px 20px;
  font-size: 16px;
}
```

```js
const square = document.querySelector("#square");
const playBtn = document.querySelector("#playBtn");
const pauseBtn = document.querySelector("#pauseBtn");

const animation = square.animate(
  [{ transform: "translateX(0px)" }, { transform: "translateX(200px)" }],
  {
    duration: 5000, // Animation lasts 5 seconds
    // iterations: Infinity, // Loops indefinitely
    direction: "alternate", // Moves back and forth
    easing: "ease-in-out" // Smooth easing function
  }
);

// Set the onfinish property to log a message when the animation ends
animation.onfinish = () => {
  console.log("Animation finished!");
};

// Play the animation when the "Play" button is clicked
playBtn.addEventListener("click", () => {
  animation.play();
  console.log("You start the animation");
});

// Pause the animation when the "Pause" button is clicked
pauseBtn.addEventListener("click", () => {
  animation.pause();
  console.log("You pause the animation");
});
```

:::

O resultado no navegador mostrará a caixa azul se movendo da esquerda para a direita quando o botão `play` for clicado.

WAAPI amplia as capacidades das animações CSS ao fornecer um controle mais dinâmico sobre as animações diretamente dentro do JavaScript.

Com animações CSS, você define animações de forma declarativa usando propriedades como `animation-name`, `animation-duration` e `animation-timing-function`. Você também tem a oportunidade de fazer a mesma coisa usando o método `animate()` do WAAPI.

A diferença é que você pode controlar as animações que cria com o método `animate()` de forma mais direta e dinâmica, mas com animações CSS, você precisa fazer muito mais definindo estilos personalizados e acionando-os dentro do seu arquivo JavaScript.

Animação CSS é ideal para animações simples e declarativas que são executadas automaticamente. Isso inclui efeitos de hover, transições ou animações que não precisam de muita interação depois de acionadas. Se a sua animação precisa responder a interações do usuário como cliques e rolagens ou você quer que o usuário possa pausar, reverter ou alterar a velocidade dinamicamente, WAAPI é a melhor escolha. 

Você pode considerar combinar as animações WAAPI e CSS quando quiser a simplicidade do CSS para uma configuração básica mas precisar controlar as animações em tempo de execução.

# --questions--

## --text--

Qual é o método principal na Web Animations API (WAAPI) para criar animações?

## --answers--

`setInterval()`

### --feedback--

Pense no método que permite definir keyframes e opções como duration.

---

`setTimeout()`

### --feedback--

Pense no método que permite definir keyframes e opções como duration.

---

`animate()`

---

`requestAnimationFrame()`

### --feedback--

Pense no método que permite definir keyframes e opções como duration.

## --video-solution--

3

## --text--
Qual destes não é um método de instância do construtor `Animation` na Web Animations API (WAAPI)?

## --answers--

`play()`

### --feedback--

Pense nos métodos usados para controlar animações.

---

`pause()`

### --feedback--

Pense nos métodos usados para controlar animações.

---

`reverse()`

### --feedback--

Pense nos métodos usados para controlar animações.

---

`stop()`

## --video-solution--

4

## --text--

Quando você deve usar WAAPI em vez de animações CSS?

## --answers--

Para efeitos de hover simples e automáticos.

### --feedback--

Pense em situações onde você precisa de mais controle sobre a animação.

---

Quando você precisa que animações respondam a interações do usuário como cliques, rolagens ou permitam controle dinâmico como pausar ou reverter.

---

Quando você precisa apenas de transições sem interação.

### --feedback--

Pense em situações onde você precisa de mais controle sobre a animação.

---

Para animações que não exigem muita interação após serem acionadas.

### --feedback--

Pense em situações onde você precisa de mais controle sobre a animação.

## --video-solution--

2
