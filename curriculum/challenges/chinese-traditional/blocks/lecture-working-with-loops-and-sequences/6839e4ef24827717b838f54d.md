---
id: 6839e4ef24827717b838f54d
title: 什麼是 Lambda 函式（程式）以及它們如何運作？
challengeType: 19
dashedName: what-are-lambda-functions-and-how-do-they-work
---

# --description--

在之前的課程中，你已經習慣使用 `def` 關鍵字來定義函式，如下所示：

```py
def square(num):
    return num ** 2

print(square(4)) # 16
```

但是當涉及使用像 `map()` 和 `filter()` 這類高階函式時，你可以使用匿名行內函式。這就是 lambda 函式的用武之地。

以下是將 `square()` 函式（程式）重構為 lambda 函式（程式）後的樣子：

```py
lambda num: num ** 2
```

如前所述，lambda 函式（程式）是匿名的，因此這個函式（程式）不再有與之相關的名稱 `square`。當你需要在像這樣的高階函式（程式）中使用時，lambda 函式（程式）非常適合：

```py
numbers = [1, 2, 3, 4, 5]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # [2, 4]
```

在這個範例中，我們有一個數字列表，並且想要創建一個新的偶數列表。所以我們將一個 lambda 函式作為引數傳入 `filter()` 函式，以取得一個包含數字 `2` 和 `4` 的新列表。

在使用 lambda 函式（程式）時，了解最佳實務非常重要。例如，將 lambda 函式（程式）指定給變數像這樣並不是一個好的做法：

```py
numbers = [1, 2, 3, 4, 5]

square = lambda x: x ** 2
squared_numbers = list(map(square, numbers))
print(squared_numbers) # [1, 4, 9, 16, 25]
```

這違背了使用匿名函式（程式）的目的。在這種情況下，你應該使用一般函式（程式），像這樣：

```py
numbers = [1, 2, 3, 4, 5]

def square(num):
    return num ** 2

squared_numbers = list(map(square, numbers))
print(squared_numbers) # [1, 4, 9, 16, 25]
```

此外，你應該避免建立難以閱讀或不必要複雜的 lambda 函式（程式），例如這樣：

```py
result = (lambda x: (x**2 + 2*x - 1) if x > 0 else (x**3 - x + 4))(3)
print(result)  # 14
```

雖然這個函式（程式）執行正常並產生正確的結果 `14`，但它不容易閱讀或觀看。在這種情況下，為你的程式碼創建一個帶有 `if/else` 述語的獨立函式（程式），然後呼叫該函式會比較好：

```py
def calculate_expression(x):
    if x > 0:
        return x**2 + 2*x - 1
    else:
        return x**3 - x + 4

print(calculate_expression(3))  # 14
```

在 Python 程式中，常規函式和 lambda 函式都有其使用情境。如果你處理的是單一行內表達式，則你可以考慮使用 lambda 函式。否則，使用常規函式會是較好的選擇。

# --questions--

## --text--

以下哪一項是使用 lambda 函式（程式）的最佳案例？

## --answers--

定義一個包含多行和條件邏輯的函式（程式）。

### --feedback--

思考匿名一行函式（程式）最適合的時機。

---

在多個模組中建立可重複使用的 `function`。

### --feedback--

思考匿名一行函式（程式）最適合的時機。

---

為在 `map()` 或 `filter()` 呼叫中使用而撰寫一個小函式（程式）。

---

建立一個具有描述性名稱以提高清晰度的函式（程式）。

### --feedback--

思考匿名一行函式（程式）最適合的時機。

## --video-solution--

3

## --text--

為什麼通常認為將 lambda 函式（程式）指定給變數是不良的做法？

## --answers--

 這會導致語法錯誤。

### --feedback--

請記住，匿名函式（函數）是用於行內而非命名。

---

這違背了使用匿名函式（程式）的目的。

---

Lambda 函式比一般函式較慢。

### --feedback--

請記住，匿名函式（函數）是用於行內而非命名。

---

Python 在大多數版本中不允許這樣做。

### --feedback--

請記住，匿名函式（函數）是用於行內而非命名。

## --video-solution--

2

## --text--

使用如下所示的複雜 `lambda` 函式的主要缺點是什麼？

```py
result = (lambda x: (x**2 + 2*x - 1) if x > 0 else (x**3 - x + 4))(3)
```

## --answers--

它使程式碼更易讀。

### --feedback--

檢視課程的最後零件以取得答案。

---

這可能會因為模糊性而導致意外的行為。

### --feedback--

檢視課程的最後零件以取得答案。

---

理解和維護起來更困難。

---

執行需要太多資源。

### --feedback--

檢視課程的最後零件以取得答案。

## --video-solution--

3
