---
id: 672aa62178d5ff57fe4f98e0
title: 什么是 CSS 特异性，以及内联、内部和外部 CSS 的特异性？
challengeType: 19
dashedName: what-is-css-specificity-and-the-specificity-for-inline-internal-and-external-css
---

# --interactive--

CSS 特异性是一个基本概念，用于确定当多个规则可能应用时，哪些样式会应用到一个元素上。

理解特异性有助于开发者解析不同 CSS 规则之间的冲突，并确保所需样式被一致地应用。

CSS 特异性是根据所使用选择器的类型计算的。

最高的特异性归因于内联样式，这些样式通过 `style` 属性直接应用于元素。

在这个示例中，第一个段落将是红色，而其他 `p` 元素将是蓝色。这是因为内联样式的特异性高于像 `styles.css` 文件中显示的 `p` 选择器这样的类型选择器。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p style="color: red;">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
p {
  color: blue;
}
```

:::

随后，ID 选择器具有较高的特异性。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::

接下来，类选择器、属性选择器和伪类开始发挥作用。

示例包括类选择器如 `.container` 和 `.button`，属性选择器如 `[type="text"]`，以及伪类如 `:hover`。这些具有中等程度的特异性。

**注意**：你将在后续课程中学习更多关于伪类的内容。

在此示例中，第一个段落将是红色，因为 `id` 选择器的特异性高于类和类型选择器。`.example-para` 元素将是绿色，而其余的段落元素将是蓝色。 

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p class="example-para">Other paragraph</p>
<p class="example-para">Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

.example-para {
  color: green;
}

p {
  color: blue;
}
```

:::

类型选择器，例如 `div` 和 `h1`，以及伪元素如 `::before` 和 `::after`，相比之前的组具有较低的特异性。

**注意**：你将在后续课程中学习更多关于伪元素的内容。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::

最后，通用选择器，由星号 `*` 表现，具有所有选择器中最低的特异性。

下面是使用 `*` 选择器将所有元素的颜色设置为红色的示例。不过你不会看到任何红色元素，因为存在 ID 和类型选择器覆写了这些样式，这突出了 `*` 选择器的低优先级。 

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
* {
  color: red;
}

#para {
  color: green; 
}

p {
  color: blue;
}
```

:::

特异性值计算为四部分值 `(a, b, c, d)`：

- `a`：内联样式（`1` 或 `0`）。
- `b`：ID 选择器的数量。
- `c`：类选择器、属性选择器和伪类的数量。
- `d`：类型选择器、伪元素和通用选择器的数量。

特异性值的每个部分具有不同的权值：

- **内联样式**（`a`）具有最高的权值，为特异性值的第一部分贡献了 `1`。
    
- **ID 选择器**（`b`）具有次高的权值，每个 ID 对特异性值的第二部分贡献 `1`。
    
- **类选择器、属性选择器和伪类**（`c`）具有中等权值，每个对特异性值的第三部分贡献 `1`。
    
- **类型选择器和伪元素**（`d`）具有最低的权值，每个对特异性值的第四部分贡献 `1`。
    
- **通用的选择器**（`*`）：通用的选择器在特异性计算中贡献 `0`，且不影响特异性。它在选择器中的包含不会改变特异性值。

内联 CSS 具有最高的特异性，因为它直接应用于元素。它会覆写任何内部或外部 CSS。内联样式的特异性值为 `(1, 0, 0, 0)`。

这是另一个内联样式的示例：

:::interactive_editor

```html
<p style="color: red;">This text is red.</p>
```

:::

内部 CSS 定义在超文本标记语言文档的 `head` 部分的 `style` 元素内。它的特异性低于内联样式，但可以覆写外部样式。

内部样式的特异性值由所使用的选择器决定。例如，内部 CSS 中的 ID 选择器的特异性值为 `(0, 1, 0, 0)`。

:::interactive_editor

```html
<head>
  <style>
    #text {
      color: blue;
    }
  </style>
</head>
<body>
  <div id="text">This text is blue.</div>
</body>
```

:::

在此示例中，文本将是蓝色，除非应用了内联样式或更具体的外部样式。

外部 CSS 通过 `head` 部分的 `link` 元素链接，并写在单独的 `.css` 文件中。它具有最低的特异性，但为较大的项目提供了最佳的维护性。

外部样式的特异性值也由所使用的选择器决定。例如，外部 CSS 中的类选择器的特异性值为 `(0, 0, 1, 0)`。

:::interactive_editor

```html
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="text">This text's color is defined in an external CSS file.</div>
</body>
```

```css
.text {
  color: purple;
}
```

:::

在此示例中，文本颜色在 `styles.css` 文件中定义，除非被内部或内联样式覆盖，否则将应用该颜色。

# --questions--

## --text--

哪个 CSS 特异性更高？

## --answers--

类选择器。

### --feedback--

此样式直接应用于元素。

---

一个内联样式。

---

一个 ID 选择器。

### --feedback--

此样式直接应用于元素。

---

一个类型选择器。

### --feedback--

此样式直接应用于元素。

## --video-solution--

2

## --text--

在 CSS 特异性的层次结构中，哪个具有最低的优先级？

## --answers--

类选择器。

### --feedback--

这种类型的 CSS 是最通用的选择器。

---

内联样式。

### --feedback--

这种类型的 CSS 是最通用的选择器。

---

通用的选择器。

---

ID 选择器。

### --feedback--

这种类型的 CSS 是最通用的选择器。

## --video-solution--

3

## --text--
以下示例中的文本颜色将是什么？

```html
<head>
  <style>
    p {
      color: red;
    }
  </style>
</head>
<body>
  <p style="color: blue;">This text</p>
</body>
```

## --answers--

`blue`

---

`red`

### --feedback--

考虑最高特异性。

---

`yellow`

### --feedback--

考虑最高特异性。

---

`green`

### --feedback--

考虑最高特异性。

## --video-solution--

1
