---
id: 6732b76c03f7d825c7fc74ee
title: 什么是可选链操作符，它是如何工作的？
challengeType: 19
dashedName: what-is-the-optional-chaining-operator-and-how-does-it-work
---

# --interactive--

可选链操作符（`?.`）是 JavaScript 中一个有用的工具，它让你可以安全地访问对象属性或调用方法，而无需担心它们是否存在。它就像是处理可能缺少部分的对象时的安全网。

:::interactive_editor

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.name); // "Alice"
console.log(person.job); // undefined
```

:::

在这个例子中，`person.name` 存在，所以它记录了 `Alice`。但 `person.job` 不存在，所以它返回了 `undefined`。

现在，假设我们想访问一个可能不存在的对象的属性：

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.address.street); // This will throw an error!
```

此示例将抛出一个 `Uncaught TypeError`。由于 `person.address` 是 `undefined`，我们无法访问 `street` 属性。这时可选链操作符非常有用。以下是使用可选链操作符的示例：

:::interactive_editor

```ts
const user = {
  name: "John",
  profile: {
    email: "john@example.com",
    address: {
      street: "123 Main St",
      city: "Somewhere"
    }
  }
};

console.log(user?.profile?.address?.street); // "123 Main St"
console.log(user?.profile?.phone?.number);   // undefined
```

:::

通过使用可选链操作符，我们告诉 JavaScript 只有在对象（或 `?.` 之前的值）存在且不是 `null` 或 `undefined` 时才继续执行该操作。 

如果 `?.` 前的值是 `null` 或 `undefined`，JavaScript 会返回 `undefined`，而不是尝试继续进行操作并抛出误差。

请记住，当你不确定某个属性或方法是否存在时，可选链操作符最为有用。它有助于防止误差，使你的代码更健壮。

# --questions--

## --text--

JavaScript 中的可选链操作符（`?.`）有什么作用？

## --answers--

当缺少属性时，它会赋值一个默认值。

### --feedback--

可选链操作符仅在值为 `null` 或 `undefined` 时防止误差。

---

它防止 `undefined` 值出现在对象中。

### --feedback--

可选链操作符仅在值为 `null` 或 `undefined` 时防止误差。

---

它安全地访问嵌套属性，如果值缺失则返回 `undefined` 而不是抛出误差。

---

它迫使 JavaScript 评估缺失的属性，即使它们不存在。

### --feedback--

可选链操作符仅在值为 `null` 或 `undefined` 时防止误差。

## --video-solution--

3

## --text--

下面代码的输出是什么？

```js
const person = {
  name: "Alice",
  age: 30
};

console.log(person.address.street);
```

## --answers--

`undefined`

### --feedback--

访问缺失的嵌套属性且未使用可选链会停止代码执行。

---

`street`

### --feedback--

访问缺失的嵌套属性且未使用可选链会停止代码执行。

---

`{}`

### --feedback--

访问缺失的嵌套属性且未使用可选链会停止代码执行。

---

因为 `person.address` 未定义，所以抛出 `TypeError`。

## --video-solution--

4

## --text--

下面代码的输出是什么？

```js
const user = {
  name: "John",
  profile: {
    email: "john@example.com",
    "home address": {
      street: "123 Main St",
      city: "Somewhere"
    }
  }
};

console.log(user?.profile?.address?.street);
```

## --answers--

`undefined`

---

`"123 Main St"`

### --feedback--

思考什么表现未被赋值的值。

---

`null`

### --feedback--

思考什么表现未被赋值的值。

---

会抛出 `TypeError`。

### --feedback--

思考什么表现未被赋值的值。

## --video-solution--

1
