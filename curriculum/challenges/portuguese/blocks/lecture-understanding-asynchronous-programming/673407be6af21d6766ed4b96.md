---
id: 673407be6af21d6766ed4b96
title: Como a Fetch API Funciona com Métodos HTTP Comuns e res.json()?
challengeType: 19
dashedName: how-does-the-fetch-api-work-with-common-http-methods-and-res-json
---

# --description--

Na lição anterior, vimos o que é a Fetch API e como usá-la. Nesta lição, discutiremos os métodos HTTP `GET`, `POST`, `PUT` e `DELETE` da Fetch API.

Vamos começar com o método HTTP mais comum que é o método `GET`. Isto é usado para recuperar dados de um servidor. Quando você usa `fetch()` sem especificar um método, ele padrão para `GET`.

```js
fetch('https://api.example.com/data')
```

Neste código, estamos fazendo uma requisição `GET` para `https://api.example.com/data`. Agora, por favor, note que você não pode usar esses dados diretamente, você precisa converter a resposta para um formato JSON. Só então você pode usá-lo em qualquer lugar que quiser no seu projeto. Aqui está um exemplo de como fazer isso:

```js
fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => console.log(data))
```

Neste código, a resposta vinda da Fetch API é uma promise e estamos usando um manipulador `.then` para converter a resposta para o formato JSON. Em uma lição anterior, você aprendeu que um `Promise` é um objeto que representa a eventual conclusão (ou falha) de um processo assíncrono e seu valor.

O valor de uma promise não é conhecido quando a promise é criada. Ele só é conhecido quando o processo assíncrono é concluído. Quando encadeamos os dois manipuladores `.then` na chamada fetch, isso é algo chamado encadeamento de promise que será ensinado na próxima lição.

Até agora temos recuperado recursos de um servidor. Mas, você sabia que também podemos enviar dados para o servidor? O método `POST` é usado para enviar dados a um servidor para criar um recurso. Aqui está um exemplo do método `POST` que é usado para criar dados no servidor: 

```js
fetch('https://api.example.com/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Doe',
    email: 'john@example.com'
  })
})
```

Neste exemplo, estamos enviando uma requisição `POST` para criar um novo usuário. Especificamos o método como `POST`, definimos os cabeçalhos apropriados e incluímos um `body` com os dados que queremos enviar. O corpo precisa ser uma string, então usamos `JSON.stringify()` para converter nosso objeto em uma string JSON.

O método `PUT` é usado para atualizar recursos existentes de um servidor. Aqui está um exemplo: 

```js
fetch('https://api.example.com/users/45', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Smith',
    email: 'john@example.com'
  })
})
```

Neste exemplo, observe cuidadosamente a URL, você pode ver um `45` no final. Isso é tipicamente usado como um ID único para identificar os dados que estamos tentando atualizar. Usamos o método `PUT` no código e também especificamos os dados como o `body` que será usado para atualizar os dados identificados. 

O método `DELETE` é usado para deletar um recurso do servidor. Aqui está um exemplo:

```js
fetch('https://api.example.com/users/45', {
  method: 'DELETE',
})
```

Neste código, estamos incluindo o método `DELETE` e um ID no final da url para identificar os dados que precisam ser deletados. 

# --questions--

## --text--

Qual é o método HTTP padrão usado por `fetch()` se não for especificado?

## --answers--

`POST`

### --feedback--

Pense na operação mais comum ao recuperar dados de um servidor.

---

`GET`

---

`PUT`

### --feedback--

Pense na operação mais comum ao recuperar dados de um servidor.

---

`DELETE`

### --feedback--

Pense na operação mais comum ao recuperar dados de um servidor.

## --video-solution--

2

## --text--

Ao enviar dados com uma requisição `POST` usando `fetch()`, o que você precisa fazer com os dados antes de incluí-los no corpo?

## --answers--

Criptografe-o.

### --feedback--

Considere como os dados precisam ser formatados ao enviá-los em um corpo de requisição.

---

Comprima-o.

### --feedback--

Considere como os dados precisam ser formatados ao enviá-los em um corpo de requisição.

---

Converta para uma string JSON.

---

Codifique em Base64.

### --feedback--

Considere como os dados precisam ser formatados ao enviá-los em um corpo de requisição.

## --video-solution--

3

## --text--

O que o método `response.json()` faz?

## --answers--

Envia dados JSON para o servidor.

### --feedback--

Pense em como os dados do servidor precisam ser processados para serem utilizáveis em JavaScript.

---

Cria um novo objeto JSON.

### --feedback--

Pense em como os dados do servidor precisam ser processados para serem utilizáveis em JavaScript.

---

Analisa o corpo da resposta como JSON.

---

Valida se a resposta está no formato JSON.

### --feedback--

Pense em como os dados do servidor precisam ser processados para serem utilizáveis em JavaScript.

## --video-solution--

3
