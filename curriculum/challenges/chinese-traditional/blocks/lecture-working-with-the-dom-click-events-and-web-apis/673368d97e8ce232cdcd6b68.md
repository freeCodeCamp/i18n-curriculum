---
id: 673368d97e8ce232cdcd6b68
title: 如何使用 appendChild() 和 removeChild() 為 DOM 添加和移除節點？
challengeType: 19
dashedName: how-do-you-add-and-remove-nodes-from-the-dom-with-appendchild-and-removechild
---

# --interactive--

有時你需要從 DOM 中新增或移除節點，而你可以使用幾個 Web API。

在本課程中，我們將涵蓋 `appendChild()` 和 `removeChild()` 方法。

`appendChild()` 方法用於將節點添加到指定父節點的子節點列表末端。

以下是 `appendChild()` 方法的基本語法：

```js
parentNode.appendChild(newNode);
```

讓我們來看一個範例，以更好地理解如何使用 `appendChild()` 方法。

在此範例中，我們在 HTML 中有一個 ID 為 `desserts` 的無序列表元素。此列表包含兩個列表項目：`Cake` 和 `Pie`：

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
```

要存取 JavaScript 檔案內的該列表，我們可以使用 `getElementById()` 方法：

```js
const dessertsList = document.getElementById("desserts");
```

我們有一個名為 `dessertsList` 的變數，用來儲存 ID 為 `desserts` 的 `ul` 元素的引用。

然後我們需要使用 `createElement()` 方法創建一個新的列表項目元素：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");
```

以下程式碼將創建一個新的列表項目元素並將其儲存在名為 `listItem` 的變數中。

要將該節點添加到 `ul` 元素子節點的列表末端，我們可以使用 `appendChild()` 方法：

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

如果你執行這段程式碼，你會看到一個新的列表項目元素被添加到 `ul` 元素的子元素列表的末端。

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

dessertsList.appendChild(listItem);
```

:::

問題在於新的列表項目元素是空的。若要為新的列表項目元素添加文字內容，你可以使用 `textContent` 屬性：

:::interactive_editor

```html
<ul id="desserts">
  <li>Cake</li>
  <li>Pie</li>
</ul>
<script src="index.js"></script>
```

```js
const dessertsList = document.getElementById("desserts");
const listItem = document.createElement("li");

listItem.textContent = "Cookies";
dessertsList.appendChild(listItem);
```

:::

現在列表會顯示 `Cake`、`Pie` 和 `Cookies`。

要從 DOM 中移除節點，你可以使用 `removeChild()` 方法。

以下是 `removeChild()` 方法的基本語法：

```js
parentNode.removeChild(childNode);
```

讓我們來看一個範例，我們想要從這個 `section` 元素中移除最後一個段落元素：

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
```

我們可以使用 `getElementById()` 方法存取 JavaScript 檔案中的 `section` 元素：

```js
const sectionEl = document.getElementById("example-section");
```

一旦我們取得對 `section` 元素的引用，就可以使用 `querySelector()` 方法存取該最後一個段落：

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");
```

我們使用 `:last-of-type` 偽類別來選取 `section` 元素內的最後一個段落元素。

現在我們已經有了父節點和子節點，可以使用 `removeChild()` 方法從 `section` 元素中移除最後一個段落元素：

:::interactive_editor

```html
<section id="example-section">
  <h2>Example sub heading</h2>
  <p>first paragraph</p>
  <p>second paragraph</p>
</section>
<script src="index.js"></script>
```

```js
const sectionEl = document.getElementById("example-section");
const lastParagraph = document.querySelector("#example-section p:last-of-type");

sectionEl.removeChild(lastParagraph);
```

:::

那麼，什麼時候你會想要為你的 DOM 添加或移除節點？

如果你正在處理動態內容，你可能需要從 DOM 中添加或移除節點。實際範例包括購物車、待辦事項列表和社群媒體動態。

# --questions--

## --text--

`appendChild()` 方法做什麼？

## --answers--

它會從 DOM 中移除一個節點。

### --feedback--

思考節點相對於其兄弟節點的位置。

---

它會將節點添加到指定父節點的子節點列表的末端。

---

它會用新的節點取代現有的節點。

### --feedback--

思考節點相對於其兄弟節點的位置。

---

它會將節點移動到 DOM 中的不同位置。

### --feedback--

思考節點相對於其兄弟節點的位置。

## --video-solution--

2

## --text--

你會如何為新創建的列表項目元素添加文字內容？

## --answers--

在新的節點上使用 `setText()` 方法。

### --feedback--

考慮允許設定元素內部文字的屬性。

---

直接將字串指定到新節點的 `innerHTML` 屬性。

### --feedback--

考慮允許設定元素內部文字的屬性。

---

將新節點的 `textContent` 屬性設定為所需的字串。

---

使用帶有文字節點作為引數的 `appendChild()` 方法。

### --feedback--

考慮允許設定元素內部文字的屬性。

## --video-solution--

3

## --text--

你如何使用 JavaScript 從一個區段中移除最後一個段落元素？

## --answers--

在帶有最後一個段落元素引用的區段元素上使用 `removeChild()`。

---

在帶有最後一個段落元素引用的區段元素上使用 `deleteChild()`。

### --feedback--

思考將子節點從其父節點移除的方法。

---

在帶有最後一個段落元素引用的區段元素上使用 `detachChild()`。

### --feedback--

思考將子節點從其父節點移除的方法。

---

在帶有最後一個段落元素引用的區段元素上使用 `removeNode()`。

### --feedback--

思考將子節點從其父節點移除的方法。

## --video-solution--

1
