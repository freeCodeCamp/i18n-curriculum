---
id: 672a54dff9dc439089f1a219
title: 什么是 `aria-live` 属性，它是如何工作的？
challengeType: 19
dashedName: what-is-the-aria-live-attribute
---

# --interactive--

`aria-live` 属性在你的页面上创建一个实时区域，可用于在动态内容发生变化时通知屏幕阅读器用户。

实时区域的常见用途包括在执行操作后显示的消息（例如错误信息或确认消息）、定期更新的内容（例如跑马灯、走马灯或倒计时器），或通用的状态消息（例如关于进程的更新）。

由于屏幕阅读器的阅读焦点一次只能位于一个位置，如果焦点在页面的其他部分，屏幕阅读器用户将不会注意到内容的变化。实时区域允许屏幕阅读器用户自动接收页面上实时发生的变化通知。没有实时区域，屏幕阅读器用户可能会错过视觉用户可见的重要内容更新，因为视觉用户能够扫描整个页面。 

根据信息的优先级，此属性有三种可能的值。

如果你将 `aria-live` 设置为值 `assertive`，这意味着更新非常重要。它具有最高的优先级，因此应该立即通知用户。

这意味着屏幕阅读器将中止它当前正在进行的任何公告，以宣布实时区域中的内容更改。此类中止可能会极其干扰，因此 `assertive` 值应仅用于时间敏感或关键通知。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<div class="session-warning" aria-live="assertive">
  <p>Your session will expire in 30 seconds.</p>
</div>

<script src="index.js"></script>

```

```css
.session-warning {
  background-color: #ffcc00;
  color: #000;
  font-family: system-ui, sans-serif;
  font-weight: 500;
  padding: 1em 1.5em;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.session-warning.visible {
  opacity: 1;
  transform: translateY(0);
}

.session-warning.fade-out {
  opacity: 0;
  transform: translateY(10px);
}

```

```js
document.addEventListener("DOMContentLoaded", () => {
  const warning = document.querySelector(".session-warning");

  setTimeout(() => {
    warning.classList.add("visible");
  }, 100);

  setTimeout(() => {
    warning.classList.add("fade-out");
  }, 8000);

  warning.addEventListener("transitionend", () => {
    if (warning.classList.contains("fade-out")) {
      warning.remove();
    }
  });
});

```

:::

下一个优先级的值是 `polite`。

该值表示更新不是紧急的，因此屏幕读取器可以等待当前的任何公告完成或用户停止类型指派后再宣布更新。大多数实时区域将使用 `polite` 值。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<div class="upload-success" aria-live="polite">
  <p>File successfully uploaded</p>
</div>

<script src="index.js"></script>

```

```css
.upload-success {
  background-color: #4caf50;
  color: #fff;
  font-family: system-ui, sans-serif;
  font-weight: 500;
  padding: 1em 1.5em;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.upload-success.visible {
  opacity: 1;
  transform: translateY(0);
}

.upload-success.fade-out {
  opacity: 0;
  transform: translateY(-10px);
}

```

```js
document.addEventListener("DOMContentLoaded", () => {
  const success = document.querySelector(".upload-success");

  setTimeout(() => {
    success.classList.add("visible");
  }, 100);

  setTimeout(() => {
    success.classList.add("fade-out");
  }, 8000);

  success.addEventListener("transitionend", () => {
    if (success.classList.contains("fade-out")) {
      success.remove();
    }
  });
});

```

:::

`aria-live` 的最低优先级值是 `off`，这意味着除非内容位于当前具有键盘焦点的元素中，否则更新不会被宣布。实际上，这个值几乎从未被使用，因为使用场景非常狭窄，并且在屏幕阅读器中几乎没有一致地实现（如果有的话）。如果你需要实时区域，计划为除需要 `assertive` 的关键消息外的所有内容使用 `polite`。

同样重要的是，如果更新的信息包含在具有 `alert`、`log`、`marquee`、`status` 或 `timer` ARIA 角色的元素中，则不需要 `aria-live` 属性，因为这些角色已经具有默认的 `aria-live` 值。但可以通过在元素上显式设置 `aria-live` 来更改默认值。

选择合适的 `aria-live` 值取决于更新信息的优先级。

如果更新很紧急，你应该立即使用 `assertive` 通知用户。但你应该仅在更新确实紧急时使用此方法，因为突然的中止可能会使用户迷失方向并影响用户体验。

如果更新可以等到当前任务完成后再进行，你应该使用 `polite`。

`aria-live` 属性让辅助技术知道网页内容何时动态变化。这有助于残障用户及时了解重要公告和更新。

通过适当使用 `aria-live`，你可以确保用户根据其优先级了解这些更新。

# --questions--

## --text--

`aria-live` 属性的主要用途是什么？

## --answers--

定义元素的视觉外观。

### --feedback--

考虑 `aria-live` 如何帮助辅助技术理解内容。

---

提高网站性能。

### --feedback--

考虑 `aria-live` 如何帮助辅助技术理解内容。

---

用于指示元素的内容正在动态变化。

---

增强浏览器兼容性。

### --feedback--

考虑 `aria-live` 如何帮助辅助技术理解内容。

## --video-solution--

3

## --text--

以下哪些值可以用于 `aria-live` 属性？

## --answers--

`true`、`false`、`off`。

### --feedback--

考虑宣布动态内容更改的不同紧急级别。

---

`visible`、`hidden`、`off`。

### --feedback--

考虑宣布动态内容更改的不同紧急级别。

---

`assertive`、`polite`、`off`。

---

`open`、`closed`、`off`。

### --feedback--

考虑宣布动态内容更改的不同紧急级别。

## --video-solution--

3

## --text--

`aria-live` 属性的 `polite` 和 `assertive` 值有什么区别？

## --answers--

`polite` 会立即宣布更新，而 `assertive` 会在焦点位于另一个元素时宣布更新。

### --feedback--

考虑宣布动态内容的紧急程度。

---

`polite` 会在当前任务完成后宣布更新，而 `assertive` 会立即宣布更新。

---

`polite` 和 `assertive` 之间没有区别。

### --feedback--

考虑宣布动态内容的紧急程度。

---

`polite` 用于重要更新，而 `assertive` 用于不那么紧急的更新。

### --feedback--

考虑宣布动态内容的紧急程度。

## --video-solution--

2
