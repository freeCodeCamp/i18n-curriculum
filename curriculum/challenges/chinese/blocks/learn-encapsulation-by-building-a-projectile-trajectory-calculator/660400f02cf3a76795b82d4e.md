---
id: 660400f02cf3a76795b82d4e
title: 步骤4
challengeType: 20
dashedName: step-4
---

# --description--

首先要设置的是一种计算抛射物位移的方法，即从投掷到抛射物接触地面所经过的水平空间。

创建一个方法`__calculate_displacement`，该方法只有`self`作为参数，并返回抛射物的位移。

使用以下公式计算抛射物位移：  
\\[ d = \frac{v \cdot \cos\theta \cdot \left(v\cdot\sin\theta + \sqrt{v^2 \cdot \sin^2\theta + 2 \cdot g \cdot h}\right)}{g} \\]

其中$d$代表位移，$v$代表起始速度，$\theta$代表角度，$h$代表抛射物的起始高度。 对于 $g$，你可以使用 `GRAVITATIONAL_ACCELERATION` 变量表示。

你应该使用方法 `math.cos()` 和 `math.sin()` 作为三角函数，并使用 `math.sqrt()` 来计算平方根。 你也应该知道$x^y$在python中写为 `x ** y`。 另外，$\sin^2\theta$ 意味着对正弦结果进行平方。

请记住，如果你想要测试名称修改，则需要将该方法调用为 `_Projectile__calculate_displacement`，或者在类外使用它：

```py
ball = Projectile(10, 3, 45)
displacement_of_ball = ball._Projectile__calculate_displacement() # 12.6173996009878
```

# --hints--

你应该使用 `def __calculate_displacement(self):` 声明一个名为 `__calculate_displacement` 的方法。

```js
({test: () => assert(runPython(`_Node(_code).find_class("Projectile").has_function("__calculate_displacement")`))})
```

`__calculate_displacement` 方法应该只具有 `self` 参数。

```js
({test: () => assert(runPython(`_Node(_code).find_class("Projectile").find_function("__calculate_displacement").has_args('self')`))})
```

`__calculate_displacement` 方法应该返回正确的值。

```js
({test: () => assert(runPython(`
p = Projectile(20, 21, 22)
disp = p._Projectile__calculate_displacement()
round(disp, 2) == 55.06 and round(disp, 2) != disp
`))})
```

# --seed--

## --seed-contents--

```py
import math

GRAVITATIONAL_ACCELERATION = 9.81
PROJECTILE = "∙"
x_axis_tick = "T"
y_axis_tick = "⊣"

class Projectile:
    __slots__ = ('__speed', '__height', '__angle')

    def __init__(self, speed, height, angle):
        self.__speed = speed
        self.__height = height
        self.__angle = math.radians(angle)
        
--fcc-editable-region--
    
--fcc-editable-region--
```
