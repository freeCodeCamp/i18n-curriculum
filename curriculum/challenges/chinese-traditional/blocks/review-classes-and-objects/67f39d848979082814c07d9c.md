---
id: 67f39d848979082814c07d9c
title: 類別和物件複習
challengeType: 31
dashedName: review-classes-and-objects
---

# --description--

## Python 類別和物件

- **類別定義**：類別是用來建立物件的藍圖。它透過其屬性和方法定義物件將會有的行為。以下是在 Python 中類別定義的基本範例：

```python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def bark(self):
        print(f'{self.name.upper()} says woof woof!')
```

- **創建物件**：物件是類別的實體。它們是透過使用必要的引數呼叫類別來創建的。

```python
dog1 = Dog('Jack', 3)
dog2 = Dog('Thatcher', 5)

dog1.bark()  # JACK says woof woof!
dog2.bark()  # THATCHER says woof woof!
```

- **使用物件呼叫方法**：你可以對物件呼叫方法以執行動作或取得資訊。

```python
objectName1.methodName()
objectName2.methodName()
```

- **類別與物件的差異**：類別是可重複使用的模板，而物件是該類別具有實際資料的特定實體。

## 屬性

- **實體屬性**：在 `__init__()` 中使用 `self` 定義，且每個物件皆獨有。
- **類別屬性**：直接定義在類別內並由所有實體共用。

```python
class Dog:
    species = 'French Bulldog'  # Class attribute

    def __init__(self, name):
        self.name = name  # Instance attribute

print(Dog.species) # French Bulldog

jack = Dog('Jack')
print(jack.name)     # Jack
print(jack.species)  # French Bulldog
```

## 方法、行為、函式

- **方法**：定義在類別內、用來操作物件屬性的函式。

```python
class Car:
    def __init__(self, color, model):
        self.color = color
        self.model = model

    def describe(self):
        return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
print(my_car_1.describe())  # This car is a red Tesla Model S
```

- **存取方法**：使用點記法對物件呼叫方法。以下是對兩個不同汽車物件呼叫 `describe` 方法的範例：

```python
class Car:
 def __init__(self, color, model):
   self.color = color  
   self.model = model  

 def describe(self):
   return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
my_car_2 = Car('green', 'Lamborghini Revuelto')

print(my_car_1.describe()) # Calling methods using the dot notation

print(my_car_2.describe()) # Calling methods using the dot notation
```

## 雙底線（魔術）方法

- **定義**：以雙底線開頭和結尾的特殊方法（例如 `__init__`、`__len__`、`__str__`、`__eq__`）。Python 內部使用它們來執行內建操作。

```python
class Book:
    def __init__(self, title, pages):
        self.title = title
        self.pages = pages

    def __len__(self):
        return self.pages

    def __str__(self):
        return f"'{self.title}' has {self.pages} pages"

    def __eq__(self, other):
        return self.pages == other.pages

book1 = Book('Built Wealth Like a Boss', 420)
print(len(book1))        # 420
print(str(book1))        # 'Built Wealth Like a Boss' has 420 pages
```

- **間接呼叫 dunder 方法**：你不需要直接呼叫 dunder 方法。相反地，當發生某些操作時，Python 會自動呼叫它們。這些操作包括：

  - **像加法、減法、乘法、除法等算術操作**。此外，會呼叫 `__add__()`，減法則呼叫 `__sub__()`，乘法呼叫 `__mul__()`，除法呼叫 `__truediv__()`。
        
  - **字串操作行為，例如串接、重複、格式化和轉換為文字**。`__add__()` 用於串接，`__mul__()` 用於重複，`__format__()` 用於格式化，`__str__()` 和 `__repr__()` 用於文字轉換，等等。
        
  - **比較操作行為像是相等性、小於、大於等**。`__eq__()` 用於相等性檢查，`__lt__()` 用於小於，`__gt__()` 用於大於，依此類推。
        
  - **像是讓物件可迭代以及在項目中前進的迭代操作**。會呼叫 `__iter__()` 來傳回迭代器，並呼叫 `__next__()` 來取得下一個項目。

## 實際範例：購物車

- **具有雙底線方法的 Cart 類別**：允許使用內建行為來添加、移除、迭代和檢查內容。

```python
class Cart:
    def __init__(self):
        self.items = []

    def add(self, item):
        self.items.append(item)

    def remove(self, item):
        if item in self.items:
            self.items.remove(item)
        else:
            print(f'{item} is not in cart')

    def list_items(self):
        return self.items

    def __len__(self):
        return len(self.items)

    def __getitem__(self, index):
        return self.items[index]

    def __contains__(self, item):
        return item in self.items

    def __iter__(self):
        return iter(self.items)

cart = Cart()
cart.add('Laptop')
print(len(cart))        # 1
print('Laptop' in cart) # True
```

# --assignment--

檢視類別和物件的主題與概念。
