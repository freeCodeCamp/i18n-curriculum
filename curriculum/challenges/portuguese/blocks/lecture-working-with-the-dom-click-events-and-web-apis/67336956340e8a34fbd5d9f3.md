---
id: 67336956340e8a34fbd5d9f3
title: O que é a API requestAnimationFrame() e como ela pode ser usada para configurar um loop de animação?
challengeType: 19
dashedName: what-is-the-requestanimationframe-api-and-how-can-it-be-used-to-set-up-an-animation-loop
---

# --description--

Criar animações suaves em uma página web pode ser complicado, especialmente se você não tem certeza de como lidar com o tempo corretamente.A ótima notícia é que a API `requestAnimationFrame()` facilita. 

`requestAnimationFrame()` é um método que permite agendar a próxima etapa da sua animação antes da próxima repintura da tela, resultando em uma experiência fluida e visualmente atraente.

A próxima repintura da tela refere-se ao momento em que o navegador atualiza a exibição visual da página web.Isso acontece várias vezes por segundo, tipicamente cerca de 60 vezes (ou 60 frames por segundo) na maioria dos displays.

Para usar o método `requestAnimationFrame()`, tudo o que você precisa fazer é chamá-lo e passar uma função de callback para ele:

```js
requestAnimationFrame(callback);
```

Chamar `requestAnimationFrame()` deve primeiro ocorrer dentro de uma função que gerencia a animação, como `animate()`, junto com uma função para atualizar a animação, tradicionalmente chamada de `update()`:

```js
function animate() {
 // Update the animation...
 // for example, move an element, change a style, and more.
 update();
 // Request the next frame
 requestAnimationFrame(animate);
}
```

A função `update()` é onde a mágica acontece.Dentro dele, você pode alterar o que quiser para animar.Por exemplo, atualizar um estilo ou mudar a posição de um elemento:

```js
function update() {
 element.style.transform = `translateX(${position}px)`;
 position += 2;
}
```

O que finalmente inicia a animação é chamar `requestAnimationFrame()` e passar a função `animate`, desta vez fora da função `animate`:

```js
requestAnimationFrame(animate);
```

O loop continuará até você pará-lo.

Agora, vamos dar uma olhada em outro exemplo.O HTML para este exemplo é um elemento `div` com o texto `freeCodeCamp is Awesome`:

```html
<div id="rect" class="rect">freeCodeCamp is Awesome</div>
```

Este é o CSS que transforma o `div` em um retângulo e oculta qualquer coisa que ultrapasse a viewport à esquerda ou à direita:

```css
body {
  overflow-x: hidden;
}

.rect {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 400px;
  height: 250px;
  border-radius: 5px;
  background-color: #1b1b32;
  color: #f5f6f7;
  font-size: 2rem;
  position: absolute;
}
```

Este é o JavaScript comentado que move o retângulo `2px` para a direita a cada chamada de `requestAnimationFrame(animate)` com a função `animate` como callback:

```js
// reference the rectangle
const rect = document.getElementById("rect");

// start with a position of 0
let position = 0;

function update() {
  // Move the rectangle 2px to the right
  rect.style.left = position + "px";
  position += 2;

  // Reset the position when the rectangle reaches
  // the right side of the screen
  if (position > window.innerWidth) {
    // Move the rectangle just outside the left side of the screen
    position = -rect.offsetWidth;
  }
}

function animate() {
  // Update the position
  update();

  //request the next frame
  requestAnimationFrame(animate);
}

// Start the animation
requestAnimationFrame(animate);
```

O resultado no navegador será um cartão de título animado flutuando pela tela.

# --questions--

## --text--

O que o método `requestAnimationFrame()` faz?

## --answers--

Ele para uma animação de rodar.

### --feedback--

Pense em como este método ajuda a criar animações fluidas.

---

Ele executa uma animação imediatamente sem atraso.

### --feedback--

Pense em como este método ajuda a criar animações fluidas.

---

Ele acelera uma animação.

### --feedback--

Pense em como este método ajuda a criar animações fluidas.

---

Ele agenda a próxima etapa de uma animação antes da próxima repintura da tela para visuais mais suaves.

## --video-solution--

4

## --text--

O que inicia a animação ao usar `requestAnimationFrame()`?

## --answers--

Chamando a função `animate` dentro do método `requestAnimationFrame()`.

### --feedback--

Pense em como o método `requestAnimationFrame()` dispara a animação.

---

Configurando um timeout com `setTimeout()`.

### --feedback--

Pense em como o método `requestAnimationFrame()` dispara a animação.

---

Usando `setInterval()` para repetir a animação.

### --feedback--

Pense em como o método `requestAnimationFrame()` dispara a animação.

---

Chamar `requestAnimationFrame()` e passar a função animate fora da função animate.

## --video-solution--

4

## --text--

O que significa o "next screen repaint"?

## --answers--

O momento em que o navegador atualiza a estrutura HTML.

### --feedback--

Pense em com que frequência o navegador atualiza o que você vê na tela.

---

O momento em que o navegador atualiza a exibição visual da página web, geralmente cerca de 60 vezes por segundo.

---

O momento em que o navegador recarrega a página inteira.

### --feedback--

Pense em com que frequência o navegador atualiza o que você vê na tela.

---

O momento em que o navegador atualiza os estilos CSS.

### --feedback--

Pense em com que frequência o navegador atualiza o que você vê na tela.

## --video-solution--

2
