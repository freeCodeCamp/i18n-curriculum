---
id: 672cf3ca326da9f63683e236
title: O que é a regra @property e como ela funciona com fallbacks?
challengeType: 19
dashedName: what-is-the-at-property-rule
---

# --interactive--

A regra `@property` é um recurso poderoso do CSS que permite aos desenvolvedores definir propriedades personalizadas com maior controle sobre seu comportamento, incluindo como elas animam e seus valores iniciais. 

Esta regra fornece uma maneira de aprimorar a funcionalidade das propriedades personalizadas do CSS e oferece mais flexibilidade em sua aplicação.

A sintaxe básica da regra `@property` é a seguinte:

```css
@property --property-name {
  syntax: '<type>';
  inherits: true | false;
  initial-value: <value>;
}
```

O `--property-name` é o nome da propriedade customizada que você está definindo. Como todas as propriedades customizadas, ela deve começar com dois traços. `--property-name` pode ser coisas como `<color>`, `<length>`, `<number>`, `<percentage>`, ou tipos mais complexos.

`syntax` define o tipo da propriedade. 

`inherits` especifica se a propriedade deve herdar seu valor do elemento pai. 

`initial-value` define o valor padrão da propriedade.

Aqui está um exemplo prático de como usar a regra `@property`:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
@property --main-color {
  syntax: '<color>';
  inherits: false;
  initial-value: #3498db;
}

.button {
  background-color: var(--main-color);
}
```

:::

Neste exemplo, estamos definindo uma propriedade personalizada `--main-color` como um valor `color`, configurando-a para não herdar e dando a ela um valor inicial de `#3498db`.

Um dos principais benefícios da regra `@property` é que ela permite a animação de propriedades personalizadas, o que não era possível antes:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="gradient-box"></div>
```

```css
@property --gradient-angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

.gradient-box {
  width: 100px;
  height: 100px;
  background: linear-gradient(var(--gradient-angle), red, blue);
  transition: --gradient-angle 0.5s;
}

.gradient-box:hover {
  --gradient-angle: 90deg;
}
```

:::

O código acima cria um gradiente que anima suavemente quando o elemento é hoverado, algo que não era possível com propriedades customizadas padrão.

Agora, vamos discutir como a regra `@property` funciona com fallbacks. 

Fallbacks são cruciais em CSS para garantir que os estilos se degradam de forma suave em navegadores que não suportam certos recursos. Com o `@property`, os fallbacks funcionam em dois níveis: para a própria regra e para o uso da propriedade customizada.

Para navegadores que não suportam a regra `@property`, você pode fornecer uma alternativa declarando a propriedade customizada da maneira tradicional:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
```

```css
:root {
  --main-color: #3498db;
}

@property --main-color {
  syntax: '<color>';
  inherits: false;
  initial-value: #3498db;
}

body {
  background-color: var(--main-color);
}
```

:::

Neste caso, navegadores que suportam `@property` usarão a versão mais estritamente definida, enquanto outros recorrerão à declaração padrão de propriedade customizada.

Ao usar a propriedade customizada, você pode fornecer um valor de fallback usando a função `var()`, assim como faria com propriedades customizadas padrão:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
.button {
  background-color: var(--main-color, #3498db);
}
```

:::

Isso garante que mesmo se a propriedade `--main-color` não estiver definida ou for inválida, o botão ainda terá uma cor de fundo.

A regra `@property` também permite cenários de fallback mais complexos. Por exemplo, você pode usá-lo para fornecer alternativas seguras para tipos:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="box">Colored box</div>
```

```css
@property --padding {
  syntax: '<length>';
  inherits: false;
  initial-value: 10px;
}

.box {
  width: 100px;
  height: 100px;
  background-color: darkred;
  color: white;
  padding: var(--padding);
}
```

:::

Neste caso, se alguém tentar definir `--padding` para um valor inválido, como uma cor, o navegador usará o valor inicial de `10px`, mantendo a segurança de tipo.

Vale notar que a regra `@property` em si ainda não é suportada universalmente. A partir de meados de 2023, é suportado no Chrome, Edge e Opera, com suporte no Firefox disponível por meio de uma flag. Para um suporte mais amplo nos navegadores, é importante fornecer alternativas e usar detecção de recursos.

Em conclusão, a regra `@property` representa um avanço significativo na forma como trabalhamos com propriedades customizadas em CSS. Ele fornece mais controle e possibilita novas funcionalidades como animação de propriedades personalizadas. No entanto, é importante usá-lo com moderação e sempre fornecer alternativas apropriadas para garantir uma boa experiência em todos os navegadores. Como em qualquer tecnologia web de ponta, o segredo é melhorar a experiência para os navegadores que a suportam enquanto garante a funcionalidade básica para aqueles que não a suportam.

# --questions--

## --text--

Qual é o propósito principal da regra `@property` no CSS?

## --answers--

Para criar novas propriedades CSS.

### --feedback--

Pense em como `@property` se relaciona com propriedades CSS personalizadas.

---

Para definir e controlar o comportamento de propriedades personalizadas.

---

Para substituir propriedades CSS padrão.

### --feedback--

Pense em como `@property` se relaciona com propriedades CSS personalizadas.

---

Para criar animações.

### --feedback--

Pense em como `@property` se relaciona com propriedades CSS personalizadas.

## --video-solution--

2

## --text--

Qual dos seguintes NÃO é um descritor válido na regra `@property`?

## --answers--

`syntax`

### --feedback--

Considere a estrutura básica de uma declaração de regra `@property`.

---

`inherits`

### --feedback--

Considere a estrutura básica de uma declaração de regra `@property`.

---

`initial-value`

### --feedback--

Considere a estrutura básica de uma declaração de regra `@property`.

---

`animation`

## --video-solution--

4

## --text--

Como você pode fornecer uma alternativa para navegadores que não suportam a regra `@property`?

## --answers--

Use um polyfill.

### --feedback--

Pense em como você normalmente declararia uma propriedade personalizada sem `@property`.

---

Declare a propriedade personalizada usando o método padrão.

---

Use a regra `@supports`.

### --feedback--

Pense em como você normalmente declararia uma propriedade personalizada sem `@property`.

---

Não é possível fornecer um fallback.

### --feedback--

Pense em como você normalmente declararia uma propriedade personalizada sem `@property`.

## --video-solution--

2
