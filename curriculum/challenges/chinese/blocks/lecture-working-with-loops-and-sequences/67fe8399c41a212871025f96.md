---
id: 67fe8399c41a212871025f96
title: 什么是列表及其工作原理？
challengeType: 19
dashedName: what-are-lists-and-how-do-they-work
---

# --description--

在接下来的几节课中，我们将学习 `lists`、`tuples` 和 `ranges`，它们是 Python 中使用的三种基本序列类型。

列表数据类型是由字串、数字甚至其他列表组成的有序元素序列。列表是可变的，使用零基索引，这意味着列表的第一个元素位于索引零。

这是一个列表的基本语法：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

要访问 `cities` 列表中的元素，你可以引用它在序列中的索引号。以下是访问 `cities` 列表第一个元素的示例：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # 'Los Angeles'
```

负索引用于从列表末尾而不是从索引为 `0` 的开头访问元素。要访问任何列表的最后一个元素，你可以像这样使用 `-1` ：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # 'Tokyo'
```

另一种创建列表的方法是使用 `list()` 构造函数。`list()` 构造函数用于将可迭代对象转换为列表，如下所示：

```py
developer = 'Jessica'
list(developer) # ['J', 'e', 's', 's', 'i', 'c', 'a']
```

可迭代对象是一种特殊类型的对象，可以一次循环访问一项。你将在后面学习更多关于 Python 中循环的内容。

要获取列表中元素的总数，你可以像这样使用 `len()` 函数：

```py
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

如果你想更新特定索引处的值，你可以这样做：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

由于列表是可变的，只要你传入有效的索引数字，就可以更新列表中的任何元素。如果你传入的索引（无论是正数还是负数）超出列表的边界，则会收到一个 `IndexError`：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
IndexError: list assignment index out of range
"""
```

如果你想从列表中删除一个元素，可以像这样使用 `del` 关键字：

```py
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

有时查看一个元素是否在列表中是很有帮助的。为此，你可以像这样使用 `in` 关键字：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

有时常见的情况是列表嵌套在其他列表中，如下所示：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

在此示例中，我们有一个包含三种流行编程语言的嵌套列表。要访问嵌套列表，你需要使用索引 `2` 来访问它，因为列表是从零开始索引的：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

然后要从那个嵌套列表中访问第二种语言，你需要像这样使用索引 `1` 进行访问：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # 'Rust'
```

另一个常用的技术是对列表进行解包值。

从列表中解包值是一种将列表中的值赋值给新变量的技术。下面是将 `developer` 列表解包到名为 `name`、`age` 和 `job` 的新变量中的示例。 

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer

print(name) # 'Alice'
print(age) # 34
print(job) # 'Rust Developer'
```

这里，`name` 的值是 `'Alice'`，`age` 的值是 `34`，`job` 的值是 `'Rust Developer'`。

如果你需要收集列表中剩余的元素，可以像这样使用星号（`*`）操作符：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer

print(name) # 'Alice'
print(rest) # [34, 'Rust Developer']
```

在此示例中，`name` 仍将具有值 `'Alice'`，而 `rest` 是包含两个项的列表：数字 `34` 和字串 `'Rust Developer'`。

如果赋值操作符左侧的变量数量与列表中的项总数不匹配，则你将收到一个 `ValueError`：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job, city = developer

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
ValueError: not enough values to unpack (expected 4, got 3)
"""
```

我们将要看的最后一个概念是切片操作符（`:`）。类似于字串，你可以使用切片操作符像这样访问列表的部分内容：

```py
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie', 'Brownies']
desserts[1:4] # ['Cookies', 'Ice Cream', 'Pie']
```

在这个示例中，起始索引是 `1`，因为它指向列表中的第二项。然后我们使用切片操作符，后跟结束索引 `4`，它包括直到该索引处（但不包括该索引处）的所有项。

使用切片操作符 `:` 你还能指定步长间隔，用来确定索引之间的增量。假设你有一个这样的数字列表：

```py
numbers = [1, 2, 3, 4, 5, 6]
```

如果你想提取仅包含偶数的列表，可以像这样使用切片操作符：

```py
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

第一个偶数位于索引 `1`，所以那将是起始索引。由于我们想遍历列表的末尾，因此省略结束索引。最后，我们为可选的步长间隔指定 `2`，这样它将只以 `2` 递增，而不是默认的 `1`。

列表是一种有用且灵活的数据结构，你将在你的 Python 程序中大量使用。在下一课中，你将学习可以与列表一起使用的常用方法。

# --questions--

## --text--

以下关于列表的说法哪项是正确的？

## --answers--

它们是以 2 为基数的索引。

### --feedback--

参考课程开头的答案。

---

它们是从零开始索引的。

---

它们仅在类内部使用。 

### --feedback--

参考课程开头的答案。

---

它们在 Python 程序中很少使用。

### --feedback--

参考课程开头的答案。

## --video-solution--

2

## --text--

以下哪种方式是访问列表中第二个元素的正确方法？

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

## --answers--

`cities[1]`

---

`cities[2]`

### --feedback--

参考课程开头的答案。

---

`cities[0]`

### --feedback--

参考课程开头的答案。

---

`cities[-1]`

### --feedback--

参考课程开头的答案。

## --video-solution--

1

## --text--

以下哪种方式是正确的访问倒数第二个元素的方法？

```py
numbers = [1, 2, 3, 4, 5, 6]
```

## --answers--

`numbers[-5]`

### --feedback--

请记住，负索引用于从末尾开始访问元素。

---

`numbers[2]`

### --feedback--

请记住，负索引用于从末尾开始访问元素。

---

`numbers[0]`

### --feedback--

请记住，负索引用于从末尾开始访问元素。

---

`numbers[-2]`

## --video-solution--

4
