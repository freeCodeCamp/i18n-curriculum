---
id: 67d311627010a0efa127b651
title: React 中的路由如何運作？
challengeType: 19
dashedName: how-does-routing-work-in-react
---

# --description--

在之前的課程中，你學到 React 是單頁應用程式。單頁應用程式是包含一個 HTML 檔案並使用 JavaScript 動態更新頁面上任何內容的應用程式。

那麼，當你需要為你的 React 應用程式添加多個「頁面」時會發生什麼？你會如何導航到那些不同的視圖？

嗯，這就是 React Router 派上用場的地方。

React Router 是一個第三方函式庫，允許你為你的 React 應用程式添加路由。要開始，你需要在現有的 React 專案中安裝 React Router，如下所示：

```sh
npm i react-router
```

如果你檢查 `package.json` 檔案，你會看到 `react-router` 已被添加到依賴列表中：

```json
"dependencies": {
  "react": "^18.3.1",
  "react-dom": "^18.3.1",
  "react-router": "^7.2.0"
}
```

接著在你的 `main.jsx` 或 `index.jsx` 檔案中，你需要匯入 `BrowserRouter` 並將 `BrowserRouter` 包裹在你的 `App` 組件周圍呈現。

```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter } from "react-router";
import App from "./App.jsx";

import "./index.css";

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </StrictMode>
);
```

要在你的應用程式中啟用路由，你需要更新你的 `import` 述語，以包含 `Routes` 和 `Route` 組件，如下所示：

```js
import { BrowserRouter, Routes, Route } from "react-router";
```

然後在 `BrowserRouter` 裡面，添加 `Routes` 和 `Route` 組件：

```jsx
createRoot(document.getElementById("root")).render(
  <StrictMode>
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<App />} />
      </Routes>
    </BrowserRouter>
  </StrictMode>
);
```

`path` 和 `element` 用於將 URL 與 UI 組件連結在一起。在這種情況下，我們正在為首頁設定一條指向 `App` 組件的路由。

在較大型的應用程式中，通常會像這樣設定多個視圖和路由：

```jsx
<Routes>
  <Route index element={<Home />} />
  <Route path="about" element={<About />} />

  <Route path="products">
    <Route index element={<ProductsHome />} />
    <Route path=":category" element={<Category />} />
    <Route path=":category/:productId" element={<ProductDetail />} />
    <Route path="trending" element={<Trending />} />
  </Route>
</Routes>
```

這些範例中的 `index` prop 是用來表述給定路徑段的預設路由。因此，`Home` 組件會在根路徑（`/`）顯示，而 `ProductsHome` 組件會在 `products` 路徑顯示。

你可能也注意到我們正在將幾個路由巢狀在另一個路由內，如此：

```jsx
<Route path="products">
  <Route path="trending" element={<Trending />} />
</Route>
```

這表示子路由的路徑將會附加到父路由的路徑上。所以在這個範例中，熱門商品的 `path` 將會是 `products/trending`。

如果 `path` 以冒號（`:`）開頭，則表示路由中的動態區段：

```jsx
<Route path=":category" element={<Category />} />
```

在這個範例中，我們有一個名為 `category` 的動態區段。當使用者導覽到像是 `products/brass-instruments` 的 URL 時，畫面將會切換到 `Category` 組件，並且你可以根據該區段動態擷取適當的資料。

你可以在子組件內使用 `useParams` 掛鉤來存取動態區段的值，如下所示：

```jsx
import { useParams } from "react-router";

export default function Category() {
  let params = useParams();
   {/* Accessing the category param: params.category */}
   {/* rest of code goes here */}
}
```

動態路由很有用，因為它們允許你創建靈活且可重複使用的組件，能根據 URL 中的參數呈現不同的內容。你可以使用動態區段來根據使用者的請求呈現各種內容，而不是為每個可能的路由定義固定的路徑列表。

# --questions--

## --text--

React Router 用於什麼？

## --answers--

它用於從你的 React 應用程式中移除動態路由。

### --feedback--

回顧課程開始時討論 React Router 的部分。

---

它用於僅為你的 React 應用程式設定靜態路由。

### --feedback--

回顧課程開始時討論 React Router 的部分。

---

它用於從你的 React 應用程式中移除路由。

### --feedback--

回顧課程開始時討論 React Router 的部分。

---

它用於為你的 React 應用程式添加路由。

## --video-solution--

4

## --text--

哪個掛鉤用於擷取 URL 的動態參數？

## --answers--

`usePar`

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

---

`useParams`

---

`useParameters`

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

---

`usePara`

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

## --video-solution--

2

## --text--

以下哪一項是表述路徑中動態區段的正確方式？

## --answers--

```jsx
<Route path=":category" element={<Category />} />
```

---

```jsx
<Route path="/category" element={<Category />} />
```

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

---

```jsx
<Route path="\category" element={<Category />} />
```

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

---

```jsx
<Route path="?category" element={<Category />} />
```

### --feedback--

回顧課程中討論此內容的最後 1 分鐘。

## --video-solution--

1
