---
id: 6733ffb59c62ee4a23522efe
title: ¿Qué es IndexedDB y cómo funciona?
challengeType: 19
dashedName: what-is-indexeddb-and-how-does-it-work
---

# --interactive--

`IndexedDB` es una herramienta para almacenar datos estructurados en el navegador. Esto está incorporado en los navegadores web modernos, permitiendo que las aplicaciones web almacenen y recuperen objetos de JavaScript de manera eficiente.

A diferencia de otros mecanismos de almacenamiento como `localStorage`, que se limita a almacenar cadenas, `IndexedDB` puede almacenar objetos de JavaScript, archivos y prácticamente cualquier otro tipo de datos. Esto facilita las aplicaciones web que necesitan trabajar con grandes estructuras de datos complejas.

Ahora, veamos cómo funciona `IndexedDB`. 

El primer paso es abrir una base de datos. Aquí tienes un ejemplo:

:::interactive_editor

```js
let request = indexedDB.open("Sample DB", 1);

request.onerror = function(event) {
  console.log("Error opening database");
};

request.onsuccess = function(event) {
  let db = event.target.result;
  console.log("Database opened successfully");
};
```

:::

En este código, abrimos una base de datos llamada `"Sample DB"` con la versión 1. Proporcionamos dos funciones de devolución de llamada: una para manejar errores y otra para cuando la base de datos se abre correctamente. El objeto `db` que obtenemos en la devolución de llamada de éxito es lo que usaremos para interactuar con la base de datos.

Si revisas la interfaz de herramientas de desarrollo del navegador, verás que tu `Sample DB` en la sección `IndexedDB` ha sido abierto. Una vez que tienes tu base de datos abierta, puedes comenzar a trabajar con almacenes de objetos.

Los almacenes de objetos en IndexedDB son similares a las tablas en las bases de datos tradicionales. Contienen los datos reales que deseas almacenar. Aquí tienes cómo crear un almacén de objetos: 

```js
let request = indexedDB.open("Sample DB", 1);

request.onupgradeneeded = function(event) {
  let db = event.target.result;
  let objectStore = db.createObjectStore("customers", { keyPath: "id" });
};
```

Este código crea un almacén de objetos llamado `"customers"` con `"id"` como su ruta de clave. La ruta de clave es similar a una clave primaria en una base de datos tradicional: se usa para identificar de manera única cada registro.

Para agregar datos a nuestro almacén de objetos, haríamos algo como esto. El `db` en este ejemplo representa la instancia de la base de datos `IndexedDB`.

```js
let transaction = db.transaction(["customers"], "readwrite");
let objectStore = transaction.objectStore("customers");
let request = objectStore.add({ id: 1, name: "John Doe", email: "john@example.com" });

request.onerror = function(event) {
  console.log("Error adding data");
};

request.onsuccess = function(event) {
  console.log("Data added successfully");
};
```

Este código agrega un nuevo cliente a nuestro almacén de objetos `"customers"`. Iniciamos una transacción (que es como agrupamos operaciones de base de datos), obtenemos una referencia a nuestro almacén de objetos y luego agregamos nuestros datos.

Recuperar datos funciona de manera similar. Iniciamos una transacción, obtenemos nuestro almacén de objetos y luego usamos métodos como `get` para recuperar datos:

```js
let transaction = db.transaction(["customers"]);
let objectStore = transaction.objectStore("customers");
let request = objectStore.get(1);

request.onerror = function(event) {
  console.log("Error retrieving data");
};

request.onsuccess = function(event) {
  console.log("Customer:", request.result);
};
```

Este código recupera el cliente con `id` de `1` de nuestro almacén de objetos `"customers"`.

Una de las características clave de `IndexedDB` es que es asincrónico.

Esto significa que cuando interactúas con `IndexedDB`, las operaciones no bloquean el hilo principal de la aplicación web. Esto asegura que tu aplicación web permanezca receptiva incluso cuando maneja grandes cantidades de datos.

Aunque `IndexedDB` ofrece capacidades poderosas, tiene una curva de aprendizaje más pronunciada en comparación con otras opciones de API de almacenamiento más simples, lo que puede ser un desafío para los principiantes. Sin embargo, para aplicaciones que necesitan manejar grandes cantidades de datos estructurados en el lado del cliente, `IndexedDB` ofrece capacidades incomparables.

# --questions--

## --text--

¿Cuál es una característica clave de las operaciones de `IndexedDB`?

## --answers--

Siempre son sincrónicos.

### --feedback--

Considera cómo las operaciones de `IndexedDB` interactúan con el hilo principal de una aplicación web.

---

Siempre son asincrónicos.

---

Solo funcionan con datos de cadena.

### --feedback--

Considera cómo las operaciones de `IndexedDB` interactúan con el hilo principal de una aplicación web.

---

Requieren una conexión a internet constante.

### --feedback--

Considera cómo las operaciones de `IndexedDB` interactúan con el hilo principal de una aplicación web.

## --video-solution--

2

## --text--

¿Cuál es la principal ventaja de usar `IndexedDB` sobre `localStorage`?

## --answers--

`IndexedDB` es más fácil de usar.

### --feedback--

Considere los tipos de datos que cada método de almacenamiento puede manejar y cómo esto afecta sus casos de uso.

---

`IndexedDB` admite almacenar objetos complejos de JavaScript directamente.

---

`IndexedDB` es sincrónico.

### --feedback--

Considere los tipos de datos que cada método de almacenamiento puede manejar y cómo esto afecta sus casos de uso.

---

`IndexedDB` es compatible con navegadores antiguos.

### --feedback--

Considere los tipos de datos que cada método de almacenamiento puede manejar y cómo esto afecta sus casos de uso.

## --video-solution--

2

## --text--

En `IndexedDB`, ¿a qué se parece más un almacén de objetos en las bases de datos relacionales tradicionales?

## --answers--

Una base de datos.

### --feedback--

Considera cómo los datos están organizados en `IndexedDB` en comparación con una base de datos SQL tradicional.

---

Una tabla.

---

Una fila.

### --feedback--

Considera cómo los datos están organizados en `IndexedDB` en comparación con una base de datos SQL tradicional.

---

Una columna.

### --feedback--

Considera cómo los datos están organizados en `IndexedDB` en comparación con una base de datos SQL tradicional.

## --video-solution--

2
