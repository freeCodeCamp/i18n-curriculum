---
id: 692aba0a78ca391f10455b4c
title: ES 模組中的匯入和匯出如何運作？
challengeType: 19
dashedName: how-do-imports-and-exports-work-with-es-modules
---

# --description--

既然你已經了解 CommonJS 模組系統，讓我們來看看 ES 模組系統。

ES 模組，或稱 ECMAScript 模組，是由 ECMAScript 規範定義的 JavaScript 官方標準化模組格式。它們使用 `import` 和 `export` 述語，並且在 Node.js 中以非同步方式載入，這樣更高效。

Node.js 在以下情況將檔案視為 ES 模組：

* 具有 `.mjs` 擴充套件的檔案。
    
* 並且當最近的父層 `package.json` 檔案包含頂層 `"type"` 欄位且其值為 `"module"` 時，具有 `.js` 擴充套件的檔案。
    

這裡有你之前看過的相同 `multiply` 函式（程式），但現在我們將使用 ESM 系統。為這個，我們將 `.mjs` 擴充套件指定給兩個模組。

要從 `math.mjs` 模組匯出 `multiply` 函式，請使用 `export` 關鍵字，後面接著你想匯出的函式、變數或物件名稱，並用大括號包住：

```javascript
function multiply(a, b) {
  return a * b;
}

export { multiply };
```

你也可以在 `function` 關鍵字前使用 `export` 關鍵字直接匯出該函式。這稱為命名匯出。每個模組可以有多個命名匯出：

```javascript
export function multiply(a, b) {
  return a * b;
}
```

然後，為了匯入這個模組，使用 `import` 關鍵字，後面接大括號。請注意，我們使用的是 `import` 而不是 `require()`。這是 CommonJS 和 ES 模組之間的主要差異之一。

在大括號內，我們寫下想要匯入的函式、變數或物件名稱。在這個例子中，是 `multiply`。接著，使用 `from` 關鍵字和模組的相對路徑。這段程式碼將會成功執行，輸出結果為 `42`。

```javascript
import { multiply } from './math.mjs';

console.log(multiply(6, 7)); // 42
```

在 ES 系統中，你可以為每個模組設定一個預設匯出。這樣，你就不需要使用大括號來匯入它。

這裡是一個範例，我們將 `multiply` 函式（程式）設定為整個 `math.mjs` 模組的預設匯出：

```javascript
export default function multiply(a, b) {
  return a * b;
}
```

現在我們不需要大括號，因為 `function` 將會被預設匯入並指定：

```javascript
import multiply from './math.mjs';
```

如果你沒有使用副檔名或 `package.json` 檔案來明確告訴 Node.js 你想使用哪種模組系統，它會檢查原始碼以尋找 ES 模組語法。如果找到該語法，它會將程式碼當作 ES 模組來執行；否則，它會將程式碼當作 CommonJS 模組來執行。

雖然 CommonJS 在 Node.js 早期作為預設標準，但隨著開發者越來越多因其效率及與現代 JavaScript 的相容性而採用 ESM，了解它們的差異以及如何同時使用兩者非常重要。

# --questions--

## --text--

在 ES Modules 中，哪個關鍵字用來載入模組？

## --answers--

`require()`

### --feedback--

思考在現代 JavaScript 環境中，使用哪個關鍵字來引入外部程式碼。

---

`module.exports`

### --feedback--

思考在現代 JavaScript 環境中，使用哪個關鍵字來引入外部程式碼。

---

`import`

---

`include()`

### --feedback--

思考在現代 JavaScript 環境中，使用哪個關鍵字來引入外部程式碼。

## --video-solution--

3

## --text--

以下哪一項是將單一值作為 ES 主要匯出的方法？

## --answers--

`module.exports`

### --feedback--

思考哪一種匯出方法用於從模組提供單一的主要值。

---

`exports.add`

### --feedback--

思考哪一種匯出方法用於從模組提供單一的主要值。

---

`export default`

---

`export const`

### --feedback--

思考哪一種匯出方法用於從模組提供單一的主要值。

## --video-solution--

3

## --text--

ECMAScript 模組（ES）主要使用什麼型別的載入？

## --answers--

同步載入

### --feedback--

思考現代瀏覽器如何匯入外部 JavaScript 檔案。

---

延遲載入

### --feedback--

思考現代瀏覽器如何匯入外部 JavaScript 檔案。

---

非同步載入

---

條件載入

### --feedback--

思考現代瀏覽器如何匯入外部 JavaScript 檔案。

## --video-solution--

3
