---
id: 6733694805a85d34ced08a9b
title: setTimeout 和 setInterval 方法如何工作？
challengeType: 19
dashedName: how-do-the-settimeout-and-setinterval-methods-work
---

# --interactive--

在创建你的程序时，你经常会希望某些操作在延迟后发生，或以固定间隔重复执行。这时，`setTimeout()` 和 `setInterval()` 方法就非常有用。这两个方法都接受两个参数：一个函数和一个延迟。

让我们更详细地看看每个方法，这样你就可以开始在你的网页项目中使用它们。 

`setTimeout()` 让你延迟指定时间后执行一个操作。以下是 `setTimeout()` 方法的基本语法：

```js
setTimeout(functionToRun, delay);
```

`functionToRun` 是你想在指定延迟后执行的代码，`delay` 是等待运行该函数的时间（以毫秒为单位）。下面是一个示例：

:::interactive_editor

```js
setTimeout(function () {
 console.log("This runs after 3 seconds");
}, 3000);
```

:::

你也可以使用箭头函数作为回调，像这样：

:::interactive_editor

```js
setTimeout(() => {
 console.log("This runs after 3 seconds"); 
}, 3000);
```

:::

`setInterval()` 会以设定的间隔重复执行一个函数。它就像一个每隔几秒响一次的闹钟。`setInterval()` 非常适合你想让某件事反复发生的时候，比如刷新数据或创建持续移动的动画。

就像 `setTimeout()` 一样，它接受一个函数和一个延迟：

```js
setInterval(functionToRun, delay);
```

`functionToRun` 是你想要重复运行的代码，而 `delay` 是每次执行该函数之间的时间，单位为毫秒。以下是一个示例：

:::interactive_editor

```js
setInterval(() => {
 console.log("This runs every 2 seconds");
}, 2000);

// Result:
// This runs every 2 seconds
// This runs every 2 seconds
// This runs every 2 seconds
// ...
```

:::

由于 `setInterval()` 会在指定的间隔内持续执行提供的函数，你可能想要停止它。为此，你必须使用 `clearInterval()` 方法。

要完成这项工作，`clearInterval()` 需要你想停止的 `setInterval()` 的 ID。这可以是你为该间隔赋值的变量。停止间隔的一种方法是在 `setTimeout()` 内部，因为这将在一定时间后停止间隔：

:::interactive_editor

```js
const intervalID = setInterval(() => {
 console.log("This will stop after 5 seconds");
}, 1000);

setTimeout(() => {
 clearInterval(intervalID);
}, 5000);
```

:::

你也可以使用 `clearTimeout()` 方法停止超时：

:::interactive_editor

```js
let timeoutID = setTimeout(() => {
 console.log("This will not run");
}, 5000);

clearTimeout(timeoutID);
```

:::

使用该代码，`setTimeout()` 将根本不会运行。因此，更优雅的方式是通过 DOM，为按钮添加点击事件监听器以停止超时：

:::interactive_editor

```html
<h1>Cancel Timeout Example</h1>
<button id="cancelButton">Cancel Timeout</button>
<script src="index.js"></script>
```

```js
let timeoutID = setTimeout(() => {
  console.log("This will run if not canceled");
}, 5000);

document
.querySelector("#cancelButton")
.addEventListener("click", () => {
  clearTimeout(timeoutID);
  console.log("Timeout canceled!");
});
```

:::

# --questions--

## --text--

`setTimeout()` 和 `setInterval()` 方法都接受什么参数？

## --answers--

一个变量和一个数字。

### --feedback--

考虑需要执行的内容以及等待的时间。

---

一个函数和一个延迟。

---

一个字串和一个布尔。

### --feedback--

考虑需要执行的内容以及等待的时间。

---

一个循环和一个条件。

### --feedback--

考虑需要执行的内容以及等待的时间。

## --video-solution--

2

## --text--

JavaScript 中的 `setInterval()` 方法是做什么的？

## --answers--

它会在延迟后运行一次函数。

### --feedback--

考虑那个以固定间隔反复运行的函数。

---

它会以设定的间隔重复运行一个函数，就像闹钟每隔几秒响一次。

---

它阻止函数执行。

### --feedback--

考虑那个以固定间隔反复运行的函数。

---

它会暂停一个函数指定的时间。

### --feedback--

考虑那个以固定间隔反复运行的函数。

## --video-solution--

2

## --text--

JavaScript 中的 `setTimeout()` 方法是做什么的？

## --answers--

它延迟指定时间的操作，然后运行一个函数。

---

它在被调用后立即运行一个函数。

### --feedback--

考虑你希望 JavaScript 在执行函数前等待的时间。

---

它以固定间隔重复一个函数。

### --feedback--

考虑你希望 JavaScript 在执行函数前等待的时间。

---

它会在延迟后停止函数的运行。

### --feedback--

考虑你希望 JavaScript 在执行函数前等待的时间。

## --video-solution--

1
