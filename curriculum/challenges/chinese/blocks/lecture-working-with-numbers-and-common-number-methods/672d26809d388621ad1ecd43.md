---
id: 672d26809d388621ad1ecd43
title: isNaN 是如何工作的？
challengeType: 19
dashedName: how-does-isnan-work
---

# --interactive--

在 JavaScript 中，`NaN` 代表“Not a Number”。它是一个特殊值，表现为无法表示或未定义的数值结果。`NaN` 是全局对象的一个属性，同时在 JavaScript 中也被视为一种数字类型，这起初可能看起来有些违反直觉。

`NaN` 通常是应返回数字但无法产生有意义数值的运算结果。 例如：

:::interactive_editor

```js
let result = 0 / 0;
console.log(result); // NaN
```

:::

在这种情况下，零除以零在数学上是未定义的，因此 JavaScript 返回 `NaN` 。 `NaN` 的一个奇特属性是它不等于任何东西，包括它自己：

:::interactive_editor

```js
console.log(NaN === NaN); // false
```

:::

这种独特的行为使得使用标准比较运算符检查一个值是否为 `NaN` 变得非常困难。 为了解决这个问题，JavaScript 提供了 `isNaN()` 函数。 `isNaN()` 函数属性用于确定数值是否为 `NaN`。 不过，了解 `isNaN()` 的工作原理很重要，因为它有时会产生意想不到的结果。 下面是 `isNaN()` 的行为方式：

:::interactive_editor

```js
console.log(isNaN(NaN));       // true
console.log(isNaN(undefined)); // true
console.log(isNaN({}));        // true

console.log(isNaN(true));      // false
console.log(isNaN(null));      // false
console.log(isNaN(37));        // false

console.log(isNaN("37"));      // false: "37" is converted to 37
console.log(isNaN("37.37"));   // false: "37.37" is converted to 37.37
console.log(isNaN(""));        // false: empty string is converted to 0
console.log(isNaN(" "));       // false: string with a space is converted to 0

console.log(isNaN("blabla"));  // true: "blabla" is not a number
```

:::

如你所见，`isNaN()` 首先尝试将参数转换为数字。 如果无法转换，则返回 `true` 。 这种行为可能会导致一些令人惊讶的结果，尤其是在处理可以强制转换成数字的字符串时。

Due to these potential inconsistencies, ES6 (the sixth edition of JavaScript, released in 2015) introduced `Number.isNaN()`. 此方法在测试前不会尝试将参数转换为数字。 只有当值仅为 `NaN` 时，它才会返回 `true` ：

:::interactive_editor

```js
console.log(Number.isNaN(NaN));        // true
console.log(Number.isNaN(Number.NaN)); // true
console.log(Number.isNaN(0 / 0));      // true

console.log(Number.isNaN("NaN"));      // false
console.log(Number.isNaN(undefined));  // false
console.log(Number.isNaN({}));         // false
console.log(Number.isNaN("blabla"));   // false
```

:::

`Number.isNaN()` 提供了一种更可靠的方法来检查 `NaN` 值，尤其是在类型强制可能导致全局 `isNaN()` 函数产生意外结果的情况下。 在实践中，当处理数字运算或应是数字的用户输入时，通常需要检查 `NaN` 以便合理地处理错误或意外输入。 例如：

:::interactive_editor

```js
let a = 0;
let b = 0;
let result = a / b;

if (Number.isNaN(result)) {
  result = "Error: Division resulted in NaN";
}

console.log(result); // "Error: Division resulted in NaN"
```

:::

在这个示例中，我们使用 `Number.isNaN()` 来捕捉除法运算结果为 `NaN` 的情况，从而适当地处理这种情况。 了解 `NaN` 以及如何正确检查它对于编写健壮的 JavaScript 代码至关重要，尤其是在处理数学运算或解析用户输入时。

# --questions--

## --text--

下面代码的输出是什么？

```js
console.log(isNaN("123"));
```

## --answers--

`true`

### --feedback--

考虑一下 `isNaN()` 如何处理可转换为数字的字符串。

---

`false`

---

`undefined`

### --feedback--

考虑一下 `isNaN()` 如何处理可转换为数字的字符串。

---

`NaN`

### --feedback--

考虑一下 `isNaN()` 如何处理可转换为数字的字符串。

## --video-solution--

2

## --text--

以下哪项能正确检查一个值是否恰好是 `NaN`？

## --answers--

`value === NaN`

### --feedback--

想想哪种方法不会在检查前对该值进行类型转换。

---

`isNaN(value)`

### --feedback--

想想哪种方法不会在检查前对该值进行类型转换。

---

`Number.isNaN(value)`

---

`value.isNaN()`

### --feedback--

想想哪种方法不会在检查前对该值进行类型转换。

## --video-solution--

3

## --text--

`NaN === NaN` 的结果是什么？

## --answers--

`true`

### --feedback--

请记住 `NaN` 在比较中的独特属性。

---

`false`

---

`undefined`

### --feedback--

请记住 `NaN` 在比较中的独特属性。

---

`Error`

### --feedback--

请记住 `NaN` 在比较中的独特属性。

## --video-solution--

2
