---
id: 673407be6af21d6766ed4b96
title: Fetch API 如何與常見的 HTTP 方法和 res.json() 一起運作？
challengeType: 19
dashedName: how-does-the-fetch-api-work-with-common-http-methods-and-res-json
---

# --description--

在上一課中，我們了解了 Fetch API 是什麼以及如何使用它。在本課中，我們將討論 Fetch API 的 `GET`、`POST`、`PUT` 和 `DELETE` HTTP 方法。

讓我們從最常見的 HTTP 方法開始，也就是 `GET` 方法。這用於從伺服器擷取資料。當你使用 `fetch()` 而未指定方法時，預設為 `GET`。

```js
fetch('https://api.example.com/data')
```

在這段程式碼中，我們正在對 `https://api.example.com/data` 發出一個 `GET` 請求。現在，請注意你不能直接使用這些資料，你必須將回應轉換成 JSON 格式。只有這樣你才能在你的專案中任何地方使用它。以下是一個如何操作的範例：

```js
fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => console.log(data))
```

在這段程式碼中，來自 Fetch API 的回應是一個 promise，我們使用 `.then` 處理常式將回應轉換成 JSON 格式。在之前的課程中，你學到 `Promise` 是一個物件，表述非同步處理程序最終完成（或失敗）及其值。

當 `promise` 被創建時，其值是未知的。只有當非同步處理程序完成時，才會知道其值。當我們將兩個 `.then` 處理常式串接到 `fetch` 呼叫時，這稱為 `promise` 串鏈，將在下一課中講解。

到目前為止，我們一直從伺服器擷取資源。但是，你知道我們也可以將資料傳送到伺服器嗎？`POST` 方法用於將資料傳送到伺服器以創建資源。以下是一個使用 `POST` 方法將資料創建到伺服器的範例： 

```js
fetch('https://api.example.com/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Doe',
    email: 'john@example.com'
  })
})
```

在這個範例中，我們正在發送一個 `POST` 請求以創建一個新的使用者。我們將方法指定為 `POST`，設定適當的標頭，並包含一個帶有我們想要傳送的資料的 `body`。`body` 需要是一個字串，因此我們使用 `JSON.stringify()` 將我們的物件轉換成 JSON 字串。

`PUT` 方法用於更新伺端的現有資源。以下是一個範例： 

```js
fetch('https://api.example.com/users/45', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: 'John Smith',
    email: 'john@example.com'
  })
})
```

在這個範例中，仔細看 URL，你可以看到結尾有一個 `45`。這通常用作唯一 ID 來識別我們試圖更新的資料。我們在程式碼中使用了 `PUT` 方法，並且也指定了作為 `body` 的資料，將用來更新被識別的資料。 

`DELETE` 方法用於從伺服器刪除資源。以下是一個範例：

```js
fetch('https://api.example.com/users/45', {
  method: 'DELETE',
})
```

在這段程式碼中，我們包含了 `DELETE` 方法和 url 結尾的 ID，以識別需要刪除的資料。 

# --questions--

## --text--

如果未指定，`fetch()` 使用的預設 HTTP 方法是什麼？

## --answers--

`POST`

### --feedback--

思考從伺服端擷取資料時最常見的操作行為。

---

`GET`

---

`PUT`

### --feedback--

思考從伺服端擷取資料時最常見的操作行為。

---

`DELETE`

### --feedback--

思考從伺服端擷取資料時最常見的操作行為。

## --video-solution--

2

## --text--

當使用 `fetch()` 以 `POST` 請求傳送資料時，你需要在將資料包含在主體之前對資料做什麼？

## --answers--

加密它。

### --feedback--

考慮在請求主體中傳送資料時需要如何格式化。

---

壓縮它。

### --feedback--

考慮在請求主體中傳送資料時需要如何格式化。

---

將它轉換為 JSON 字串。

---

將其進行 Base64 編碼。

### --feedback--

考慮在請求主體中傳送資料時需要如何格式化。

## --video-solution--

3

## --text--

`response.json()` 方法做什麼？

## --answers--

將 JSON 資料傳送到伺服器。

### --feedback--

思考從伺服器取得的資料如何需要被處理程序才能在 JavaScript 中可用。

---

創建一個新的 JSON 物件。

### --feedback--

思考從伺服器取得的資料如何需要被處理程序才能在 JavaScript 中可用。

---

將回應主體解析為 JSON。

---

驗證回應是否為 JSON 格式。

### --feedback--

思考從伺服器取得的資料如何需要被處理程序才能在 JavaScript 中可用。

## --video-solution--

3
