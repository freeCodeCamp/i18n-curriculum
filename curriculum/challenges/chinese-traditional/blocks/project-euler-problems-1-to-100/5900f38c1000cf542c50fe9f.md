---
id: 5900f38c1000cf542c50fe9f
title: '問題 32：全數字乘積'
challengeType: 1
forumTopicId: 301976
dashedName: problem-32-pandigital-products
---

# --description--

我們稱一個 `n` 位數字為全數字 pandigital，如果它恰好使用了從 1 到 `n` 的所有數字各一次；例如，5 位數字 15234 是從 1 到 5 的 pandigital。

產品 7254 很特別，因為恆等式 39 × 186 = 7254 中的被乘數、乘數和積合起來是 1 到 9 的全數字。

找出所有乘數/被乘數/乘積恆等式，其可寫成 1 到 `n` 的全排列數字的乘積總和。

**提示：** 有些產品可以透過多種方式獲得，因此請確保在你的總和中只包含一次。

# --hints--

`pandigitalProducts(4)` 應該傳回一個數字。

```js
assert(typeof pandigitalProducts(4) === 'number');
```

`pandigitalProducts(4)` 應該傳回 `12`。

```js
assert.strictEqual(pandigitalProducts(4), 12);
```

`pandigitalProducts(6)` 應該傳回 `162`。

```js
assert.strictEqual(pandigitalProducts(6), 162);
```

`pandigitalProducts(7)` 應該傳回 `0`。

```js
assert.strictEqual(pandigitalProducts(7), 0);
```

`pandigitalProducts(8)` 應該傳回 `13458`。

```js
assert.strictEqual(pandigitalProducts(8), 13458);
```

`pandigitalProducts(9)` 應該傳回 `45228`。

```js
assert.strictEqual(pandigitalProducts(9), 45228);
```

# --seed--

## --seed-contents--

```js
function pandigitalProducts(n) {

  return true;
}

pandigitalProducts(4);
```

# --solutions--

```js
// Check for pandigital number
function isPandigital(digitStr) {
  return digitStr
    .split('')
    .sort()
    .every((c, i) => c == i + 1);
}

// Concatenate 3 numbers
function concatenate3Nums(a, b, c) {
  return a.toString() + b.toString() + c.toString();
}

// Find sum of all pandigital products
function pandigitalProducts(n) {
  const products = [];
  let sum = 0;
  const max = Number(Array(n)
    .fill(0)
    .map((_, i) => (n - i).toString())
    .join(''));
  const outerLimit = Math.sqrt(max);

  for (let factor1 = 2; factor1 < outerLimit; factor1++) {
    const innerLimit = max / factor1;

    for (let factor2 = factor1; factor2 < innerLimit; factor2++) {
      const product = factor1 * factor2;
      const concatenated = concatenate3Nums(factor1, factor2, product);

      if (concatenated.length > n) {
        break;
      } else if (concatenated.length == n &&
        isPandigital(concatenated) &&
        !products.includes(product)
      ) {
        products.push(product);
        sum += product;
      }
    }
  }
  return sum;
}
```
