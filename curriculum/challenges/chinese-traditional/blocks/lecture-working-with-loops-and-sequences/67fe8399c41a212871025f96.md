---
id: 67fe8399c41a212871025f96
title: 什麼是列表以及它們如何運作？
challengeType: 19
dashedName: what-are-lists-and-how-do-they-work
---

# --description--

在接下來的幾堂課中，我們將學習列表、元組和範圍，這三種是 Python 中使用的基本序列型別。

列表資料型別是一個有序的元素序列，元素可以由字串、數字，甚至其他列表組成。列表是可變的，並使用從零開始的索引，這表示列表的第一個元素位於索引零。

以下是列表的基本語法：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

要從 `cities` 列表中存取元素，你可以取用其在序列中的索引編號。以下是存取 `cities` 列表中第一個元素的範例：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[0] # 'Los Angeles'
```

負索引用於從列表的末端開始存取元素，而不是從索引 `0` 的開頭開始。要存取任何列表的最後一個元素，你可以像這樣使用 `-1`：

```py
cities = ['Los Angeles', 'London', 'Tokyo']
cities[-1] # 'Tokyo'
```

另一種建立列表的方法是使用 `list()` 建構式。`list()` 建構式用於將可迭代物件轉換成列表，如下所示：

```py
developer = 'Jessica'
list(developer) # ['J', 'e', 's', 's', 'i', 'c', 'a']
```

可迭代物件是一種特殊型別的物件，可以一次迭代一個項目。你稍後會學到更多關於 Python 中的迴圈。

要取得列表中元素的總數，你可以像這樣使用 `len()` 函式（程式）：

```py
numbers = [1, 2, 3, 4, 5]
len(numbers) # 5
```

如果你想要更新特定索引處的值，你可以這樣做：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[0] = 'JavaScript'
print(programming_languages) # ['JavaScript', 'Java', 'C++', 'Rust']
```

由於列表是可變的，只要你傳入有效的索引數字，就可以更新列表中的任何元素。如果你傳入的索引（無論是正數還是負數）超出列表範圍，則會收到 `IndexError`：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']
programming_languages[10] = 'JavaScript'

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
IndexError: list assignment index out of range
"""
```

如果你想從列表中移除一個元素，你可以像這樣使用 `del` 關鍵字：

```py
developer = ['Jane Doe', 23, 'Python Developer']
del developer[1]
print(developer) # ['Jane Doe', 'Python Developer']
```

有時候檢查一個元素是否在列表中會很有幫助。為此，你可以像這樣使用 `in` 關鍵字：

```py
programming_languages = ['Python', 'Java', 'C++', 'Rust']

'Rust' in programming_languages # True
'JavaScript' in programming_languages # False
```

有時候，常見的情況是列表巢狀在其他列表內，如下所示：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
```

在此範例中，我們有一個巢狀列表，包含三個熱門的程式設計語言。要存取巢狀列表，你需要使用索引 `2` 來存取它，因為列表是從零開始編號的：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2] # ['Python', 'Rust', 'C++']
```

然後，若要從該巢狀列表中存取第二種語言，你需要使用索引 `1` 來存取，如下所示：

```py
developer = ['Alice', 25, ['Python', 'Rust', 'C++']]
developer[2][1] # 'Rust'
```

另一個常見用於列表的技巧是解包值。

從列表中解包值是一種用來將列表中的值指定到新變數的技巧。以下是一個將 `developer` 列表解包到名為 `name`、`age` 和 `job` 的新變數的範例。 

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job = developer

print(name) # 'Alice'
print(age) # 34
print(job) # 'Rust Developer'
```

這裡，`name` 的值是 `'Alice'`，`age` 的值是 `34`，而 `job` 的值是 `'Rust Developer'`。

如果你需要從列表中收集任何剩餘的元素，你可以像這樣使用星號（`*`）運算子：

```py
developer = ['Alice', 34, 'Rust Developer']
name, *rest = developer

print(name) # 'Alice'
print(rest) # [34, 'Rust Developer']
```

在這個範例中，`name` 仍然會有值 `'Alice'`，而 `rest` 是一個包含兩個項目的列表：數字 `34` 和字串 `'Rust Developer'`。

如果指定運算子左側的變數數量與列表中項目的總數不符，則你會收到 `ValueError`：

```py
developer = ['Alice', 34, 'Rust Developer']
name, age, job, city = developer

"""
Traceback (most recent call last):
  File "<stdin>", line 2, in <module>
ValueError: not enough values to unpack (expected 4, got 3)
"""
```

我們將要看的最後一個概念是切片運算子（`:`）。類似於字串，你可以使用切片運算子這樣存取列表的部分內容：

```py
desserts = ['Cake', 'Cookies', 'Ice Cream', 'Pie', 'Brownies']
desserts[1:4] # ['Cookies', 'Ice Cream', 'Pie']
```

在這個範例中，起始索引是 `1`，因為那指向列表中的第二個項目。接著我們使用切片運算子，後面跟著結束索引 `4`，這會包含直到該索引（但不包括該索引）的所有項目。

你可以用切片運算子 `:` 做的另一件事是指定步進間隔，這決定了索引之間遞增的幅度。假設你有一個像這樣的數字列表：

```py
numbers = [1, 2, 3, 4, 5, 6]
```

如果你想要擷取只有偶數的列表，你可以像這樣使用切片運算子：

```py
numbers = [1, 2, 3, 4, 5, 6]
numbers[1::2] # [2, 4, 6]
```

第一個偶數位於索引 `1`，所以那將是起始索引。由於我們想要遍歷列表的結尾，因此我們省略結束索引。最後，我們為選用的步進間隔指定 `2`，因此它將只以 `2` 遞增，而不是預設值 `1`。

列表是有用且靈活的資料結構，你會在你的 Python 程式中大量使用。在下一課中，你將學習可以用於列表的常用方法。

# --questions--

## --text--

以下關於列表的敘述何者正確？

## --answers--

它們是以二為基底的索引。

### --feedback--

請取用課程開始部分的答案。

---

它們是從零開始編號的。

---

它們只用於類別內部。 

### --feedback--

請取用課程開始部分的答案。

---

它們在 Python 程式中很少使用。

### --feedback--

請取用課程開始部分的答案。

## --video-solution--

2

## --text--

以下哪一種方式是正確存取列表中第二個元素的方法？

```py
cities = ['Los Angeles', 'London', 'Tokyo']
```

## --answers--

`cities[1]`

---

`cities[2]`

### --feedback--

請取用課程開始部分的答案。

---

`cities[0]`

### --feedback--

請取用課程開始部分的答案。

---

`cities[-1]`

### --feedback--

請取用課程開始部分的答案。

## --video-solution--

1

## --text--

以下哪一種方式是正確的從尾端存取第二個元素？

```py
numbers = [1, 2, 3, 4, 5, 6]
```

## --answers--

`numbers[-5]`

### --feedback--

請記住，負索引用於從結尾開始存取元素。

---

`numbers[2]`

### --feedback--

請記住，負索引用於從結尾開始存取元素。

---

`numbers[0]`

### --feedback--

請記住，負索引用於從結尾開始存取元素。

---

`numbers[-2]`

## --video-solution--

4
