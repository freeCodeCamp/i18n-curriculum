---
id: 587d7db2367417b2b2512b8a
title: >-
  Use Closure to Protect Properties Within an Object from Being Modified
  Externally
challengeType: 1
forumTopicId: 18234
dashedName: >-
  use-closure-to-protect-properties-within-an-object-from-being-modified-externally
---

# --description--

在前一個挑戰中，`bird` 有一個公開屬性 `name`。它被視為公開是因為它可以在 `bird` 的定義之外被存取和更改。

```js
bird.name = "Duffy";
```

因此，你的程式碼中的任何零件都可以輕鬆地將 `bird` 的名稱更改為任何值。想想像密碼和銀行帳戶這類東西，若被程式碼庫中的任何零件輕易更改，可能會造成許多問題。

將此公開屬性設為私有的最簡單方法是於建構式函式內建立一個變數。這會將該變數的作用域改為建構式函式內，而非全域的。如此一來，該變數只能被同樣位於建構式函式內的方法存取和修改。

```js
function Bird() {
  let hatchedEgg = 10;

  this.getHatchedEggCount = function() { 
    return hatchedEgg;
  };
}
let ducky = new Bird();
ducky.getHatchedEggCount();
```

這裡 `getHatchedEggCount` 是一個特權方法，因為它可以存取私有變數 `hatchedEgg`。這是可能的，因為 `hatchedEgg` 是在與 `getHatchedEggCount` 相同的背景關係中宣告的。在 JavaScript 中，函式總是可以存取它被創建時的背景關係。這稱為 `closure`。

# --instructions--

更改 `Bird` 函式中 `weight` 的宣告方式，使其成為私有變數。然後，創建一個 `getWeight` 方法，傳回 `weight` 的值 15。

# --hints--

`weight` 屬性應該是私有變數，並且應該被指定為 `15` 的值。

```js
assert(__helpers.removeJSComments(code).match(/(var|let|const)\s+weight\s*\=\s*15\;?/g));
```

你的程式碼應該在 `Bird` 中創建一個名為 `getWeight` 的方法，該方法傳回私有變數 `weight` 的值。

```js
assert(new Bird().getWeight() === 15);
```

你的 `getWeight` 函式應該傳回私有變數 `weight`。

```js
assert(__helpers.removeJSComments(code).match(/((return\s+)|(\(\s*\)\s*\=\>\s*))weight\;?/g));
```

# --seed--

## --seed-contents--

```js
function Bird() {
  this.weight = 15;


}
```

# --solutions--

```js
function Bird() {
  let weight = 15;

  this.getWeight = () => weight;
}
```
