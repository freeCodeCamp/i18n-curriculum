---
id: 6733aad43b3ebff588a26fb5
title: 什麼是正規表達式，以及有哪些常見的方法？
challengeType: 19
dashedName: what-are-regular-expressions-and-what-are-some-common-methods
---

# --interactive--

正規表達式，或稱 regex，是許多不同程式語言所支援的特性。

正規表達式是一種特殊的語法，用來創建「樣式」，你可以用它來比對字串、擷取文字，等等。

讓我們來看看一個基本的正規表達式：

```js
const regex = /freeCodeCamp/;
```

請注意，在 JavaScript 中，你是透過在兩個斜線（`/`）之間建立你的樣式來定義正規表達式。請勿將此與註解混淆，因為註解的文字是在兩個斜線之後。

這個特定的正規表達式會在字串中任何地方匹配帶有大寫 `C` 的文字 `freeCodeCamp`。但是你實際上要怎麼做到這一點呢？

這就帶我們來到第一個方法——`test()` 方法。`test()` 方法存在於 `RegExp` 物件上，這些物件是表述正規表達式的物件（例如我們剛剛定義的那個）。

`test()` 方法接受一個字串，該字串是用來測試是否符合正規表達式的字串。 例如，讓我們嘗試測試字串 `e`：

:::interactive_editor

```js
const regex = /freeCodeCamp/;
const test = regex.test("e");
console.log(test);
```

:::

你可以看到我們已經在新的 regex 上呼叫了 `test()` 方法，並將字串 `e` 作為引數傳遞。 

`test()` 方法傳回 `false`，因為字串 `e` 不符合樣式 `freeCodeCamp`。即使樣式 `freeCodeCamp` 包含字母 `e`，那是與正規表達式的運作方向相反的。

讓我們再看幾個範例。花點時間思考這些：

:::interactive_editor

```js
const regex = /freeCodeCamp/;
console.log(regex.test("freeCodeCamp"));
console.log(regex.test("freeCodeCamp is great"));
console.log(regex.test("I love freeCodeCamp"));
console.log(regex.test("freecodecamp"));
console.log(regex.test("FREECODECAMP"));
console.log(regex.test("free"));
console.log(regex.test("code"));
console.log(regex.test("camp"));
```

:::

注意前面三個傳回 `true` 的字串。這些字串都包含字串中某處完全相同的文字 `freeCodeCamp`。 

第 5 行和第 6 行傳回 `false`。雖然它們包含文字 `freecodecamp`，但大小寫不符。預設情況下，正規表達式區分大小寫。

最後，雖然最後三個包含樣式的一部分，但字串並不包含整個樣式。

`test()` 方法會傳回一個布林值，表示字串是否完全符合正規表達式。

但是如果你想要比那更多的資訊呢？字串有一個 `match()` 方法。這個方法接受一個正規表達式，雖然你也可以傳入一個字串，該字串將會被建構成正規表達式。

`match()` 傳回該字串的比對陣列。什麼是比對陣列？那麼，讓我們來看看：

```js
const regex = /freeCodeCamp/;
const match = "freeCodeCamp".match(regex);
console.log(match);
```

如果我們執行這個，我們會得到一個陣列回傳！但這是一個看起來很奇怪的陣列。它有一些額外的屬性：

```js
// [
//   'freeCodeCamp',
//   index: 0,
//   input: 'freeCodeCamp',
//   groups: undefined
// ]
```

`groups` 屬性會顯示任何捕捉到的群組。你將在未來的課程中學習這是什麼意思。

`index` 屬性告訴你在字串中的哪個字元找到匹配項。在我們的例子中，它是在字串的開頭找到的。

`input` 屬性告訴你 `match()` 方法被呼叫的字串。

讓我們再試幾次，看看結果如何改變：

```js
const regex = /freeCodeCamp/;
console.log("freeCodeCamp".match(regex)); // ['freeCodeCamp', index: 0, input: 'freeCodeCamp', groups: undefined]
console.log("freeCodeCamp is great".match(regex)); // ['freeCodeCamp', index: 0, input: 'freeCodeCamp is great', groups: undefined]
console.log("I love freeCodeCamp".match(regex)); // ['freeCodeCamp', index: 7, input: 'I love freeCodeCamp', groups: undefined]
console.log("freecodecamp".match(regex)); // null
console.log("FREECODECAMP".match(regex)); // null
console.log("free".match(regex)); // null
```

我們已經知道前面三個字串應該會產生匹配，所以讓我們來看看那些：

```js
// ['freeCodeCamp', index: 0, input: 'freeCodeCamp', groups: undefined]
// ['freeCodeCamp', index: 0, input: 'freeCodeCamp is great', groups: undefined]
// ['freeCodeCamp', index: 7, input: 'I love freeCodeCamp', groups: undefined]
```

那是你預期的結果嗎？你可以看到 `input` 和 `index` 如何根據提供的字串以及字串中匹配的位置而改變。 

其他三行不符合的，會傳回 `null` 而非陣列。

現在我們可以使用正規表達式來測試和比對字串，如果我們想要取代字串的內容該怎麼辦？也許有人把 `freecodecamp` 全部寫成小寫，我們想要自動幫他們修正大小寫。

首先，我們需要更新我們的正規表達式以符合 `freecodecamp` 的小寫形式，並創建我們的測試字串：

```js
const regex = /freecodecamp/;
const str = "freecodecamp is rly kewl";
```

現在，字串有一個 `replace()` 方法，該方法接受兩個引數：用來匹配的正規表達式（如果你不需要正規表達式的所有特性，也可以是字串），以及用來取代匹配結果的字串（或對每個匹配執行的函式）。 

所以如果我們想要用正確的大小寫取代 `freecodecamp`：

:::interactive_editor

```js
const regex = /freecodecamp/;
const str = "freecodecamp is rly kewl";
const replaced = str.replace(regex, "freeCodeCamp");
console.log(replaced);
```

:::

你可以看到 `replace()` 傳回已取代符合樣式的更新字串。

正規表達式，以及所有相關的 `methods`，看起來可能複雜且令人不知所措。但你將有機會在接下來的課程中進一步探索它們。

# --questions--

## --text--

在 JavaScript 中，基本的正規表達式如何定義？ 

## --answers--

使用單引號：`'pattern'`

### --feedback--

本課程展示定義正規表達式的特定語法。

---

使用雙引號：`"pattern"`

### --feedback--

本課程展示定義正規表達式的特定語法。

---

使用正斜線：`/pattern/`

---

使用小括弧：`(pattern)`

### --feedback--

本課程展示定義正規表達式的特定語法。

## --video-solution--

3

## --text--

當 `test()` 方法與正規表達式一起使用時，會傳回什麼？ 

## --answers--

一個符合項目的陣列。

### --feedback--

思考 `test()` 方法提供什麼類型的結果。

---

一個布林值。

---

符合的字串。

### --feedback--

思考 `test()` 方法提供什麼類型的結果。

---

比賽的索引。

### --feedback--

思考 `test()` 方法提供什麼類型的結果。

## --video-solution--

2

## --text--

當你對不包含匹配項的字串使用帶有正則表達式的 `match()` 方法時會發生什麼？

## --answers--

它傳回一個空的陣列。

### --feedback--

本課程描述 `match()` 對不匹配字串的結果。

---

它傳回 `false`。

### --feedback--

本課程描述 `match()` 對不匹配字串的結果。

---

它會傳回 `null`。

---

它會丟出錯誤。

### --feedback--

本課程描述 `match()` 對不匹配字串的結果。

## --video-solution--

3
