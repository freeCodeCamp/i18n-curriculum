---
id: 5900f4b31000cf542c50ffc6
title: 'Problema 327: Habitaciones de la Perdición'
challengeType: 1
forumTopicId: 301984
dashedName: problem-327-rooms-of-doom
---

# --description--

Una serie de tres habitaciones están conectadas entre sí por puertas automáticas.

<img alt="series of three rooms, connected to each other by automatic doors" src="https://cdn.freecodecamp.org/curriculum/project-euler/rooms-of-doom.gif" style="background-color: white; padding: 10px; display: block; margin-right: auto; margin-left: auto; margin-bottom: 1.2rem;">

Cada puerta se opera con una tarjeta de seguridad. Una vez que entras a una habitación, la puerta se cierra automáticamente y esa tarjeta de seguridad no puede usarse nuevamente. Una máquina dispensará un número ilimitado de tarjetas al inicio, pero cada habitación (incluida la habitación inicial) contiene escáneres. Si detectan que tienes más de tres tarjetas de seguridad o si detectan una tarjeta de seguridad desatendida en el suelo, entonces todas las puertas se bloquearán permanentemente. Sin embargo, cada habitación contiene una caja donde puedes guardar de forma segura cualquier cantidad de tarjetas de seguridad para usarlas más adelante.

Si simplemente intentaras viajar por las habitaciones una a la vez, al entrar en la habitación 3 habrías usado las tres tarjetas y quedarías atrapado en esa habitación para siempre.

Sin embargo, si usas las cajas de almacenamiento, entonces es posible escapar. Por ejemplo, podrías entrar a la habitación 1 usando tu primera tarjeta, colocar una tarjeta en la caja de almacenamiento y usar tu tercera tarjeta para salir de la habitación y regresar al inicio. Luego, después de recoger tres tarjetas más de la máquina dispensadora, podrías usar una para entrar a la habitación 1 y recoger la tarjeta que colocaste en la caja hace un momento. Ahora tienes tres tarjetas nuevamente y podrás viajar a través de las tres puertas restantes. Este método te permite viajar por las tres habitaciones usando un total de seis tarjetas de seguridad.

Es posible viajar por seis habitaciones usando un total de 123 tarjetas de seguridad mientras llevas un máximo de 3 tarjetas.

Sea $C$ el número máximo de cartas que se pueden llevar en cualquier momento.

Sea $R$ el número de habitaciones por las que debes pasar.

Sea $M(C, R)$ el número mínimo de tarjetas requeridas de la máquina expendedora para recorrer $R$ habitaciones llevando hasta un máximo de $C$ tarjetas en cualquier momento.

Por ejemplo, $M(3, 6) = 123$ y $M(4, 6) = 23$.

Y, $\sum M(C, 6) = 146$ para $3 ≤ C ≤ 4$.

Se te da que $\sum M(C, 10) = 10382$ para $3 ≤ C ≤ 10$.

Encuentra $\sum M(C, 30)$ para $3 ≤ C ≤ 40$.

# --hints--

`roomsOfDoom()` debería devolver `34315549139516`.

```js
assert.strictEqual(roomsOfDoom(), 34315549139516);
```

# --seed--

## --seed-contents--

```js
function roomsOfDoom() {

  return true;
}

roomsOfDoom();
```

# --solutions--

```js
// solution required
```
