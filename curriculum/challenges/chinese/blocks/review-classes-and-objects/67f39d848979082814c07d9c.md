---
id: 67f39d848979082814c07d9c
title: 类和对象复习
challengeType: 31
dashedName: review-classes-and-objects
---

# --description--

## Python 类和对象

- **类定义**：类是创建对象的蓝图。它通过其属性和方法定义对象将具有的行为。以下是 Python 中类定义的基本示例：

```python
class Dog:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def bark(self):
        print(f'{self.name.upper()} says woof woof!')
```

- **创建对象**：对象是类的实例。它们通过使用必要的参数调用类来创建。

```python
dog1 = Dog('Jack', 3)
dog2 = Dog('Thatcher', 5)

dog1.bark()  # JACK says woof woof!
dog2.bark()  # THATCHER says woof woof!
```

- **使用对象调用方法**：你可以在对象上调用方法以执行操作或检索信息。

```python
objectName1.methodName()
objectName2.methodName()
```

- **类和对象之间的区别**：类是一个可重用的模板，而对象是该类具有实际数据的特定实例。

## 属性

- **实例属性**：在 `__init__()` 中使用 `self` 定义，并且对每个对象都是唯一的。
- **类属性**：直接在类内部定义，并由所有实例共享。

```python
class Dog:
    species = 'French Bulldog'  # Class attribute

    def __init__(self, name):
        self.name = name  # Instance attribute

print(Dog.species) # French Bulldog

jack = Dog('Jack')
print(jack.name)     # Jack
print(jack.species)  # French Bulldog
```

## 方法

- **方法**：定义在类内部、作用于对象属性的函数。

```python
class Car:
    def __init__(self, color, model):
        self.color = color
        self.model = model

    def describe(self):
        return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
print(my_car_1.describe())  # This car is a red Tesla Model S
```

- **访问方法**：使用点符号调用对象上的方法。以下是调用两个不同汽车对象的 `describe` 方法的示例：

```python
class Car:
 def __init__(self, color, model):
   self.color = color  
   self.model = model  

 def describe(self):
   return f'This car is a {self.color} {self.model}'

my_car_1 = Car('red', 'Tesla Model S')
my_car_2 = Car('green', 'Lamborghini Revuelto')

print(my_car_1.describe()) # Calling methods using the dot notation

print(my_car_2.describe()) # Calling methods using the dot notation
```

## 双下划线（魔术）方法

- **定义**：以双下划线开头和结尾的特殊方法（例如，`__init__`、`__len__`、`__str__`、`__eq__`）。Python 在内部使用它们来执行内置操作。

```python
class Book:
    def __init__(self, title, pages):
        self.title = title
        self.pages = pages

    def __len__(self):
        return self.pages

    def __str__(self):
        return f"'{self.title}' has {self.pages} pages"

    def __eq__(self, other):
        return self.pages == other.pages

book1 = Book('Built Wealth Like a Boss', 420)
print(len(book1))        # 420
print(str(book1))        # 'Built Wealth Like a Boss' has 420 pages
```

- **间接调用 dunder 方法**：你不需要直接调用 dunder 方法。相反，当发生某些操作时，Python 会自动调用它们。这些操作包括：

  - **算术操作，如加法、减法、乘法、除法和其他操作**。此外，会调用 `__add__()`，减法调用 `__sub__()`，乘法调用 `__mul__()`，除法调用 `__truediv__()`。
        
  - **像串接、重复、格式化和转换为文本的字串操作**。`__add__()` 用于串接，`__mul__()` 用于重复，`__format__()` 用于格式化，`__str__()` 和 `__repr__()` 用于文本转换，等等。
        
  - **比较操作，如相等、小于、大于和其他**。`__eq__()` 用于相等性查看，`__lt__()` 用于小于，`__gt__()` 用于大于，依此类推。
        
  - **迭代操作，例如使对象可迭代和遍历项**。调用 `__iter__()` 来返回迭代器，调用 `__next__()` 来获取下一项。

## 真实世界示例：购物车

- **带有双下划线方法的 Cart 类**：允许添加、移除、迭代和查看内容，具有内置行为。

```python
class Cart:
    def __init__(self):
        self.items = []

    def add(self, item):
        self.items.append(item)

    def remove(self, item):
        if item in self.items:
            self.items.remove(item)
        else:
            print(f'{item} is not in cart')

    def list_items(self):
        return self.items

    def __len__(self):
        return len(self.items)

    def __getitem__(self, index):
        return self.items[index]

    def __contains__(self, item):
        return item in self.items

    def __iter__(self):
        return iter(self.items)

cart = Cart()
cart.add('Laptop')
print(len(cart))        # 1
print('Laptop' in cart) # True
```

# --assignment--

复习 `Classes` 和 `Objects` 主题和概念。
