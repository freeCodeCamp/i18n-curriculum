---
id: 672aa62178d5ff57fe4f98e0
title: 什麼是 CSS 特異性，以及行內、內部和外部 CSS 的特異性？
challengeType: 19
dashedName: what-is-css-specificity-and-the-specificity-for-inline-internal-and-external-css
---

# --interactive--

CSS 特異性是一個基本概念，用來決定當多個規則可能套用時，哪一個樣式會被套用到元素上。

理解特異性有助於開發者決議不同 CSS 規則之間的衝突，並確保所需的樣式能持續套用。

CSS 特異性是根據所使用的選擇器型別計算的。

最高的特異性歸因於行內樣式，這些樣式是透過 `style` 屬性直接套用到元素上的。

在這個範例中，第一段文字會是紅色，而其他的 `p` 元素會是藍色。這是因為行內樣式的特異性比像 `styles.css` 檔案中所示的 `p` 選擇器這類型別選擇器還要高。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p style="color: red;">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
p {
  color: blue;
}
```

:::

接著，ID 選擇器具有較高的特異性層次。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Red paragraph</p>
<p>Other paragraph</p>
<p>Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::

接著，類別選擇器、屬性選擇器和偽類開始發揮作用。

範例包括類別選擇器如 `.container` 和 `.button`、屬性選擇器如 `[type="text"]`，以及偽類別如 `:hover`。這些具有中等層級的特異性。

**注意**：你將在未來的課程中學習更多關於偽類別的內容。

在此範例中，第一段文字將會是紅色，因為 `id` 選擇器的特異性高於類別和型別選擇器。`.example-para` 元素將會是綠色，而其餘的段落元素將會是藍色。 

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p class="example-para">Other paragraph</p>
<p class="example-para">Another paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

.example-para {
  color: green;
}

p {
  color: blue;
}
```

:::

型別選擇器，例如 `div` 和 `h1`，以及偽元素如 `::before` 和 `::after`，與先前的群組相比具有較低的特異性。

**注意**：你將在未來的課程中學習更多關於偽元素的知識。

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
#para {
  color: red; 
}

p {
  color: blue;
}
```

:::

最後，通用選擇器，由星號 `*` 表示，具有所有選擇器中最低的特異性。

以下是使用 `*` 選擇器將所有元素的顏色設為紅色的範例。不過你不會看到任何紅色元素，因為有 ID 和型別選擇器改寫那些樣式，這凸顯標示了 `*` 選擇器的低特異性。 

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">

<p id="para">Example paragraph</p>
<p>Other paragraph</p>
<p>Yet another paragraph</p>
```

```css
* {
  color: red;
}

#para {
  color: green; 
}

p {
  color: blue;
}
```

:::

特異性值計算為四個零件的值 `(a, b, c, d)`：

- `a`：行內樣式（`1` 或 `0`）。
- `b`：ID 選擇器的數量。
- `c`：類別選擇器、屬性選擇器和偽類的數量。
- `d`：型別選擇器、偽元素和通用選擇器的數量。

每個 specificity 值的零件承載不同的權重：

- **行內樣式**（`a`）具有最高權重，對特異性值的第一零件貢獻值為 `1`。
    
- **ID 選擇器** (`b`) 擁有次高的權重，每個 ID 為特異性值的第二個零件貢獻 `1`。
    
- **類別選擇器、屬性選擇器和偽類**（`c`）具有中等權重，每個對特異性值的第三部分貢獻 `1`。
    
- **型別選擇器和偽元素**（`d`）的權重最低，每個對特異性值的第四零件貢獻 `1`。
    
- **通用選擇器**（`*`）：通用選擇器在特異性計算中貢獻 `0`，且不影響特異性。它在選擇器中的包含不會改變特異性值。

行內 CSS 擁有最高的特異性，因為它是直接套用到元素上。它會改寫任何內部或外部的 CSS。行內樣式的特異性值為 `(1, 0, 0, 0)`。

這是另一個行內樣式的範例：

:::interactive_editor

```html
<p style="color: red;">This text is red.</p>
```

:::

內部 CSS 定義在 HTML 文件的 `head` 區段中的 `style` 元素內。它的特異性低於行內樣式，但可以改寫外部樣式。

內部樣式的特異性值由所使用的選擇器決定。例如，內部 CSS 中的 ID 選擇器具有 `(0, 1, 0, 0)` 的特異性值。

:::interactive_editor

```html
<head>
  <style>
    #text {
      color: blue;
    }
  </style>
</head>
<body>
  <div id="text">This text is blue.</div>
</body>
```

:::

在這個範例中，文字將會是藍色，除非套用了行內樣式或更具特異性的外部樣式。

外部 CSS 是透過 `head` 區段中的 `link` 元素聯結，並寫在獨立的 `.css` 檔案中。它具有最低的特異性，但為較大型專案提供最佳的維護性。

外部樣式的特異性值也由所使用的選擇器決定。<dfn>例如</dfn>，外部 CSS 中的類別選擇器的特異性值為 `(0, 0, 1, 0)`。

:::interactive_editor

```html
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="text">This text's color is defined in an external CSS file.</div>
</body>
```

```css
.text {
  color: purple;
}
```

:::

在此範例中，文字顏色定義在 `styles.css` 檔案中，除非被內部或行內樣式覆寫，否則將會套用。

# --questions--

## --text--

哪一個 CSS 特異性較高？

## --answers--

一個類別選擇器。

### --feedback--

此樣式直接套用到元素。

---

行內樣式。

---

一個 ID 選擇器。

### --feedback--

此樣式直接套用到元素。

---

一個型別選擇器。

### --feedback--

此樣式直接套用到元素。

## --video-solution--

2

## --text--

在 CSS 特異性的階層體系中，哪一個具有最低的優先權？

## --answers--

類別選擇器。

### --feedback--

這種類型的 CSS 是最泛型的選擇器。

---

行內樣式。

### --feedback--

這種類型的 CSS 是最泛型的選擇器。

---

通用選擇器。

---

ID 選取器。

### --feedback--

這種類型的 CSS 是最泛型的選擇器。

## --video-solution--

3

## --text--
以下範例中的文字會是什麼顏色？

```html
<head>
  <style>
    p {
      color: red;
    }
  </style>
</head>
<body>
  <p style="color: blue;">This text</p>
</body>
```

## --answers--

`blue`

---

`red`

### --feedback--

考慮最高的特異性。

---

`yellow`

### --feedback--

考慮最高的特異性。

---

`green`

### --feedback--

考慮最高的特異性。

## --video-solution--

1
