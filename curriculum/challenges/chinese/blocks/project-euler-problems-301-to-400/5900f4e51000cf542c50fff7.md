---
id: 5900f4e51000cf542c50fff7
title: '问题 376：非传递骰子集合'
challengeType: 1
forumTopicId: 302038
dashedName: problem-376-nontransitive-sets-of-dice
---

# --description--

思考下面一组，带有非标准pip的骰子（dict）：

$$\begin{array}{}
  \text{骰子 A：} & 1 & 4 & 4 & 4 & 4 & 4 \\\\
  \text{骰子 B：} & 2 & 2 & 2 & 5 & 5 & 5 \\\\
  \text{骰子 C：} & 3 & 3 & 3 & 3 & 3 & 6 \\\\
\end{array}$$

游戏由两个玩家轮流选择一个骰子并掷出。掷出最高点数的玩家获胜。

如果第一个玩家选择骰子 $A$，第二个玩家选择骰子 $B$，我们得到

$P(\text{第二个玩家获胜}) = \frac{7}{12} > \frac{1}{2}$

如果第一个玩家选择骰子 $B$，第二个玩家选择骰子 $C$，我们得到

$P(\text{第二个玩家获胜}) = \frac{7}{12} > \frac{1}{2}$

如果第一个玩家选择骰子 $C$，第二个玩家选择骰子 $A$，我们得到

$P(\text{第二个玩家获胜}) = \frac{25}{36} > \frac{1}{2}$

因此，无论第一个玩家选择什么模特，第二个玩家都可以选择另一个模具并获得超过50％的获胜机会。 具有此属性的一组骰子称为非传递骰子组。

我们希望研究存在多少组非传递骰子。我们将假设以下条件：

- 有三颗六面骰子，每个面上的点数在 1 到 $N$（含）之间。
- 具有相同点数的骰子是相等的，无论骰子位于骰子的哪一侧。
- 相同的点值可能出现在多个骰子上;如果两个玩家都滚动相同的值，则玩家不会获胜。
- 骰子集合 $\\{A, B, C\\}$、$\\{B, C, A\\}$ 和 $\\{C, A, B\\}$ 是相同的集合。

对于 $N = 7$ 我们查找有 9780 个这样的集合。

当 $N = 30$ 时，有多少个？

# --hints--

`nontransitiveSetsOfDice()` 应该返回 `973059630185670`。

```js
assert.strictEqual(nontransitiveSetsOfDice(), 973059630185670);
```

# --seed--

## --seed-contents--

```js
function nontransitiveSetsOfDice() {

  return true;
}

nontransitiveSetsOfDice();
```

# --solutions--

```js
// solution required
```
