---
id: 67d1a928ae86929a85c1bb6b
title: React 中的表單如何運作？
challengeType: 19
dashedName: how-do-forms-work-in-react
---

# --description--

表單是每個網頁應用程式的基礎，因為它們讓你控制代碼使用者輸入、收集資料，並觸發動作。

在 React 中，表單是使用 state 或 refs 來管理，讓你能完全控制它們的行為和驗證。這兩種管理表單的方式稱為「受控」和「非受控」輸入。

讓我們來看看什麼是受控和非受控輸入。

受控輸入是最「React 風格」的處理表單輸入方式。使用受控輸入時，你會將輸入欄位的值儲存在狀態中，並透過 `onChange` 事件更新它。這讓你能完全控制表單資料，並允許即時驗證和條件呈現。

這個處理程序的運作方式如下：React 使用 `useState` 掛鉤來維護表單狀態，並且你會在每次變更時更新它。當使用者在輸入欄位中輸入時，會觸發 `onChange` 事件，更新狀態，React 隨即用新值重新呈現組件。

```jsx
import { useState } from "react";

function App() {
  const [name, setName] = useState("");

  const handleChange = (e) => {
    setName(e.target.value);
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log(name);
  };

  return (
    <>
      <form onSubmit={handleSubmit}>
        <label htmlFor="name">Your name</label> <br />
        <input value={name} id="name" onChange={handleChange} type="text" />
        <button type="submit">Submit</button>
      </form> 
    </>
  );
}

export default App;
```

受控輸入的利益包括以下幾點：

- 立即存取表單資料。

- 你可以實作即時驗證。

- 你可以有條件地停用提交按鈕。

- 你可以以程式方式控制輸入值。

另一方面，非受控輸入較常見於傳統的 HTML 表單中。因此，非受控輸入不是透過 `useState` 掛鉤來處理，而是藉由 DOM 來維護其自身的內部狀態。

由於 DOM 控制輸入值，你需要做的是使用 `ref` 取得輸入欄位的值。這種方法需要較少的程式碼且效能較佳，因為 `refs` 不會讓 React 重新呈現。

以下是非控制元件輸入的範例：

```jsx
import { useRef } from "react";

function App() {
  const nameRef = useRef();

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log(nameRef.current.value);
  };

  return (
    <form onSubmit={handleSubmit}>
      <label htmlFor="name">Your</label>{" "}
      <input type="text" ref={nameRef} id="name" />
      <button type="submit">Submit</button>
    </form>
  );
}

export default App;
```

非受控輸入的一個非常明顯的優點是它們需要較少的程式碼。它們的效能也較佳，並且對於熟悉 HTML 的 React 初學者來說感覺更自然。

那麼，你應該在 `controlled` 和 `uncontrolled` 輸入之間選擇哪一個呢？ 

當你需要動態表單更新、即時驗證，或想將輸入值與狀態同步時，請使用受控輸入。它們提供較佳的控制，但需要更多的重新算繪。

當你需要較簡單的表單、只想在提交時存取值，或當你在使用非 React 程式碼時，請使用非受控輸入。

無論你在受控輸入和非受控輸入之間使用哪一種，以下是在 React 中製作表單時你應該遵守的一些最佳實踐：

- 始終阻止預設的表單提交。

- 確保你在提交前驗證輸入。

- 始終為使用者提供清楚的回授，包含載入、驗證錯誤或其他相關狀態。

# --questions--

## --text--

你如何管理受控輸入中的輸入欄位值？

## --answers--

透過將值儲存在狀態中並透過 `onChange` 事件更新它。

---

透過直接修改 DOM 輸入值並使用 JavaScript 取得值。

### --feedback--

狀態保存值，且變更會觸發更新。

---

透過使用 refs 來追蹤變更，並將 ref 屬性指定給每個輸入。

### --feedback--

狀態保存值，且變更會觸發更新。

---

透過將輸入值一開始設為 `null`，並撰寫一個函式（程式）稍後取得它們。

### --feedback--

狀態保存值，且變更會觸發更新。

## --video-solution--

1

## --text--

以下哪一項是受控輸入的利益？

## --answers--

它們直接更新 DOM，而不進行狀態管理。

### --feedback--

受控輸入讓你對表單資料和行為擁有更多控制。

---

它們允許對表單資料有更多控制。

---

它們會阻止表單驗證。

### --feedback--

受控輸入讓你對表單資料和行為擁有更多控制。

---

他們停用 `onChange` 事件處理常式。

### --feedback--

受控輸入讓你對表單資料和行為擁有更多控制。

## --video-solution--

2

## --text--

在 React 中，非受控輸入如何控制表單資料？

## --answers--

它們將輸入值儲存在組件狀態中。

### --feedback--

非控制元件輸入依賴瀏覽器的預設表單行為，而非 React 狀態。

---

他們使用 `useReducer` 掛鉤來進行狀態管理。

### --feedback--

非控制元件輸入依賴瀏覽器的預設表單行為，而非 React 狀態。

---

React 透過 `onChange` 事件更新輸入值。

### --feedback--

非控制元件輸入依賴瀏覽器的預設表單行為，而非 React 狀態。

---

DOM 會在內部管理表單資料。

## --video-solution--

4
