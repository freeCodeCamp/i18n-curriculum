---
id: 69008f1895af88fc335cb0b6
title: NodeJs 介绍回顾
challengeType: 31
dashedName: review-node-js-intro
---

# --description--

## 客户端 JavaScript

- **客户端 JavaScript**：在网络应用的客户端运行的代码，通常是在网页浏览器中。
- **客户端 JavaScript 的限制**：虽然功能强大，但客户端 JavaScript 有某些限制：
  - 对局部的文件的访问非常受限。
  - 不适合处理复杂的应用逻辑。
  - 潜在的安全性问题（例如，暴露敏感信息如数据库凭据）。
- **限制原因**：这些限制存在是因为客户端 JavaScript 最初设计为仅在网页浏览器中运行。

## 浏览器环境

- **JavaScript 引擎**：网页浏览器提供运行 JavaScript 代码所需的环境，包括 JavaScript 引擎。
- **文档对象模型 (DOM)**：浏览器提供对 DOM 的访问，允许你在代码中访问 HTML 元素。
- **历史上下文**：以前，JavaScript 只能在浏览器内运行，但现在可以通过 Node.js 运行。

## 什么是 Node.js？

- **Node.js**：一个 JavaScript 运行期环境。官方定义为“一个开源且跨平台的 JavaScript 运行期环境”。
- **开源**：Node.js 代码是公开可用的，并由大量开发者社区维护。
- **跨平台**：适用于任何操作系统，包括 Windows、macOS 和 Linux。
- **JavaScript 运行期环境**：允许你在浏览器外运行 JavaScript 代码。

## Node.js 使用分支

- **常见应用**：Node.js 被广泛应用于多个行业的：
  - 创建处理超文本传输协议请求的网络服务器和 API。
  - 开发网页和移动应用。
  - 处理复杂数据和数据库交互。
- **行业采用**：如果你正在使用或开发一个与数据库交互或处理复杂数据的网站或网络应用，那么你很可能会在后台使用 Node.js。
- **密钥 特性**：Node.js 高效、可扩展，并且拥有全球大量的开发者和维护者社区。

## 浏览器与 Node 运行期环境

- **浏览器环境**：主要为前端网页开发设计，运行客户端 `JavaScript`。
- **Node 运行期环境**：主要用于后端网页开发，运行服务器端 JavaScript。
- **API 差异**：环境决定可用的 API：
  - **浏览器**：访问 DOM API，但对访问局部的文件系统有限制。
  - **Node**：访问几乎所有系统资源，包括文件系统，但不包括 DOM。

## 全局的对象

- **浏览器全局对象（`window`）**：提供对浏览器相关功能的访问：
  - 操作 DOM 的方法。
  - 管理 cookies。
  - 处理浏览器事件。

- **Node.js 全局对象 (`global`)**：提供对 Node.js 特定功能的访问：
  - 用于处理局部的文件的内置模块。
  - 网络功能。
  - 与操作系统交互。

## 版本控制

- **浏览器版本**：你无法控制用户访问你网站时所使用的浏览器环境版本。
- **Node.js 版本**：你可以选择你想在你的服务器中使用的 Node.js 版本。

## Node.js 的重要性

- **全栈开发**：Node.js 通过使开发者能够使用 JavaScript 构建全栈应用的前端和后端，彻底改变了网页开发。
- **效率**：开发进程更高效，因为开发者不需要为了开发后端而学习新的编程语言。
- **影响**：Node.js 是一个强大、可扩展且多功能的工具，已成为全球开发者非常重要的工具。

## Node.js 的优势

- **全栈单一语言**：你可以使用 JavaScript 实现一个网页应用的前端和后端。
  - 降低初始学习曲线。
  - 无需在编程语言之间切换。
  - 提高效率和生产力。

- **非阻塞、事件驱动架构**：非常适合开发对响应性和效率要求极高以打造良好用户体验的实时应用。

- **单线程和事件循环**：可以有效地处理大量同时的请求和输入输出操作。
  - 非常适合需要同时处理多个请求的应用。

- **大型社区**：全球数千名开发者不断维护 `Node.js` 并添加新特色。
  - 有许多可用的学习资源。
  - 轻松查找问题的答案。

- **npm (Node Package Manager)**：一个强大的工具，允许你为你的项目安装和管理包和模块。
  - 可用于多种目的的包：处理 `HTTP` 请求、操作数据库、格式化日期和时间、测试代码等。
  - 重用其他开发者编写、测试和共享的代码。
  - 使工作流程更快且更高效。

- **经济实惠**：Node.js 是免费的开源软件。
  - 包、库和关联的工具也主要是免费的。
  - 优化预算时的重要因素。

## Node.js 的缺点

- **单线程限制**：一次只运行一个线程，这意味着它一次只能处理一个操作。
  - 虽然架构允许高效处理并发（同时）请求，但 CPU 密集型任务可能会阻塞主线程并导致性能问题。
  - CPU 密集型任务示例：复杂的数学运算、图像和视频处理、密码学。
  - 存在克服此问题的方法，但通常会增加应用复杂度。

- **异步的 编程**：Node.js 依赖于异步的 编程。
  - 启动一个可能需要很长时间才能完成的任务，但主程序不会等待它完成，而是在异步任务并行运行时继续运行。
  - 当任务完成时，程序处理结果。
  - 通常涉及“回调”，即定义异步操作完成后发生什么的函数。
  - 可能会使代码更难读取、理解和调试。

- **包质量问题**：从 npm 选择包时，有些可能不会被持续维护，可能会给你的应用引入漏洞。
  - 开发者应仔细评估每个包。
  - 查看包是否遵循质量和安全性最佳实践。

## 线程

- **线程**：进程内的执行路径，就像当前正在运行的计算机程序。

## NVM（节点版本管理器）

- **NVM**：一个用于在同一台计算机上管理多个 Node.js 版本的工具。
- **目的**：帮助你轻松切换不同 `project` 所用的不同版本的 Node.js。
- **建议**：建议在安装 Node.js 之前安装 NVM，以便将来的灵活性。

## 在 macOS/Linux 上安装 NVM

- **Xcode 命令行工具（macOS）**：必须在 macOS 上运行 NVM 安装脚本之前手动安装。

```bash
xcode-select --install
```

- **验证 Xcode 安装**：

```bash
xcode-select --version
```

- **下载并执行 NVM 安装脚本**：运行以下命令之一：

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
```

```bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
```

- **终端重启**：当进程完成后，你可能需要重启终端以装载新的命令和配置。

- **验证 NVM 安装**：

```bash
nvm -v
```

## 在 macOS/Linux 上使用 NVM 安装 Node.js

- **安装最新的 LTS 版本**：要安装最新的长期支持（LTS）版本的 Node.js：

```bash
nvm install --lts
```

- **LTS（长期支持）**：此版本通常被推荐，因为它优先考虑稳定性、可靠性和安全性，而非新建或实验性特色。
  - 经过彻底测试，准备投入生产。
  - 保证有更长的支持周期，重点是错误修复和安全性补丁。

- **安装特定版本**：你可以通过指定版本号来安装特定版本的 Node.js：

```bash
nvm install <version>
```

例如：

```bash
nvm install 20
```

- **切换到一个版本**：

```bash
nvm use <version>
```

例如：

```bash
nvm use 20
```

- **查看当前 Node.js 版本**：

```bash
node -v
```

## 在 Windows 上安装 NVM

- **官方 NVM 支持**：官方版本的 NVM 仅在特定分支中支持 Windows。
  - 如果你有 Windows Subsystem for Linux（WSL），你可以按照上面的 macOS/Linux 指南操作。

- **nvm-windows**：一个用于 Windows 的 Node.js 版本管理工具。
  - 将项目与官方 `NVM project` 完全分离。
  - 相同目的：帮助你在同一设备上管理多个版本的 Node.js。

- **安装前**：建议在安装 NVM for Windows 之前卸载任何先前的 Node 安装。

- **安装步骤**：
  - 前往官方仓库的版本部分：`https://github.com/coreybutler/nvm-windows/releases`。
  - 下载最新的安装程序。
  - 遵循说明。

- **终端重启**：如果 `nvm` 命令未立即可用，你可能需要重启你的终端。

- **验证安装**：

```powershell
nvm -v
```

## 使用 NVM 为 Windows 安装 Node.js

- **安装最新的 LTS 版本**：

```powershell
nvm install lts
```

- **安装特定版本**：

```powershell
nvm install <version>
```

例如：

```powershell
nvm install 20
```

- **切换到一个版本**：

```powershell
nvm use <version>
```

例如：

```powershell
nvm use 20
```

- **查看当前 Node.js 版本**：

```bash
node -v
```

## 基本的 NVM 和 Node.js 命令

- **关于命令的说明**：所有命令适用于在 macOS/Linux（包括 WSL）上安装的 NVM。对于 `nvm-windows`，它们可能表现不同或根本无法使用。若可能，会提供 `nvm-windows` 的备选命令。

### PowerShell 执行策略（Windows）

- **默认执行策略**：PowerShell 的默认执行策略是 `Restricted`，作为一种安全性措施，防止脚本运行。

- **以管理员身份运行 PowerShell**：右键点击 PowerShell，然后点击 "Run as Administrator"。

- **查看当前执行策略**：

```powershell
Get-ExecutionPolicy
```

- **将执行策略设置为 RemoteSigned**：允许局部的脚本和 `npm` 运行：

```powershell
Set-ExecutionPolicy RemoteSigned
```

- **设置策略后**：关闭 PowerShell 的管理员窗口并打开非管理员 PowerShell 窗口。

### 列出所有已安装版本

- **查看已安装版本**：列出所有已安装的 Node.js 版本并查看当前正在使用的版本：

```bash
nvm ls
```

### 设置默认 Node.js 版本（仅限 macOS/Linux 上的 NVM）

- **设置默认版本**：为新的终端会话设置 Node.js 的默认版本：

```bash
nvm alias default <version>
```

例如：

```bash
nvm alias default 22.20.0
```

- **创建自定义别名**：为一个版本赋值一个更具体的名称：

```bash
nvm alias <new_name> <version>
```

例如：

```bash
nvm alias new-api 18.20.8
```

- **使用自定义别名**：

```bash
nvm use <new_name>
```

例如：

```bash
nvm use new-api
```

### 删除 Node.js 的某个版本

- **卸载一个版本**：

```bash
nvm uninstall <version>
```

例如：

```bash
nvm uninstall 20.19.5
```

- **按主版本移除（macOS/Linux 上的 NVM）**：你可以通过运行带有主版本号（如 `22` 或 `20`）的 `uninstall` 命令来移除一个版本：

```bash
nvm uninstall 20
```

如果你安装了该主版本的多个版本，比如 `20.14.0` 和 `20.12.2`，将首先移除最新的版本。运行 `nvm uninstall 20` 会先移除 `20.14.0`。

### 查看 Node.js 版本

- **查看当前版本**：

```bash
node -v
```

### 查看 npm 版本

- **npm**：Node.js 的一个包管理器，用于安装、发布和管理软件包。安装 Node.js 时会自动安装。

- **查看 npm 版本**：

```bash
npm -v
```

### 运行一个 JavaScript 文件

- **执行 JavaScript 文件**：在当前活动的 Node.js 运行期中运行该 JavaScript 文件：

```bash
node <file.js>
```

例如：

```bash
node app.js
```

### 创建一个 Node.js 项目

- **初始化项目**：通过创建一个跟踪其详细信息和依赖项的 `package.json` 文件来创建一个新的 Node.js 项目：

```bash
npm init
```

- **交互式设置**：`npm init` 命令通过交互式 CLI 指南引导你设置 `package.json` 文件。
  - 询问项目名称、描述、版本等问题。

- **默认设置**：要从默认的 `package.json` 文件开始：

```bash
npm init -y
```

或者

```bash
npm init --yes
```

### 安装一个包

- **安装特定包**：

```bash
npm install <package>
```

例如：

```bash
npm install express
```

### 安装所有依赖项

- **安装依赖**：要安装项目中 `package.json` 文件中列出的所有依赖：

```bash
npm install
```

# --assignment--
   
复习 Node JS 入门主题和概念。
