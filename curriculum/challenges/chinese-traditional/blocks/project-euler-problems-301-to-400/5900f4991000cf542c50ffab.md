---
id: 5900f4991000cf542c50ffab
title: '問題 301：Nim'
challengeType: 1
forumTopicId: 301955
dashedName: problem-301-nim
---

# --description--

Nim 是一種使用石頭堆積進行的遊戲，兩位玩家輪流從任意堆積中移除任意數量的石頭，直到沒有石頭剩下。

我們將考慮三堆正常遊戲版本的 Nim，其運作方式如下：

- 在遊戲開始時有三個石頭堆積。
- 在他的回合中，玩家從任一單一堆積中移除任意正數量的石頭。
- 第一個無法移動（因為沒有剩餘的石頭）的玩家輸了。

如果 ($n_1$、$n_2$、$n_3$) 顯示一個由大小為 $n_1$、$n_2$ 和 $n_3$ 的堆積組成的 Nim 位置，則有一個簡單的函式 $X(n_1,n_2,n_3)$ — 你可以查閱或嘗試自行推導 — 傳回：

- 如果採用完美策略，將要移動的玩家最終會輸，則為零；或
- 非零表示，如果採用完美策略，即將移動的玩家最終會獲勝。

例如 $X(1, 2, 3) = 0$，因為無論當前玩家做什麼，他的對手都可以回應一個動作，使兩個堆積的大小相等，這時當前玩家的每一個動作都可以被對手鏡像回應，直到沒有石頭剩下；所以當前玩家輸了。舉例說明：

- 當前玩家移動到 (1,2,1)
- 對手移動到 (1,0,1)
- 當前玩家移動到 (0,0,1)
- 對手移動到 (0,0,0)，因此獲勝。

對於多少個正整數 $n ≤ 2^{30}$，有 $X(n, 2n, 3n) = 0$？

# --hints--

`nim()` 應該傳回 `2178309`。

```js
assert.strictEqual(nim(), 2178309);
```

# --seed--

## --seed-contents--

```js
function nim() {

  return true;
}

nim();
```

# --solutions--

```js
// solution required
```
