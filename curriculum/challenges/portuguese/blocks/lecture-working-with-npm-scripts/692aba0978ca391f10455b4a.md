---
id: 692aba0978ca391f10455b4a
title: Como Você Pode Publicar um Pacote no Registro npm?
challengeType: 19
dashedName: how-can-you-publish-a-package-to-the-npm-registry
---

# --description--

Vamos aprender sobre o registro npm, onde você pode compartilhar seus pacotes JavaScript com o mundo.

O **npm registry** é um banco de dados de pacotes públicos e privados.

Desenvolvedores e organizações podem publicar pacotes neste registro para compartilhar suas ferramentas com suas comunidades e membros da equipe e, em muitos casos, com todos os outros desenvolvedores Node.js.

Pacotes podem ser públicos ou privados. Pacotes públicos podem ser acessados por qualquer pessoa. Pacotes privados só podem ser acessados por usuários específicos ou membros de uma organização.

No registro npm, você pode compartilhar o que criou com o mundo com apenas alguns cliques. Parece ótimo, não é?

Vamos ver como você pode publicar um pacote passo a passo.

## Passo 1: Crie uma Conta

O primeiro passo é criar uma conta gratuita no npm. Para criar sua conta:

* Acesse https://www.npmjs.com/signup.
    
* Preencha o formulário. Você precisará inserir seu nome de usuário, email e senha.
    

Observe que, de acordo com a página de inscrição, "seu endereço de e-mail será adicionado aos metadados dos pacotes que você publicar, então ele pode ser visto publicamente."

## Passo 2: **Faça login**

Depois de criar uma conta npm, você precisará fazer login no seu terminal executando este comando:

```bash
npm login
```

Então você precisará se autenticar com as informações da sua conta.

## **Passo 3: Crie um** `package.json` **arquivo**

Antes de publicar seu pacote, você precisará criar um arquivo `package.json` com este comando:

```bash
npm init
```

(Se o seu projeto já tiver um, você pode ir diretamente para o **passo 4**).

Você precisará inserir essas informações no seu arquivo `package.json`:

* **name**: Este é geralmente o nome do seu projeto/diretório. Se você planeja tornar seu pacote público, esse nome deve ser único, a menos que você use scopes (vamos cobrir isso em um instante).
    
* **version**: Você deve começar com `"1.0.0"`, o valor padrão. Isso representa a versão inicial do seu pacote e você pode atualizá-la conforme fizer alterações no pacote.
    
* **main**: O ponto de entrada do seu projeto. Este é `index.js` por padrão.
    
* **author**: Você pode escrever seu nome ou apelido preferido.
    
* **license**: Escolha uma licença específica. Alguns exemplos incluem MIT e ISC.
    
* **description**: Um breve resumo do seu pacote.
    

Ao escolher o nome do seu pacote, certifique-se de que ele não esteja sendo usado no registro npm. Para isso, você pode acessar a seguinte URL, substituindo `<your-package-name>` pelo nome do seu pacote:

```bash
https://www.npmjs.com/package/<your-package-name>
```

Se não houver um pacote naquele URL, o nome do pacote estará disponível e você poderá usá-lo.

No entanto, se o nome já estiver em uso e você realmente quiser mantê-lo, pode usar o que é conhecido como um **scope** para publicá-lo.

### **Escopos**

Quando você cria uma conta de usuário ou organização no registro npm, você recebe um escopo com seu nome de usuário ou o nome da sua organização.

Escopos são úteis para evitar conflitos de nomes porque você pode publicar seu pacote sob seu escopo, mesmo que outro pacote com o mesmo nome já exista.

O nome de um pacote com escopo começa com o nome do escopo. Por exemplo, em `package.json`, você encontraria este par chave-valor:

```bash
"name": "@<scope-name>/<your-package-name>"
```

Você pode fazer essa alteração diretamente no arquivo se precisar, ou pode criar o arquivo `package.json` com o escopo desde o início adicionando `--scope=@<scope-name>` ao comando `npm init`.

```bash
npm init --scope=@<scope-name>
```

O nome do escopo pode ser seu nome de usuário se você estiver usando uma conta pessoal ou o nome da sua organização se você estiver usando uma conta organizacional.

## Passo 4: Crie o README.md

O README do seu pacote é um arquivo markdown onde você descreve o que seu pacote faz e seu uso pretendido.

Alguns exemplos de conteúdo importante que você pode querer incluir são:

* Seu propósito.
    
* Como instalá-lo.
    
* Dependências e considerações importantes.
    
* Como começar.
    
* Trechos de código de exemplo.
    
* Diretrizes de contribuição (se você aceitar contribuições).
    
* Link para um arquivo changelog onde você registra as alterações feitas em diferentes versões.
    

A estrutura do README é flexível, no entanto. Você pode adaptá-la para atender às suas necessidades.

## **Passo 5:** `.npmignore`

O arquivo `.npmignore` informa ao registro npm quais arquivos incluir e quais arquivos ignorar ao publicar seu pacote. É muito importante evitar o compartilhamento de informações sensíveis como chaves privadas, senhas e informações pessoais.

Neste arquivo, você pode escrever padrões para especificar quais arquivos, diretórios e tipos de arquivos são ignorados. Ele segue as mesmas regras de correspondência de padrões dos arquivos `.gitignore`.

Se você já trabalhou com Git, pode achar que este arquivo soa muito parecido com `.gitignore`, certo? Bem, é porque é. De acordo com a documentação do npm, "Se não houver um arquivo `.npmignore`, mas houver um arquivo `.gitignore`, então o npm irá ignorar os itens correspondentes ao arquivo `.gitignore`."

Você também deve saber que o npm procura arquivos `.npmignore` e `.gitignore` em todos os subdiretórios do seu pacote, não apenas no diretório raiz.

Por padrão, esses caminhos são automaticamente ignorados, então você não precisa adicioná-los ao `.npmignore`:

* `.*.swp`
    
* `._*`
    
* `.DS_Store`
    
* `.git`
    
* `.gitignore`
    
* `.hg`
    
* `.npmignore`
    
* `.npmrc`
    
* `.lock-wscript`
    
* `.svn`
    
* `.wafpickle-*`
    
* `config.gypi`
    
* `CVS`
    
* `npm-debug.log`
    

O diretório `node_modules` também é ignorado, exceto dependências empacotadas.

## **Passo 6: Publique seu pacote**

Antes de publicar seu pacote no registro npm, você deve testá-lo executando este comando:

```bash
npm install <full-path-to-package-directory>
```

Quando estiver pronto para publicar, o comando dependerá do tipo de pacote: scope vs. unscoped.

Se o seu pacote não tiver escopo, execute este comando:

```bash
npm publish
```

Se o seu pacote for scoped, ele será publicado como um pacote privado por padrão (se esse recurso estiver disponível na sua conta). Se você quiser torná-lo público, será necessário adicionar `--access public` ao comando.

```bash
npm publish --access public
```

Para ver seu pacote público, acesse esta URL:

```bash
https://npmjs.com/package/<your-package-name>
```

Você deve ver uma indicação da visibilidade do seu pacote (público ou privado) abaixo do nome do pacote.

## **Passo 7 (Opcional): Instale Seu Pacote**

Agora que você está tudo pronto, você pode instalar seu pacote em um projeto Node.js com este comando:

```bash
npm install <your-package-name>
```

## Atualizando Seu Pacote

Se você precisar fazer alterações no seu pacote após publicá-lo, pode atualizar a versão do pacote em `package.json`.

Esta é a convenção padrão para versionamento semântico:

* **Primeiro lançamento:** `1.0.0`.
    
* **Patch release:** Incrementar o terceiro dígito. Por exemplo, atualizar de `1.0.0` para `1.0.1`.
    
* **Release menor:** Incremente o dígito do meio e redefina o último dígito para zero. Por exemplo, atualizando `1.0.0` para `1.1.0`.
    
* **Lançamento principal:** Aumente o primeiro dígito e redefina o dígito do meio e o último para zero. Por exemplo, atualizar `1.1.0` para `2.0.0`.
    
Ótimo trabalho. Agora você sabe como publicar seu pacote no registro npm e como atualizá-lo para corrigir bugs e adicionar novos recursos.

# --questions--

## --text--

Qual é o comando usado no terminal para enviar um pacote da sua máquina local para o registro npm?

## --answers--

`npm install <package-name>`

### --feedback--

Este é o comando que finaliza o processo, tornando seu pacote disponível para outros instalarem.

---

`npm start`

### --feedback--

Este é o comando que finaliza o processo, tornando seu pacote disponível para outros instalarem.

---

`npm add`

### --feedback--

Este é o comando que finaliza o processo, tornando seu pacote disponível para outros instalarem.

---

`npm publish`

## --video-solution--

4

## --text--

Qual arquivo deve estar presente em um diretório para sinalizar ao registro npm que a pasta é um pacote completo e instalável?

## --answers--

`README.md`

### --feedback--

Pense no arquivo que contém todos os metadados, dependências e configuração necessários para um projeto npm.

---

`index.js`

### --feedback--

Pense no arquivo que contém todos os metadados, dependências e configuração necessários para um projeto npm.

---

`package.json`

---

`.npmignore`

### --feedback--

Pense no arquivo que contém todos os metadados, dependências e configuração necessários para um projeto npm.

## --video-solution--

3

## --text--

Qual ação você deve tomar para garantir que informações sensíveis **não** sejam incluídas quando um pacote for publicado?

## --answers--

Excluir temporariamente os arquivos da pasta do projeto antes de executar `npm publish`.

### --feedback--

O npm usa um arquivo específico para decidir o que excluir do pacote publicado.

---

Usando o arquivo `.ignore` para listar os arquivos sensíveis.

### --feedback--

O npm usa um arquivo específico para decidir o que excluir do pacote publicado.

---

Usando o arquivo `.npmignore` para listar os arquivos sensíveis.

---

Definir o campo `private` como `true` em `package.json`.

### --feedback--

O npm usa um arquivo específico para decidir o que excluir do pacote publicado.

## --video-solution--

3
