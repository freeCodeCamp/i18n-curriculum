---
id: 692ab9f91d74951aeba05c00
title: ¿Qué son los scripts de npm?
challengeType: 19
dashedName: what-are-npm-scripts
---

# --description--

Ahora aprenderás sobre los scripts de npm.

Antes de comenzar, repasemos algunos conceptos importantes:

* **npm** es una herramienta de línea de comandos que puedes usar para instalar y gestionar paquetes de JavaScript.
    
* Un **package** es un directorio que agrupa código relacionado en una estructura lógica.
    
* Un **script** es una secuencia de instrucciones o comandos escritos en un lenguaje de programación de scripting.
    

**npm scripts** son comandos personalizados que puedes definir en el archivo `package.json` de tu aplicación.

Son útiles para automatizar tareas y flujos de trabajo que usarás repetidamente durante las fases de desarrollo, prueba y despliegue de tu proyecto.

Por ejemplo, un caso de uso para los scripts de npm es personalizar `npm start` para iniciar todo tu entorno de desarrollo. En lugar de escribir manualmente todos los comandos uno por uno cada vez que necesites iniciar tu entorno de desarrollo, puedes simplemente ejecutar `npm start` y se ejecutará todo el proceso.

También puedes usar scripts de npm para automatizar el linting en todo tu código y para ejecutar suites de pruebas, entre otros casos de uso.

Son muy poderosos, así que vamos a revisar sus fundamentos.

## Cómo Crear un archivo package.json

Para poder crear y ejecutar scripts personalizados de npm, necesitarás un archivo `package.json`.

El archivo `package.json` es esencial para proyectos de Node.js. Este archivo contiene los metadatos, dependencias y scripts del proyecto.

Como recordatorio, para crear un archivo `package.json`, debes ejecutar el comando `npm init` en el directorio raíz de tu proyecto. Luego puedes ingresar manualmente el nombre del paquete, la versión, la descripción y otros detalles, o dejar esos campos en blanco para usar los valores predeterminados.

Una vez que termines este proceso, tendrás un archivo `package.json` en el directorio raíz de tu proyecto.

Si mantuviste todos los valores predeterminados, deberías ver estos pares clave-valor cuando abras `package.json` en tu editor de código:

```json
{
  "name": "<project_name>",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "description": ""
}
```

Observa este par clave-valor aquí:

```json
"scripts": {
  "test": "echo \"Error: no test specified\" && exit 1"
}
```

Aquí es donde especificarás tus scripts de npm, bajo la clave `scripts`.

Verás un script allí por defecto, el script de prueba:

```json
"test": "echo \"Error: no test specified\" && exit 1"
```

Este es un ejemplo de un script de npm definido en `package.json`.

Aquí está la sintaxis básica para definir un script de npm:

```json
"<script_name>": "<commands>"
```

A la izquierda de los dos puntos, encontramos el nombre del script. Los más comunes incluyen `run`, `start`, `test`, `build`, `dev` y `lint`. Estos nombres actúan como "atajos" para sus comandos subyacentes a la derecha.

A la derecha de los dos puntos, encontramos los comandos subyacentes mismos.

Por ejemplo:

```json
"scripts": {
  "start": "node app.js"
}
```

Para ejecutar el script, ingresa esto en la línea de comandos:

```bash
npm run <script_name>
```

Y así es como puedes ejecutar cualquier script personalizado definido en `package.json`.

A veces puedes usar esta versión abreviada sin la palabra `run` para ejecutar scripts:

```bash
npm <script_name>
```

Pero esto solo funciona para scripts específicos de npm llamados `start`, `test`, `stop` y `restart`.

Volviendo a nuestro ejemplo, si tenemos esto en `package.json`:

```json
"scripts": {
  "start": "node app.js"
}
```

Para ejecutar el script de npm, necesitas ingresar `npm run start` en la línea de comandos. Cuando haces eso, el comando subyacente que se ejecuta es `node app.js`.

Dado que este script de npm tiene una versión abreviada, también podrías usar `npm start` y el resultado sería el mismo.

En este caso, solo estás reemplazando un comando simple, `node app.js`, por otro, `npm start`. Pero imagina si tuvieras una secuencia de comandos complejos que necesitan ejecutarse en secuencia o en paralelo, y pudieras usar simplemente `npm start` para ejecutar todos ellos. Eso te ahorraría mucho tiempo, ¿verdad? Ahí es donde realmente brilla el poder de los scripts de npm.

Aquí tienes una vista rápida de algunos de los scripts de npm más usados:

* `npm run`: se usa para ejecutar un script personalizado de npm.
    
* `npm start`: se usa para iniciar la aplicación principal o el servidor de desarrollo.
    
* `npm lint`: se usa para ejecutar un verificador de estilo de código y comprobar si tu código cumple con los estándares de estilo y las mejores prácticas.
    
* `npm test`: se usa para ejecutar el conjunto de pruebas del proyecto.
    
Hay muchos otros scripts de npm para diferentes propósitos, pero estos son algunos de los más comunes que verás.

Además, una convención común es usar dos puntos para agrupar scripts relacionados bajo el mismo espacio de nombres. Por ejemplo, `start:server` y `start:ui`.

## Cómo Ejecutar Comandos Secuencialmente

Si necesitas ejecutar múltiples comandos en secuencia, tienes dos opciones. Puedes usar el operador lógico AND (`&&`) o el punto y coma (`;`). Veamos sus diferencias.

El operador lógico AND ejecuta el siguiente comando solo si el primero se ejecuta correctamente.

Por ejemplo:

```json
"scripts": {
  "build": "webpack --mode production",
  "start": "npm run build && node server.js"
}
```

Observa que hay un operador lógico AND en el comando `start`:

```json
"start": "npm run build && node server.js"
```

Aquí, `npm start` intentará ejecutar primero `npm run build`, y solo si este script se ejecuta correctamente, se ejecutará `node server.js`.

Este es un enfoque muy común porque garantiza la fiabilidad y evita perder tiempo y recursos en comandos posteriores que pueden fallar o generar errores si el anterior falla.

Alternativamente, puedes usar el operador punto y coma para ejecutar comandos secuencialmente, sin importar si el comando anterior fue exitoso o no.

En nuestro ejemplo, este cambio simple tendría un impacto importante en cómo se ejecutarán los comandos:

```json
"scripts": {
  "build": "webpack --mode production",
  "start": "npm run build; node server.js"
}
```

Concéntrate en el comando `start` de nuevo:

```json
"start": "npm run build; node server.js"
```

Ahora, dado que estamos usando un punto y coma en lugar del operador `&&`, el comando `node server.js` siempre se ejecutará después de `npm run build`, incluso si `node server.js` no fue exitoso.

```json
"start": "npm run build; node server.js"
```

## Cómo Ejecutar Comandos Concurrentemente

Si necesitas ejecutar comandos concurrentemente (en paralelo), puedes usar el operador `&`.

```json
"scripts": {
  "start:server": "node server/index.js",
  "start:client": "npm run build:watch",
  "dev": "npm run start:server & npm run start:client"
}
```

Sin embargo, debes saber que esta opción ejecuta los procesos en segundo plano.

Esto significa que, si los ejecutas en la misma sesión de terminal, puedes ver su salida combinada, lo que puede ser difícil de entender.

Otras opciones para ejecutar comandos simultáneamente incluyen herramientas como `concurrently` y `npm-run-all`.

## Cómo pasar argumentos a los scripts de npm

Si necesitas pasar argumentos directamente al comando que se está ejecutando dentro del script de npm, puedes especificarlos en el comando escribiendo dos guiones (`--`) seguidos de los argumentos.

El `--` indica a npm que todo lo que sigue serán argumentos para los comandos subyacentes que ejecutará el script de npm.

Esta es la sintaxis general:

```bash
npm run <script_name> -- <argument_1> <argument_2> <argument_3>
```

Por ejemplo, digamos que defines este script `npm start`:

```json
{
  "name": "project-example",
  "scripts": {
    "start": "node app.js"
  }
}
```

¿Cómo podrías especificar el puerto donde quieres ejecutar tu servidor si usas `npm start`?

Digamos que queremos pasar el puerto directamente como un argumento de línea de comandos. Escribirías esto:

```bash
npm start -- 8000
```

En tu código, puedes acceder a estos argumentos en el arreglo `process.argv` usando índices:

```bash
process.argv[0] # The path to the node executable.
process.argv[1] # The script file being executed.
process.argv[2] # The first argument (8000).
```

Por lo tanto, podrías acceder y usar el número de puerto donde lo necesites con `process.argv[2]`. Ese es el poder de los argumentos de línea de comandos combinados con los scripts de npm.

Como puedes ver, los scripts de npm son herramientas esenciales para simplificar el flujo de trabajo de desarrollo. Te ayudan a automatizar y transformar secuencias de comandos complejas y reutilizables en atajos simples y consistentes que puedes usar en tu trabajo diario.

# --questions--

## --text--

¿Dónde se definen los scripts de npm en un proyecto de Node.js?

## --answers--

En un archivo `.npmignore`.

### --feedback--

Piensa en el archivo que actúa como el manifiesto central para un proyecto Node.js y sus comandos ejecutables.

---

Dentro del objeto `"dependencies"` de `package.json`.

### --feedback--

Piensa en el archivo que actúa como el manifiesto central para un proyecto Node.js y sus comandos ejecutables.

---

Dentro del objeto `"scripts"` de `package.json`.

---

En un archivo separado `npm-config.json`.

### --feedback--

Piensa en el archivo que actúa como el manifiesto central para un proyecto Node.js y sus comandos ejecutables.

## --video-solution--

3

## --text--

¿Cómo ejecutas un script de npm llamado `build`?

## --answers--

`build npm`

### --feedback--

Piensa en el prefijo del comando que le dice a npm que quieres ejecutar uno de los comandos personalizados definidos en la sección `"scripts"`.

---

`npm run build`

---

`node build`

### --feedback--

Piensa en el prefijo del comando que le dice a npm que quieres ejecutar uno de los comandos personalizados definidos en la sección `"scripts"`.

---

`run build`

### --feedback--

Piensa en el prefijo del comando que le dice a npm que quieres ejecutar uno de los comandos personalizados definidos en la sección `"scripts"`.

## --video-solution--

2

## --text--

¿Cuál es el propósito del doble guion (`--`) al ejecutar un script de npm como `npm run start -- 5`?

## --answers--

Indica que el script debe ejecutarse en modo silencioso.

### --feedback--

Piensa en cómo una utilidad de comandos compleja (como Jest o Webpack) recibe sus flags específicos cuando se ejecuta a través de un acceso directo de npm.

---

Le indica a npm que pase los argumentos restantes al comando de script subyacente.

---

Significa que el script debe ejecutarse con privilegios administrativos elevados.

### --feedback--

Piensa en cómo una utilidad de comandos compleja (como Jest o Webpack) recibe sus flags específicos cuando se ejecuta a través de un acceso directo de npm.

---

Indica que el script debe ejecutarse en paralelo con otros scripts definidos.

### --feedback--

Piensa en cómo una utilidad de comandos compleja (como Jest o Webpack) recibe sus flags específicos cuando se ejecuta a través de un acceso directo de npm.

## --video-solution--

2
