---
id: 692aba0a78ca391f10455b4c
title: Como Funcionam as Importações e Exportações com Módulos ES?
challengeType: 19
dashedName: how-do-imports-and-exports-work-with-es-modules
---

# --description--

Agora que você entende o sistema de módulos CommonJS, vamos analisar o sistema de módulos ES.

Módulos ES, ou módulos ECMAScript, são o formato oficial e padronizado de módulos para JavaScript definido pela especificação ECMAScript. Eles usam as declarações `import` e `export` e, no Node.js, são carregados de forma assíncrona, o que é mais eficiente.

Node.js trata arquivos como módulos ES nos seguintes casos:

* Arquivos com extensão `.mjs`.
    
* E arquivos com a extensão `.js` quando o arquivo `package.json` pai mais próximo contém um campo `"type"` de nível superior com o valor `"module"`.
    

Aqui temos a mesma função `multiply` que você viu antes, mas agora vamos usar o sistema ESM. Para isso, estamos atribuindo uma extensão `.mjs` a ambos os módulos.

Para exportar a função `multiply` do módulo `math.mjs`, use a palavra-chave `export` seguida do nome da função, variável ou objeto que você deseja exportar entre chaves:

```javascript
function multiply(a, b) {
  return a * b;
}

export { multiply };
```

Você também pode exportar a função diretamente usando a palavra-chave `export` antes da palavra-chave `function`. Isso é conhecido como exportação nomeada. Você pode ter múltiplas exportações nomeadas por módulo:

```javascript
export function multiply(a, b) {
  return a * b;
}
```

Então, para importar este módulo, use a palavra-chave `import` seguida de chaves. Note que estamos usando `import` em vez de `require()`. Essa é uma das principais diferenças entre CommonJS e módulos ES.

Dentro das chaves, escrevemos o nome da função, variável ou objeto que queremos importar. Neste caso, é `multiply`. Depois, use a palavra-chave `from` e o caminho relativo para o módulo. Este código será executado com sucesso e a saída será `42`.

```javascript
import { multiply } from './math.mjs';

console.log(multiply(6, 7)); // 42
```

No sistema ES, você pode definir uma exportação padrão por módulo. Dessa forma, você não precisa usar chaves para importá-la.

Aqui está um exemplo onde estamos definindo a função `multiply` como a exportação padrão para todo o módulo `math.mjs`:

```javascript
export default function multiply(a, b) {
  return a * b;
}
```

Agora não precisamos das chaves, já que a função será importada e atribuída por padrão:

```javascript
import multiply from './math.mjs';
```

Se você não usar extensões de arquivo ou o arquivo `package.json` para informar explicitamente ao Node.js qual tipo de sistema de módulo deseja usar, ele inspecionará o código-fonte para procurar a sintaxe de módulo ES. Se essa sintaxe for encontrada, ele executará o código como um módulo ES; caso contrário, ele o executará como um módulo CommonJS.

Embora o CommonJS tenha servido como o padrão padrão para Node.js em seus primeiros dias, à medida que os desenvolvedores adotam cada vez mais o ESM por sua eficiência e compatibilidade com o JavaScript moderno, é importante conhecer suas diferenças e como usar ambos.

# --questions--

## --text--

Qual palavra-chave é usada para carregar módulos em ES Modules?

## --answers--

`require()`

### --feedback--

Pense em qual palavra-chave é usada para importar código externo em ambientes modernos de JavaScript.

---

`module.exports`

### --feedback--

Pense em qual palavra-chave é usada para importar código externo em ambientes modernos de JavaScript.

---

`import`

---

`include()`

### --feedback--

Pense em qual palavra-chave é usada para importar código externo em ambientes modernos de JavaScript.

## --video-solution--

3

## --text--

Qual das seguintes é uma forma de exportar um único valor como a exportação principal em ES?

## --answers--

`module.exports`

### --feedback--

Pense em qual método de exportação é usado para fornecer um único valor principal de um módulo.

---

`exports.add`

### --feedback--

Pense em qual método de exportação é usado para fornecer um único valor principal de um módulo.

---

`export default`

---

`export const`

### --feedback--

Pense em qual método de exportação é usado para fornecer um único valor principal de um módulo.

## --video-solution--

3

## --text--

Que tipo de carregamento os Módulos ECMAScript (ES) usam principalmente?

## --answers--

Carregamento síncrono

### --feedback--

Pense em como os navegadores modernos importam arquivos JavaScript externos.

---

Carregamento preguiçoso

### --feedback--

Pense em como os navegadores modernos importam arquivos JavaScript externos.

---

Carregamento assíncrono

---

Carregamento condicional

### --feedback--

Pense em como os navegadores modernos importam arquivos JavaScript externos.

## --video-solution--

3
