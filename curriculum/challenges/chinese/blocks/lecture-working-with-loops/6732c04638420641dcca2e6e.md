---
id: 6732c04638420641dcca2e6e
title: For...of 循环如何工作，及何时应使用它？
challengeType: 19
dashedName: how-does-the-for-of-loop-work-and-when-should-you-use-it
---

# --interactive--

当你需要遍历可迭代对象中的值时，使用 `for...of` 循环。可迭代对象的示例包括数组和字串。

这是 `for...of` 循环的基本语法：

```js
for (variable of iterable) {
  // code block to be executed
}
```

示例中的变量表现为正在被循环的可迭代对象的当前值。

如果你有一个数字数组，变量将是数组中的当前数字。如果你有一个字串，变量将是字串中的当前字符。

让我们看几个例子，这样你可以更好地理解 `for...of` 循环的工作原理。

在这个第一个例子中，我们有一个数字数组，想要循环遍历每个数字并将其记录到控制台。

:::interactive_editor

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
}
```

:::

我们创建了一个名为 `num` 的变量，用来表现数组中的当前数字。在第 1 次迭代中，`num` 将是 `1`，在第 2 次迭代中，`num` 将是 `2`，依此类推。

在 `loop` 内，我们正在将当前数字记录到控制台 `Log`。

这是另一个示例，我们有一个字串，想要循环遍历每个字符并将其记录到控制台。

:::interactive_editor

```js
const str = 'freeCodeCamp';

for (let char of str) {
  console.log(char);
}
```

:::

在这个例子中，我们创建了一个名为 `char` 的变量，用来表现字串中的当前字符。

对于每次迭代，循环将把当前字符记录到控制台日志中。

重要的是要注意，你可以在 `for...of` 循环中使用 `let` 或 `const` 来声明变量。

如果你打算使用 `const`，请确保变量的值在 `loop` 内不发生变化。如果发生变化，你将得到一个误差。

这是一个使用 `const` 导致误差的示例：

```js
const numbers = [1, 2, 3, 4, 5];

for (const num of numbers) {
  console.log(num);
  num = num + 1; // This will cause an error
}
```

在这个例子中，我们尝试在 `loop` 内改变 `num` 的值。由于我们用 `const` 声明了 `num`，所以会得到一个误差。因此，如果你需要在 `loop` 内改变变量的值，请使用 `let`。

让我们来看最后一个处理对象数组的示例。

:::interactive_editor

```js
const people = [
  { name: 'John', age: 30 },
  { name: 'Jane', age: 25 },
  { name: 'Jim', age: 40 }
];

for (const person of people) {
  console.log(`${person.name} is ${person.age} years old`);
}
```

:::

在这个例子中，我们有一个名为 `people` 的对象数组。每个对象都有一个 `name` 和 `age` 属性。

当我们循环遍历数组时，我们创建一个名为 `person` 的变量，用来表现数组中当前的对象。

在 `loop` 内，我们正在向控制台输出一条 `message`。

第一条消息将是 `John is 30 years old`，第二条消息将是 `Jane is 25 years old`，第三条消息将是 `Jim is 40 years old`。

`for...of` 循环在你需要遍历像数组或字串这样的可迭代对象的值时非常有用。它们也易于读取，并且可以使你的代码更简洁。

# --questions--

## --text--

下面代码的输出是什么？

```js
const colors = ['red', 'green', 'blue'];

for (const color of colors) {
  console.log(color);
}
```

## --answers--

```md
red
green
blue
```

---

```md
red
red
red
```

### --feedback--

考虑 `color` 变量在循环中表现的内容。

---

```md
color
color
color
```

### --feedback--

考虑 `color` 变量在循环中表现的内容。

---

```md
blue
blue
red
red
green
green
```

### --feedback--

考虑 `color` 变量在循环中表现的内容。

## --video-solution--

1

## --text--

如果你尝试在 `for...of` 循环内对用 `const` 声明的变量重新赋值，会发生什么？

## --answers--

值已成功重新赋值。

### --feedback--

思考 `const` 的含义以及它与重新赋值的关系。

---

该循环将跳过发生重新赋值的迭代。

### --feedback--

思考 `const` 的含义以及它与重新赋值的关系。

---

会报错。

---

循环将立即终止。

### --feedback--

思考 `const` 的含义以及它与重新赋值的关系。

## --video-solution--

3

## --text--

在以下代码截图中，控制台输出了什么日志？

```js
const fruits = ['apple', 'banana', 'cherry'];

for (let fruit of fruits) {
  console.log(fruit.toUpperCase());
}
```

## --answers--

```md
APPLE
APPLE
APPLE
```

### --feedback--

思考 `fruit` 变量在循环中表现的内容以及 `toUpperCase` 方法的工作原理。

---

```md
apple
banana
cherry
```

### --feedback--

思考 `fruit` 变量在循环中表现的内容以及 `toUpperCase` 方法的工作原理。

---

```md
APPLE
BANANA
CHERRY
```

---

```md
FRUIT
FRUIT
FRUIT
```

### --feedback--

思考 `fruit` 变量在循环中表现的内容以及 `toUpperCase` 方法的工作原理。

## --video-solution--

3
