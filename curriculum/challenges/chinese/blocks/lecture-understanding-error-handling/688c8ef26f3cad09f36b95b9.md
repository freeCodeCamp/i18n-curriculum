---
id: 688c8ef26f3cad09f36b95b9
title: Python 中有哪些好的调试技术？
challengeType: 19
dashedName: what-are-some-good-debugging-techniques-in-python
---

# --description--

调试是任何 Python 开发者必备的技能。理解基础技术可以帮助你高效地识别和修复错误。

调试是识别和解决代码中误差或错误的过程。它涉及检查代码、理解流程以及使用工具定位问题的根源。

在本课中，我们将介绍你可以在下一个 Python `project` 中使用的常见调试技术。

## 使用打印函数和 f-strings

首先，在你的代码中多个位置使用 `print()` 函数和 f-strings 可以帮助你理解流程和变量状态。例如：

```py
def add(a, b):
    result = a + b
    print(f'Adding {a} and {b} gives {result}')
    return result
```

通过打印 `a`、`b` 和 `result` 的值，你可以验证该函数的行为是否符合预期。

## 使用 `pdb` 模块进行交互式调试

接下来，你可以利用 Python 的内置 `pdb` 模块进行交互式调试：

```py
import pdb

def divide(a, b):
    pdb.set_trace()
    return a / b

print(divide(10, 2))
```

通过使用 `.set_trace()` 方法设置追踪，你可以逐步执行代码，检查变量，并理解程序的行为。

如果你运行上面的代码，你会看到一些输出，显示你正在运行的文件的位置、你调用 `.set_trace()` 方法的行以及紧接其后的代码，还有一个交互式的 `pdb` 提示符：

```py
> /Users/fcc/Desktop/debugging.py(5)divide()
-> return a / b
(Pdb)
```

如果你在提示符中输入 help，你将看到你可以使用的命令列表：

```py
(Pdb) help

Documented commands (type help <topic>):
========================================
EOF    c          d        h         list      q        rv       undisplay
a      cl         debug    help      ll        quit     s        unt      
alias  clear      disable  ignore    longlist  r        source   until    
args   commands   display  interact  n         restart  step     up       
b      condition  down     j         next      return   tbreak   w        
break  cont       enable   jump      p         retval   u        whatis   
bt     continue   exit     l         pp        run      unalias  where    

Miscellaneous help topics:
==========================
exec  pdb
```

然后你可以使用这些命令来调试你的代码。

例如，如果你想查看此时你代码中所有元素的类型，可以使用 `whatis` 命令：

```py
(Pdb) whatis a
<class 'int'>
(Pdb) whatis divide
Function divide
```

如你所见，当你运行 `.set_trace()` 时，参数 a 的类型是整数，`divide` 是一个函数。

然后，为了继续执行你的代码，你可以使用 `continue` 命令，或它的一个别名，`cont` 或 `c`：

```py
(Pdb) continue
5.0
```

## 集成开发环境调试工具

许多集成开发环境（IDE）提供高级的调试工具，例如断点、逐步执行和变量检查。

## 使用 VS Code 调试器

如果你使用 VS Code，你可以在你的代码中设置断点，并运行调试器以在这些点暂停执行。以下是调试相同 `divide` 函数的方法：

**步骤 1：设置你的代码** 创建一个名为 `main.py` 的文件，内容如下：

```py
def divide(a, b):
    result = a / b
    return result

print(divide(10, 2))
print(divide(15, 3))
```

**步骤 2：设置断点**

1. 点击第 2 行（`result = a / b`）旁边的边距（左侧边缘）以设置断点

2. 一个红点将出现，表示断点已设置

**第 3 步：开始调试**

1. 按 `F5` 或转到 Run > Start Debugging

2. 当出现提示符时选择 "Python File"

3. 调试器将在你的断点处暂停执行

**第 4 步：检查变量**

- 将鼠标悬停在变量上以查看它们的当前值

- 使用左侧的 Variables 窗格查看所有局部变量

- 使用底部的调试控制台来计算表达式

**第 5 步：逐步执行代码**

使用调试工具栏来：

- **继续 (F5)**：恢复执行直到下一个断点

- **单步跳过 (F10)**：执行当前行并移动到下一行

- **Step Into (F11)**：进入函数调用

- **Step Out (Shift+F11)**：退出当前函数

集成开发环境调试工具提供了一个可视化接口，用于检查你的程序状态，使得识别和修复错误比单独使用打印语句更容易。

通过掌握这些基础调试技术——使用 `print()` 语句、`pdb` 模块和集成开发环境工具——你可以有效地识别和解析你的 Python 代码中的问题。每种技术都有其适用场景：`print()` 语句用于快速查看，`pdb` 用于交互式探索，集成开发环境调试器用于可视化检查。

# --questions--

## --text--

在调试中使用 `print()` 函数的目的是什么？

## --answers--

为了更快地执行代码

### --feedback--

回到讨论 `print()` 的部分。

---

显示变量值和程序流程

---

编译代码

### --feedback--

回到讨论 `print()` 的部分。

---

终止程序

### --feedback--

回到讨论 `print()` 的部分。

## --video-solution--

2

## --text--

Python 中的 `pdb` 模块提供什么？

## --answers--

图形用户界面

### --feedback--

回到讨论 `pdb` 的部分进行参考。

---

一种编译 Python 代码的方法

### --feedback--

回到讨论 `pdb` 的部分进行参考。

---

一个交互式调试环境

---

一种加密代码的方法

### --feedback--

回到讨论 `pdb` 的部分进行参考。

## --video-solution--

3

## --text--

 IDE 调试工具相比 `print()` 语句等其他方法有什么优势？

## --answers--

它们让你更快地编写代码。

### --feedback--

请回到讨论 IDE 调试工具的章节。

---

它们防止语法错误。

### --feedback--

请回到讨论 IDE 调试工具的章节。

---

它们会自动修复你代码中的错误。

### --feedback--

请回到讨论 IDE 调试工具的章节。

---

它们提供一个可视化接口来检查你的程序状态。

## --video-solution--

4
