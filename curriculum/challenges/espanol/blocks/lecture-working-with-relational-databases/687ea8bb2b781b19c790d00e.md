---
id: 687ea8bb2b781b19c790d00e
title: ¿Qué son las claves primarias y foráneas en SQL, y cómo funcionan?
challengeType: 19
dashedName: what-are-primary-and-foreign-keys-in-sql-and-how-do-they-work
---

# --description--

En SQL, las claves primarias y las claves foráneas se usan para establecer relaciones entre tablas.

Comencemos con las claves primarias.

Una clave primaria es una columna o conjunto de columnas que identifica de manera única cada registro (fila) en una tabla. Esta restricción asegura que ningún registro en la tabla tendrá el mismo valor para la clave primaria.

Por eso una tabla solo puede tener una clave primaria.

Los valores en la columna de clave primaria tampoco pueden ser `NULL`, por lo que siempre tendrán un valor válido.

En PostgreSQL, para hacer que una columna sea la clave primaria de tu tabla, solo necesitas agregar `PRIMARY KEY` después del tipo de dato:

```sql
column_name data_type PRIMARY KEY
```

Este es un ejemplo de una tabla `students`:

```sql
CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name VARCHAR(100)
);
```

Cada estudiante tendrá su propio `student_id`, y este ID será la clave primaria de la tabla. El tipo `SERIAL` es útil aquí porque garantiza que el `student_id` siempre tendrá un valor único.

Una clave primaria compuesta es para cuando una tabla no tiene una columna única individual para identificar la fila. En este caso, puedes usar una combinación de dos o más columnas como la clave primaria que, juntas, son únicas.

Para hacer esto, indica qué columnas son la clave primaria compuesta cuando creas la tabla así:

```sql
CREATE TABLE table_name (
  column1 data_type column_constraint,
  column2 data_type column_constraint,
  column3 data_type column_constraint,
  ...
  PRIMARY KEY (column1, column2)
);
```

Imagina que tienes una tabla con las columnas `student_id` y `course_id` que te indica en qué clases están inscritos los estudiantes.

Cada estudiante estará inscrito en varias clases, y cada clase tendrá varios estudiantes inscritos. Por lo tanto, ninguna columna es única, pero nunca tendrás al mismo estudiante inscrito en la misma clase más de una vez. Así que puedes usar la combinación de las dos columnas como la clave primaria:

```sql
CREATE TABLE course_enrollments (
  student_id INT,
  course_id INT,
  ...
  PRIMARY KEY (student_id, course_id),
);
```

Las claves primarias son esenciales para garantizar la unicidad e integridad de los datos, para optimizar la recuperación de datos y para establecer relaciones con otras tablas en una base de datos relacional.

Eso nos lleva al siguiente tipo de clave que cubriremos en esta lección: claves foráneas.

Una clave foránea es una columna (o conjunto de columnas) en una tabla que referencia la clave primaria de otra tabla. Una tabla puede tener múltiples claves foráneas.

En este ejemplo, tenemos dos tablas, `customers` y `orders`:

```sql
CREATE TABLE customers (
  customer_id SERIAL PRIMARY KEY,
  first_name VARCHAR(100) NOT NULL,
  ...
);

CREATE TABLE orders (
  order_id SERIAL PRIMARY KEY,
  customer_id INTEGER,
  ...
  FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

La clave primaria de la tabla `customers` es `customer_id` y la clave primaria de la tabla `orders` es `order_id`.

Pero nota que también hay una columna `customer_id` en la tabla `orders`.

¿Por qué estamos almacenando la información del cliente en la tabla `orders`?

Hacemos esto para crear una relación entre las tablas `customers` y `orders`. Cada orden almacenará el ID del cliente que la envió.

Para crear la relación entre las tablas, haremos que la columna `customer_id` en la tabla `orders` sea una clave foránea que referencia la columna `customer_id` en la tabla `customers`:

```sql
FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
```

Los valores en una columna de clave foránea deben coincidir con los valores de la clave primaria en la tabla referenciada o ser `NULL` (si la clave foránea permite `NULL`s).

¿Por qué es esto útil?

Al asegurarte de que estas columnas en ambas tablas coincidan exactamente, las claves foráneas y primarias evitan la creación de registros "huérfanos", registros que hacen referencia a un registro inexistente en otra tabla.

Las claves primarias y foráneas son fundamentales para las bases de datos relacionales. Impulsan el aspecto "relacional" de estas bases de datos, permitiéndote modelar datos del mundo real de manera precisa.

# --questions--

## --text--

¿Cuál es el propósito principal de una clave primaria en una tabla de base de datos relacional?

## --answers--

Para enlazar la tabla con otras tablas.

### --feedback--

Piensa en lo que hace que cada fila en una tabla sea distinta.

---

Para identificar de manera única cada registro en la tabla.

---

Para definir el tipo de datos de una columna.

### --feedback--

Piensa en lo que hace que cada fila en una tabla sea distinta.

---

Para aplicar relaciones con claves foráneas en la misma tabla.

### --feedback--

Piensa en lo que hace que cada fila en una tabla sea distinta.

## --video-solution--

2

## --text--

Una clave foránea en una tabla típicamente referencia qué clave en otra tabla?

## --answers--

Otra clave foránea

### --feedback--

Piensa en qué clave de la tabla referenciada garantiza la integridad y validez de la relación creada por la clave foránea.

---

Un índice único

### --feedback--

Piensa en qué clave de la tabla referenciada garantiza la integridad y validez de la relación creada por la clave foránea.

---

Una clave primaria

---

Cualquier columna con el mismo tipo de datos

### --feedback--

Piensa en qué clave de la tabla referenciada garantiza la integridad y validez de la relación creada por la clave foránea.

## --video-solution--

3

## --text--

¿Cuál de las siguientes es una característica de una clave primaria?

## --answers--

Puede contener valores NULL.

### --feedback--

Recuerda el requisito fundamental para identificar cada fila de manera distinta.

---

Puede repetirse en la misma tabla.

### --feedback--

Recuerda el requisito fundamental para identificar cada fila de manera distinta.

---

Una tabla puede tener múltiples claves primarias.

### --feedback--

Recuerda el requisito fundamental para identificar cada fila de manera distinta.

---

Debe contener valores únicos.

## --video-solution--

4
