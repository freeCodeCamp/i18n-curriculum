---
id: 6723ca166fe90eb0a3146848
title: JavaScript 基础复习
challengeType: 31
dashedName: review-javascript-fundamentals
---

# --interactive--

## 字串构造函数和 `toString()` 方法

- **定义**：字串对象用于表现字符序列。字串对象是使用 `String` 构造函数创建的，它将原语值包装在一个对象中。

:::interactive_editor

```js
const greetingObject = new String("Hello, world!");

console.log(typeof greetingObject); // "object"
```

:::

- **`toString()` 方法**：此方法将一个值转换为其字串表现。你可以对数字、布尔、数组和对象使用此方法。

:::interactive_editor

```js
const num = 10;
console.log(num.toString()); // "10"

const arr = [1, 2, 3];
console.log(arr.toString()); // "1,2,3"
```

:::

此方法接受一个可选的 `radix`，它是一个介于 2 到 36 之间的数字。此 `radix` 表现为基数，例如二进制的基数 2 或八进制的基数 8。如果未指定 `radix`，则默认为基数 10，即十进制。


:::interactive_editor

```js
const num = 10;
console.log(num.toString(2)); // "1010"(binary)
```

:::

## 数字构造函数

- **定义**：`Number` 构造函数用于创建数字对象。数字对象包含一些有用的属性和方法，比如 `isNaN` 和 `toFixed` 方法。大多数情况下，你会使用 `Number` 构造函数将其他数据类型转换为数字数据类型。

:::interactive_editor

```js
const myNum = new Number("34");
console.log(typeof myNum); // "object"

const num = Number('100');
console.log(num); // 100

console.log(typeof num); // number
```

:::

## 命名变量和函数的最佳实践

- **camelCasing**：按照惯例，JavaScript 开发者会使用驼峰命名法来命名变量和函数。驼峰命名法是指第一个单词全部小写，后续单词首字母大写。例如 `isLoading`。

- **布尔命名**：对于布尔变量，通常的做法是使用诸如 "is"、"has" 或 "can" 之类的前缀。

```js
let isLoading = true;
let hasPermission = false;
let canEdit = true;
```

- **命名函数**：对于函数，名称应清楚地表明函数的作用。对于返回布尔值的函数（通常称为判断式），你可以使用相同的 "is"、"has" 或 "can" 前缀。当你有获取数据的函数时，通常以 "get" 开头。当你有设置数据的函数时，通常以 "set" 开头。对于事件处理函数，你可以使用 "handle" 作为前缀或使用 "Handler" 作为后缀。

```js
function getUserData() { /* ... */ }

function isValidEmail(email) { /* ... */ }

function getProductDetails(productId) { /* ... */ }

function setUserPreferences(preferences) { /* ... */ }

function handleClick() { /* ... */ }
```

- **在循环中命名变量**：在循环中为迭代器变量命名时，通常使用单个字母如 `i`、`j` 或 `k`。

```js
for (let i = 0; i < array.length; i++) { /* ... */ }
```

## 处理稀疏数组

- **定义**：数组中可以有空槽。空槽被定义为其中没有任何内容的槽。这不同于值为 `undefined` 的数组槽。这类数组被称为稀疏数组。

:::interactive_editor

```js
const sparseArray = [1, , , 4];
console.log(sparseArray.length); // 4
```

:::

## 代码检查工具和格式化工具

- **Linters**：Linter 是一种静态代码分析工具，用于标记编程错误、错误、风格错误和可疑构造。一个常见的 linter 示例是 ESLint。
- **格式化工具**：格式化工具是自动格式化你的代码以遵循特定样式指南的工具。一个常见的格式化工具示例是 Prettier。

## 内存管理

- **定义**：内存管理是控制内存的过程，在需要时进行内存分配，在不再需要时释放内存。JavaScript 使用自动内存管理。这意味着 JavaScript（更具体地说，是你网页浏览器中的 JavaScript 引擎）会为你处理内存分配和释放。你不必在代码中显式释放内存。这个自动过程通常称为“垃圾回收”。

## 闭包

- **定义**：闭包是一个函数，即使在外部函数已经返回之后，仍然可以访问其外部（包含的）词法作用域中的变量。

:::interactive_editor

```js
function outerFunction(x) {
  let y = 10;
  function innerFunction() {
    console.log(x + y);
  }
  return innerFunction;
}

let closure = outerFunction(5);
closure(); // 15
```

:::

## `var` 关键字和提升

- **定义**：`var` 是 2015 年之前声明变量的原始方式。但 `var` 在作用域、重新声明等方面存在一些问题。这就是为什么现代 JavaScript 编程使用 `let` 和 `const` 的原因。
- **使用 `var` 重新声明变量**：如果你尝试使用 `let` 重新声明一个变量，那么你会得到一个 `SyntaxError`。但使用 `var`，你可以重新声明一个变量。

```js
// Uncaught SyntaxError: Identifier 'num' has already been declared 
let num = 19;
let num = 18;

var myNum = 5;
var myNum = 10; // This is allowed and doesn't throw an error

console.log(myNum) // 10
```

- **`var` 和作用域**：在块（如 `if` 语句或 `for` 循环）内用 `var` 声明的变量仍然可以在该块外访问。

:::interactive_editor

```js
if (true) {
  var num = 5;
}
console.log(num); // 5
```

:::

- **提升**：这是 JavaScript 在代码执行前的编译阶段，将声明移动到各自作用域顶部的默认行为。当你使用 `var` 关键字声明变量时，JavaScript 会将声明提升到其作用域的顶部。

:::interactive_editor

```js
console.log(num); // undefined
var num = 5;
console.log(num); // 5
```

:::

当你使用函数声明语法声明一个函数时，函数名和函数体都会被提升。这意味着你可以在代码中声明函数之前调用该函数。

:::interactive_editor

```js
sayHello(); // "Hello, World!"

function sayHello() {
  console.log("Hello, World!");
}
```

:::

使用 `let` 或 `const` 进行的变量声明会被提升，但它们不会被初始化，并且你不能在代码中的实际声明之前访问它们。这种行为通常被称为“暂时性死区”。

:::interactive_editor

```js
console.log(num); // Throws a ReferenceError
let num = 10;
```

:::

## 使用导入、导出和模块

- **模块**：这是一个自包含的代码单元，封装了相关的函数、类或变量。要创建一个模块，你需要在一个单独的文件中编写你的 JavaScript 代码。
- **导出**：你想要提供给应用其他部分使用的任何变量、函数或类，都需要使用 `export` 关键字显式导出。导出有两种类型：命名导出和默认导出。
- **导入**：要在应用的其他部分使用导出的项，你需要使用 `import` 关键字导入它们。类型可以是命名导入、默认导入和命名空间导入。

```js
// Within a file called math.js, we export the following functions:

// Named export
export function add(num1, num2) {
  return num1 + num2;
}

// Default export
export default function subtract(num1, num2) {
  return num1 - num2;
}

// Within another file, we can import the functions from math.js.

// Named import - This line imports the add function.
// The name of the function must exactly match the one exported from math.js.
import { add } from './math.js';

// Default import - This line imports the subtract function.
// The name of the function can be anything.
import subtractFunc from './math.js';

// Namespace import - This line imports everything from the file.
import * as Math from './math.js';

console.log(add(5, 3)); // 8
console.log(subtractFunc(5, 3)); // 2
console.log(Math.add(5, 3)); // 8
console.log(Math.subtract(5, 3)); // 2
```

# --assignment--

复习 JavaScript 基础主题和概念。
