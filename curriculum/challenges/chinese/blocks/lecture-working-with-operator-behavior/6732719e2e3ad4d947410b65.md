---
id: 6732719e2e3ad4d947410b65
title: 运算符优先级是如何发挥作用的？
challengeType: 19
dashedName: how-does-operator-precedence-work
---

# --interactive--

如果在 JavaScript 中编写一个包含多个运算符的表达式，JavaScript 如何决定先计算哪个？ 这就该运算符优先级的发挥作用了。 让我们通过代码示例详细了解运算符优先级，以及当运算符具有相同优先级时会发生什么。

决定表达式中运算的求值顺序。 优先级较高的运算符先于优先级较低的运算符进行运算。 运算符的优先级就像在数学中一样，除法和乘法先于加法和减法。

如果不遵循这一规则，基本算式就会给出错误的答案。 JavaScript 的工作原理也是如此。 它有自己的规则，规定哪个运算符在前，哪个运算符在后。 例如，请看下面的表达式：

:::interactive_editor

```js
const result = 2 + 3 * 4;

console.log(result); // 14
```

:::

如果 JavaScript 从左到右计算这个表达式，你可能以为先计算 `2 + 3 = 5`，然后是 `5 * 4 = 20`。 但是，由于乘法的优先级高于加法，JavaScript 会先计算 `3 * 4`，结果是 `2 + 12 = 14`。 

有时，你可能希望表达式的某些部分先运行，而不考虑优先级规则。 你可以使用括号 `()` 来做到这一点。 无论优先级如何，括号内的内容都会先被计算。 让我们先对上一个示例中的 `2 + 3` 进行求值：

:::interactive_editor

```js
const result = (2 + 3) * 4;

console.log(result); // 20
```

:::

在上例中，括号强制 JavaScript 先计算 `2 + 3`，然后将结果乘以 `4` 。 结果为 `20`，而不是 `14`。

除法运算符的优先级也高于加法或减法运算符：

:::interactive_editor

```js
const result = 2 + 6 / 3;

console.log(result); // 4
```

:::

如果 JavaScript 从左到右计算这个表达式，你可能会以为先计算 `2 + 6 = 8`，然后是 `8 / 3 = 2.67`。 但由于除法的优先级高于加法，JavaScript 会先计算除法：`6 / 3 = 2`，然后是减法 `2 + 2`，结果是 `4`。

因此，在乘法和除法运算中，这些运算总是先于加法和减法进行，除非使用括号改变顺序。 那么，如果运算符具有相同的优先级会怎样呢？ JavaScript 使用结合性来确定计算它们的顺序。

结合性告诉 JavaScript 是从左到右还是从右到左对运算符进行运算。 对于大多数运算符，如加法和乘法，结合性都是从左到右的。 因此，JavaScript 会从表达式的最左边向右边处理这些表达式：

:::interactive_editor

```js
const result = 10 - 2 + 3;

console.log(result); // 11
```

:::

首先是 `10 - 2 = 8`，然后是 `8 + 3 = 11`。 在这种情况下，JavaScript 会从左到右计算。 有些运算符，如赋值（`=`）是从右到左结合的。 这意味着表达式的右边先被计算：

:::interactive_editor

```js
let a, b;
a = b = 5;

console.log(a); // 5
console.log(b); // 5
console.log(a + b); // 10
```

:::

在上面的示例中，JavaScript 首先将 `5` 赋值给 `b`，然后将 `b`（现在是 `5`）赋值给 `a`。

指数运算符也是从右到左结合的：

:::interactive_editor

```js
const result = 2 ** 3 ** 2;

console.log(result); // 512
```

:::

首先，JavaScript 对 `3 ** 2` 进行求值，等于 `9`，然后计算 `2 ** 9`，等于 `512`。 如果指数运算符是从左到右结合的，JavaScript 会先计算 `2 ** 3`，得到 `8`，然后计算 `8 ** 2` 得到 `64`。 

# --questions--

## --text--

对照数学，JavaScript 中运算符优先级是怎样的？

## --answers--

加法优先于乘法和除法。

### --feedback--

想想数学算式中的运算顺序。

---

除法和乘法优先于加法和减法，就像数学一样。

---

所有操作均按出现的顺序执行。

### --feedback--

想想数学算式中的运算顺序。

---

减法优先于所有其他运算。

### --feedback--

想想数学算式中的运算顺序。

## --video-solution--

2

## --text--

如何在 JavaScript 中改变运算符优先级？

## --answers--

通过使用加法运算符（`+`）来改变运算顺序。

### --feedback--

想想如何改变数学算式中的运算顺序。

---

通过使用括号强制先计算表达式的某些部分。

---

通过颠倒表达式中的运算符。

### --feedback--

想想如何改变数学算式中的运算顺序。

---

通过从左到右执行所有操作，不考虑优先级。

### --feedback--

想想如何改变数学算式中的运算顺序。

## --video-solution--

2

## --text--

JavaScript 如何使用幂运算符（`**`）对表达式进行求值？

## --answers--

从左至右。

### --feedback--

想想在表达式中幂运算发生的顺序。

---

从右向左，即先计算最右边的指数。

---

把底数按指数重复相乘。

### --feedback--

想想在表达式中幂运算发生的顺序。

---

先将指数相加，然后计算结果。

### --feedback--

想想在表达式中幂运算发生的顺序。

## --video-solution--

2
