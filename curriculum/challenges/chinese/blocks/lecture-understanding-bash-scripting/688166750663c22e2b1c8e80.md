---
id: 688166750663c22e2b1c8e80
title: 什么是 Bash 脚本，以及使用它有哪些优势？
challengeType: 19
dashedName: what-is-bash-scripting-and-what-are-some-advantages-to-using-it
---

# --description--

在之前的课程中，你学习了 Bash 以及一些你可能使用的常见命令。但 Bash 支持完整的脚本语言，你可以用它来执行更复杂的自动化任务。

Bash 脚本涉及在一个文件中编写一系列 Bash 命令，然后你可以用 Bash 运行该文件的内容。

让我们看看一个 bash 脚本可能是什么样子：

```bash
#!/bin/bash

servers=("prod" "dev")

for server in "${servers[@]}"
do
  echo "Pulling $server"
  rsync --archive --verbose $server:/etc/nginx/conf.d/server.conf configs/$server.conf
done
```

此脚本从远程服务器列表中拉取 NGINX 配置文件，这对于将这些配置备份到局部的仓库中非常有用。NGINX 是一个流行的网络服务器，你将在未来的模块中学习更多关于服务器的操作。 

第一行称为 "shebang"（`#!`），用于告诉系统应使用哪个解释器来运行脚本。这里常见的值有 `/usr/bin/bash`、`/bin/bash` 或 `/bin/sh`。

第一行，`servers=("prod" "dev")`，实例化了一个表现服务器名称的字串列表。`"prod"` 通常用来指代生产站点，而 `"dev"` 指代开发站点，通常用于在部署到实时生产环境之前测试新特色和更改。

然后，使用 `for` 循环迭代列表——`servers[@]` 语法将列表展开为单个元素。每个元素在每次迭代时赋值给 server。

`do` 语句表示循环逻辑块的开始，或每次迭代时应运行的代码。

`echo "Pulling $server"` 会插入当前的服务器变量值，在此分支中可能是 prod 或 dev，并将其记录到终端日志中。

然后使用 `rsync` 从服务器拉取实际的文件并将其储存为局部的，使用更多插值来管理该命令。

`done` 表示循环逻辑块的结束。

理解和利用 Bash 脚本 有许多显著的优势。

第一个原因是几乎每个 Unix 环境都自带 Bash，这意味着你可以直接运行你的脚本，而无需配置像 Node.js 或 Python 这样的语言运行期。

第二点是你可以轻松访问系统上所有可用的二进制应用。如果你的系统安装了 doctl，你的脚本可以执行该二进制文件。二进制文件是计算机运行的已编译程序。当你有一个 bash 脚本时，你可以执行该二进制文件，从而启动程序。

最后，你为你的脚本使用的语法也可以直接在终端中执行。这意味着测试脚本的一小部分变得更加简单——你可以将那部分直接拷贝并粘贴到终端中，查看结果！

理解 Bash 不仅会提升你的脚本游戏水平，还会让你成为命令行中的高手！

# --questions--

## --text--

Bash 脚本中 `"shebang"` 行的作用是什么？

## --answers--

这是一个描述脚本功能的评论。

### --feedback--

shebang 出现在脚本文件的最开始位置。

---

它指示应使用哪个解释器来运行脚本。

---

它定义了脚本中使用的变量。

### --feedback--

shebang 出现在脚本文件的最开始位置。

---

它标志着一个 for 循环的开始。

### --feedback--

shebang 出现在脚本文件的最开始位置。

## --video-solution--

2

## --text--

在示例脚本中，`for server in "${servers[@]}"` 这一行实现了什么？

## --answers--

它创建一个新的服务器数组。

### --feedback--

考虑一下 `for loop` 通常执行的操作。

---

它迭代 `servers` 数组中的每个元素。

---

它计算数组中有多少个服务器。

### --feedback--

考虑一下 `for loop` 通常执行的操作。

---

它删除服务器数组。

### --feedback--

考虑一下 `for loop` 通常执行的操作。

## --video-solution--

2

## --text--

以下哪项不是 Bash 脚本的优点？

## --answers--

Bash 几乎在每个 Unix 环境中都可用。

### --feedback--

查看课程中列出的优势。

---

你可以访问系统上的所有二进制应用。

### --feedback--

查看课程中列出的优势。

---

Bash 脚本运行比 Python 或 JavaScript 更快。

---

你可以直接在终端测试你的脚本的部分内容。

### --feedback--

查看课程中列出的优势。

## --video-solution--

3
