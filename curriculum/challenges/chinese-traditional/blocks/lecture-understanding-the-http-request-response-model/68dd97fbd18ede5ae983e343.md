---
id: 68dd97fbd18ede5ae983e343
title: 當表單提交時會發生什麼，以及不同的表單提交如何運作？
challengeType: 19
dashedName: what-happens-when-a-form-is-submitted-and-how-do-the-different-form-submissions-work
---

# --description--

網站和應用程式需要收集資料並處理，或產生使用者需要的東西，例如搜尋結果。所以，就像文字一樣，表單也是網路的基本零件。

使用表單，使用者可以註冊並登入網站、傳送訊息，以及搜尋項目。例如，你可以透過在網路上最受歡迎的表單——Google 搜尋輸入框中輸入查詢，來存取 Google 搜尋結果頁面。

讓我們來看看組成表單的元素，例如輸入欄、`action` 屬性、表單方法，以及最重要的，當你提交表單時會發生什麼。

表單是使用 `form` 元素嵌入在網頁中，但要讓輸入欄位顯示，還需要根據你的需求使用 `input` 元素。這些輸入元素包括文字、電子郵件、密碼、選擇、檔案、隱藏輸入等。

要使用這些輸入欄位，你必須用 `form` 元素將它們包起來。每個輸入都需要一個 `name` 屬性，這樣伺服端才能知道哪些資料對應到每個欄位。

這裡有一個範例：

```html
<form>
   <input type="text" name="username" />
   <input type="email" name="email" />
   <input type="file" name="profilePicture" />
   <input type="radio" name="gender" />
   <input type="checkbox" name="subscribe" />
   <input type="hidden" name="userId" />
</form>
```

輸入欄位也需要驗證，以確保使用者輸入正確的資訊。

此驗證可以同時在客戶端和伺服端進行。HTML 讓你使用 `required` 和 `pattern` 屬性來做基本的客戶端驗證。即使如此，你也應該在伺服端進行驗證以增強安全性，因為 HTML 驗證主要是為了使用者體驗和即時回授。

`required` 屬性指定該輸入欄必須填寫，而 `pattern` 屬性讓你輸入正規表達式，強制使用者以你需要的方式輸入資訊。

以下是用於使用者名稱欄的範例：

```html
<input type="text" name="username" required pattern="[A-Za-z0-9]{3,}" />
```

在輸入欄位通過驗證後，應該進行提交。那麼當表單提交時會發生什麼？

首先，為了讓提交發生，表單需要有一個 `action` 屬性，指定瀏覽器應該將輸入欄位的值送到哪裡，以及一個 `method` 屬性，指定表單資料如何被提交。稍後會詳細說明 `method` 屬性。

以下是一個 action 屬性可能的樣子：

```html
<form action="/register">
	<!-- input fields -->
</form>
```

`method` 屬性可以是 `GET`、`POST`、`PUT`、`PATCH` 或 `DELETE`：

* `GET` 從伺服端擷取資料，例如搜尋結果。
    
* `POST` 將資料傳送到伺服器，例如，透過輸入欄位輸入的登入或暫存器資訊。
    
* `PUT` 修改伺端上的某些內容。
    
* `PATCH` 部分修改伺服端的內容。
    
* `DELETE` 從伺服器移除某物。
    
請注意，HTML 不直接支援 `PUT`、`PATCH` 和 `DELETE` 方法，但有一些變通方法。如果你使用原生 JavaScript，可以使用 Fetch API 來指定方法，而在 Node.js 和 Express 中，你可以使用 `method-override` 軟體包。

以下是一個發出 `GET` 請求的表單範例：

```html
<form action="/search" method="GET">
   <input type="text" name="q">
   <button type="submit">Search</button>
</form>
```

以下是一個發出 `POST` 請求的表單範例：

```html
<form action="/submit" method="POST">
   <input type="text" name="username" required pattern="[A-Za-z0-9]{3,}" />
   <input type="password" name="password" />
   <button type="submit">Submit</button>
</form>
```

在 `GET` 或 `POST` 請求之後，伺服端會檢查伺服端驗證，並且要麼處理，要麼拒絕輸入值。

如果驗證成功，伺服端會傳送請求的資訊；如果驗證失敗，則會發出錯誤。 

如果驗證成功，伺服端的回應可能是在身份驗證或搜尋的情況下進行重新導向，或是確認該動作的成功訊息。

以下是表單提交時發生的情況回顧：

* 使用者填寫表單欄位。
    
* 瀏覽器會檢查客戶端驗證（如果有的話），並在驗證成功時繼續進行。
    
* 瀏覽器根據 `action` 和 `method` 屬性將表單資料傳送到伺服端。
    
* 伺服端接收資料並進行處理程序（將資料儲存在資料庫中、為使用者註冊、讓使用者登入、發送搜尋查詢，等等）。
    
* 如果有伺服端驗證，伺服端會在處理之前重新檢查資料。
    
* 伺服端根據驗證狀態（成功或失敗）回應成功訊息、錯誤或重新導向使用者。
    
* 使用者根據伺服端回應看到回授。

# --questions--

## --text--

你如何使用 HTML 執行客戶端驗證？

## --answers--

透過使用 `validate` 屬性

### --feedback--

思考那些有助於在沒有 JavaScript 的情況下強制輸入規則的屬性。

---

僅使用 JavaScript

### --feedback--

思考那些有助於在沒有 JavaScript 的情況下強制輸入規則的屬性。

---

透過使用 `required` 和 `pattern` 屬性

---

僅使用伺端驗證時

### --feedback--

思考那些有助於在沒有 JavaScript 的情況下強制輸入規則的屬性。

## --video-solution--

3

## --text--

在使用 Node.js 或 Express 時，如何在 HTML 表單中使用 `PUT`、`PATCH` 和 `DELETE` 方法的替代方案是什麼？

## --answers--

HTML 原生支援這些方法

### --feedback--

HTML 表單不直接支援這些方法，但存在變通方法。

---

透過在 JavaScript 中使用 Fetch API

### --feedback--

HTML 表單不直接支援這些方法，但存在變通方法。

---

透過在表單中使用 `method="PUT"` 屬性

### --feedback--

HTML 表單不直接支援這些方法，但存在變通方法。

---

透過使用 `method-override` 軟體包

## --video-solution--

4

## --text--

`PUT` 和 `PATCH` HTTP 方法之間的差異是什麼？

## --answers--

`PUT` 修改伺服端上的某些內容，而 `PATCH` 則是部分修改。

---

`PATCH` 刪除資料，而 `PUT` 更新資料

### --feedback--

一個更新整個資源，另一個則進行部分變更。

---

`PUT` 用於擷取資料，而 `PATCH` 用於傳送資料。

### --feedback--

一個更新整個資源，另一個則進行部分變更。

---

`PATCH` 會取代整個資源，而 `PUT` 僅修改其零件。

### --feedback--

一個更新整個資源，另一個則進行部分變更。

## --video-solution--

1
