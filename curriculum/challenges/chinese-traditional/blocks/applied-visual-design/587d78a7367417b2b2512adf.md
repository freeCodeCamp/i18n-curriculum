---
id: 587d78a7367417b2b2512adf
title: 了解 CSS @keyframes 和 animation 屬性如何運作
challengeType: 0
videoUrl: 'https://scrimba.com/c/cakprhv'
forumTopicId: 301059
dashedName: learn-how-the-css-keyframes-and-animation-properties-work
---

# --description--

要為元素製作動畫，你需要了解動畫屬性和 `@keyframes` 規則。動畫屬性控制動畫的行為，而 `@keyframes` 規則控制動畫過程中發生的事情。總共有八個動畫屬性。本挑戰將保持簡單，先涵蓋兩個最重要的屬性：

`animation-name` 設定動畫的名稱，稍後由 `@keyframes` 使用，以告訴 CSS 哪些規則對應到哪些動畫。

`animation-duration` 設定動畫的持續時間。

`@keyframes` 是用來精確指定動畫在整個持續時間內發生什麼事情。這是透過為動畫過程中的特定「影格」設定 CSS 屬性來完成，百分比範圍從 0% 到 100%。如果你將這比喻成一部電影，0% 的 CSS 屬性就是元素在開場畫面中的顯示方式。100% 的 CSS 屬性則是元素在結尾、片尾字幕開始前的呈現方式。接著 CSS 會施展魔法，在指定的持續時間內將元素過渡，演繹出這個場景。以下是一個範例，說明如何使用 `@keyframes` 和動畫屬性：

```css
#anim {
  animation-name: colorful;
  animation-duration: 3s;
}

@keyframes colorful {
  0% {
    background-color: blue;
  }
  100% {
    background-color: yellow;
  }
}
```

對於具有 `anim` id 的元素，上述程式碼片段將 `animation-name` 設定為 `colorful`，並將 `animation-duration` 設定為 3 秒。接著，`@keyframes` 規則將名稱為 `colorful` 的動畫屬性連結起來。它在動畫開始時（0%）將顏色設定為藍色，並在動畫結束時（100%）過渡到黃色。你不僅限於開始與結束的過渡，還可以為元素設定 0% 到 100% 之間任意百分比的屬性。

# --instructions--

為 id 為 `rect` 的元素創建動畫，方法是將 `animation-name` 設為 `rainbow`，並將 `animation-duration` 設為 4 秒。接著，宣告一個 `@keyframes` 規則，並將動畫開始時 (`0%`) 的 `background-color` 設為藍色，動畫中間 (`50%`) 設為綠色，動畫結束時 (`100%`) 設為黃色。

# --hints--

id 為 `rect` 的元素應該有一個 `animation-name` 屬性，值為 `rainbow`。

```js
const rectElement = document.querySelector('#rect');
const rectStyle = window.getComputedStyle(rectElement);
assert.equal(rectStyle?.animationName, 'rainbow');
```

id 為 `rect` 的元素應該有一個 `animation-duration` 屬性，值為 4s。

```js
const rectElement = document.querySelector('#rect');
const rectStyle = window.getComputedStyle(rectElement);
assert.equal(rectStyle?.animationDuration, '4s');
```

`@keyframes` 規則應該使用 `rainbow` 的 `animation-name`。

```js
assert.match(code ,/@keyframes\s+?rainbow\s*?{/g);
```

`@keyframes` 規則中 `rainbow` 在 0% 時應使用 `background-color` 為 `blue`。

```js
assert.match(code,/0%\s*?{\s*?background-color:\s*?blue;\s*?}/gi);
```

`@keyframes` 規則中 `rainbow` 的 50% 應使用 `background-color` 為 `green`。

```js
assert.match(code,/50%\s*?{\s*?background-color:\s*?green;\s*?}/gi);
```

`@keyframes` 規則中 rainbow 應該在 100% 使用 `background-color` 為 `yellow`。

```js
assert.match(code,/100%\s*?{\s*?background-color:\s*?yellow;\s*?}/gi);
```

# --seed--

## --seed-contents--

```html
<style>
  div {
    height: 40px;
    width: 70%;
    background: black;
    margin: 50px auto;
    border-radius: 5px;
  }

  #rect {


  }




</style>
<div id="rect"></div>
```

# --solutions--

```html
<style>
  div {
    height: 40px;
    width: 70%;
    background: black;
    margin: 50px auto;
    border-radius: 5px;
  }

  #rect {
    animation-name: rainbow;
    animation-duration: 4s;
  }

  @keyframes rainbow {
    0% {
      background-color: blue;
    }
    50% {
      background-color: green;
    }
    100% {
      background-color: yellow;
    }
  }
</style>
<div id="rect"></div>
```
