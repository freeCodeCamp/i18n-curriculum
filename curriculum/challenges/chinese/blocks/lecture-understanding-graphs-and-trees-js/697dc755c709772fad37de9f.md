---
id: 697dc755c709772fad37de9f
title: 什么是树和字典树，它们如何工作？
challengeType: 19
dashedName: what-are-trees-and-tries-and-how-do-they-work
---

# --description--

树在计算机科学领域非常重要。

**树** 是一种特定类型的图。

要将一个图分类为树，它必须：

* 没有循环或周期（起点和终点节点相同的路径）。
    
* 连通（每个节点都可以从其他任意节点到达）。
    

树是非线性数据结构，用于以层次结构组织节点，其中节点可能有子节点、兄弟节点和父节点。

根节点是树的最顶端。它是树中唯一没有父节点的节点。你将从这个节点开始遍历整个数据结构，通常使用广度优先搜索（BFS）或深度优先搜索（DFS）等算法。

这是一个树的图形示例：

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-1.png" alt="A tree diagram showing a hierarchical structure with node A at the root, nodes B and C as children of A, and nodes D and E as children of C. Node B is a leaf node.">

由于节点以层次结构组织，它们之间存在关系。

**父节点** 是直接连接到其下方其他节点的节点。在图中，节点 A 是节点 B 和 C 的父节点。

**子节点** 是直接连接到其上方节点的节点。在图中，节点 D 和 E 是节点 C 的子节点。

节点 D 和 E 也被归类为 **叶子**。叶子是没有子节点的节点。你可以将它们视为树的“分支”的末端。

树节点也有重要属性：

* **深度**：从根节点到该节点的路径长度。例如，在图中，节点 D 的深度为 2，因为如果你从根节点开始，必须经过两条边才能到达它。
    
* **高度**：从该节点到叶子节点的路径长度。例如，节点 C 的高度为 1，因为它比叶子节点高一层。
    
* **度：** 每个节点拥有的子节点数量。在图中，节点 B 的度为 0，因为它是叶子节点，所以没有子节点。节点 C 的度为 2，因为它有两个子节点。
    

树也有一个**高度**。树的高度是其根节点的高度。

有许多不同类型的树，包括二叉树、二叉搜索树、AVL 树、红黑树和 B 树。

## 二叉树和二叉搜索树

这两个是最常用的两种树的类型。

**二叉树** 是一种树，其中每个节点最多可以有两个子节点，一个左子节点和一个右子节点。是的，这意味着你到目前为止看到的示例就是一个二叉树！

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-1.png" alt="The same binary tree example highlighting that it's a binary tree, with each node having at most two children.">

**二叉搜索树** 是二叉树的一个更具体的版本，具有非常特定的偏序属性。

要理解它，首先你需要理解子树。一个 **subtree** 是树的一个部分，它本身也是一棵树。

在我们的树示例中，节点 C、D 和 E 自成一棵树，因此它们被视为一个子树。

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-3.png" alt="A diagram highlighting a subtree within the main tree, showing nodes C, D, and E forming their own tree structure.">

二叉搜索树（BST）的排序属性规定，对于每个节点，其左子树中的所有值都小于该节点的值，右子树中的所有值都大于该节点的值。

左右子树本身也必须是二叉搜索树。

如果树是平衡的，这种排序使查找、插入和删除操作非常高效。

平衡树是一种树，其中任何节点的左子树和右子树的高度非常相近，以确保 `operation` 保持高效。

## 尝试

既然你已经了解了更多关于树和二叉搜索树的知识，现在让我们深入了解字典树。

**Tries** 是用于保存一组字串的树数据结构。

树也被称为**前缀树**，因为它们对于基于前缀查找字串的操作非常高效。

trie 中的每个节点代表字串的单个字符。

根节点不表现任何特定的字符，所以你可以将它视为表现一个空字串。

当你从根节点向下遍历 `trie` 时，节点的路径定义了一个特定的前缀。要查找一个单词，你需要沿着该前缀直到到达包含你要查找单词的节点。

表现完整单词的节点被赋值了单词结尾标记。

这是一个包含单词 "top"、"tea" 和 "ten" 的 trie 示例。

注意单词 "tea" 和 "ten" 共享相同的前缀 "te"，因此数据结构沿着相同的路径直到最后一个字符，该字符被标记为单词结束字符。在此图中，这通过节点周围的红色边框表现出来：

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-are-trees-and-tries-and-how-do-they-work-4.png" alt="A trie data structure showing the words 'top', 'tea', and 'ten'. The root node branches to 't', which then branches to 'o' (leading to 'top') and 'e' (leading to 'tea' and 'ten'). End-of-word nodes are marked with red borders.">

查找操作的最坏分支时间复杂度是 O(L)，其中 L 是你要查找的字串长度。

插入也是高效的。此操作仅需为字典树中尚不存在的字符创建新建节点。

这个数据结构的最大优点是，当多个字串共享相同的前缀时，它们的路径会重叠，因此前缀本身只保存一次。

这种效率使得 `tries` 非常适合实现诸如自动完成和拼写检查器之类的特色。

然而，`tries` 并不适用于所有字串集合。如果字串集合中有许多唯一字符，它们可能效率低下。这将需要将许多唯一字符存储为单独的节点。必须遍历这些节点来查找单词，这并不高效。

既然你已经熟悉了不同类型的树及其用途，你就可以开始在实际场景中使用它们。知道如何选择合适的树是在日常工作中应对挑战时一项宝贵的技能。

# --questions--

## --text--

以下关于二叉搜索树（BST）的语句中，哪一条总是正确的？

## --answers--

节点左子树中的所有值都小于该节点的值。

---

每个节点最多可以有三个子节点。

### --feedback--

考虑控制数字如何在二叉搜索树（`Binary Search Tree`）中组织以实现高效查找的具体规则。

---

每次插入后，树都保证是完全平衡的。

### --feedback--

考虑控制数字如何在二叉搜索树（`Binary Search Tree`）中组织以实现高效查找的具体规则。

---

它是一种为存储字串而优化的特化树状结构。

### --feedback--

考虑控制数字如何在二叉搜索树（`Binary Search Tree`）中组织以实现高效查找的具体规则。

## --video-solution--

1

## --text--

以下哪些任务最适合使用 `trie` 或前缀树？

## --answers--

在大型 `data` 中查找最小值。

### --feedback--

考虑一下 trie 结构的主要优势以及它是如何基于字符构建的。

---

管理计算机上的分层文件系统。

### --feedback--

考虑一下 trie 结构的主要优势以及它是如何基于字符构建的。

---

实现自动完成特色。

---

存储唯一数字的无序列表。

### --feedback--

考虑一下 trie 结构的主要优势以及它是如何基于字符构建的。

## --video-solution--

3

## --text--

通用的树和二叉树之间的根本区别是什么？

## --answers--

`Binary Tree` 只能保存数字，而通用的 `tree` 可以保存任何数据类型。

### --feedback--

考虑二叉树中每个节点可以拥有的连接数，与通用的树相比。

---

二叉树有一个根节点，但通用的树没有。

### --feedback--

考虑二叉树中每个节点可以拥有的连接数，与通用的树相比。

---

二叉树没有父子关系，不同于通用的树。

### --feedback--

考虑二叉树中每个节点可以拥有的连接数，与通用的树相比。

---

二叉树限制每个节点最多有两个子节点，而通用的树则没有此限制。

## --video-solution--

4
