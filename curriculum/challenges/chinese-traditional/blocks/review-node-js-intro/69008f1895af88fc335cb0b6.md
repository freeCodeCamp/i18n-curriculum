---
id: 69008f1895af88fc335cb0b6
title: NodeJs 介紹回顧
challengeType: 31
dashedName: review-node-js-intro
---

# --description--

## 客戶端 JavaScript

- **客戶端 JavaScript**：在網頁應用程式的客戶端執行的程式碼，通常是在網頁瀏覽器中。
- **客戶端 JavaScript 的限制**：雖然功能強大，客戶端 JavaScript 仍有某些限制：
  - 對區域的檔案的存取非常受限。
  - 不適合處理複雜的應用程式邏輯。
  - 潛在的安全疑慮（例如，暴露敏感資訊如資料庫憑證）。
- **限制原因**：這些限制存在是因為客戶端 JavaScript 最初設計為僅能在網頁瀏覽器中執行。

## 瀏覽器環境

- **JavaScript 引擎**：網頁瀏覽器提供執行 JavaScript 程式碼所需的環境，包括 JavaScript 引擎。
- **文件物件模型 (DOM)**：瀏覽器提供對 DOM 的存取，讓你能在程式碼中存取 HTML 元素。
- **歷史背景關係**：過去，JavaScript 無法在瀏覽器外執行，但現在可以透過 Node.js 執行。

## 什麼是 Node.js？

- **Node.js**：一個 JavaScript 執行期環境。官方定義為「一個開放原始碼且跨平台的 JavaScript 執行期環境」。
- **開放原始碼**：Node.js 程式碼是公開可用的，並由大量開發者社群維護。
- **跨平台**：可在任何作業系統上運作，包括 Windows、macOS 和 Linux。
- **JavaScript 執行期環境**：允許你在瀏覽器外執行 JavaScript 程式碼。

## Node.js 使用案例

- **常見應用**：Node.js 被廣泛應用於多種產業：
  - 建置控制代碼 HTTP 請求的網頁伺服器和 API。
  - 開發網頁和行動應用程式。
  - 處理複雜的資料和資料庫互動。
- **產業採用**：如果你正在使用或開發一個與資料庫交談或控制複雜資料的網站或網頁應用程式，那麼你很可能會在幕後使用 Node.js。
- **主要特性**：Node.js 是高效、可擴充，並且擁有全球大量的開發者和維護者社群。

## 瀏覽器與 Node 執行期環境

- **瀏覽器環境**：主要為前端網頁開發設計，執行客戶端 JavaScript。
- **Node 執行期環境**：主要設計用於後端網頁開發，執行伺服端 JavaScript。
- **API 差異**：環境決定可用的 API：
  - **瀏覽器**：存取 DOM API，但對存取區域的檔案系統有侷限。
  - **Node**：存取幾乎所有系統資源，包括檔案系統，但不包含 DOM。

## 全域物件

- **瀏覽器全域物件（`window`）**：提供存取瀏覽器相關功能：
  - 操作 DOM 的方法。
  - 管理 cookies。
  - 處理瀏覽器事件。

- **Node.js 全域物件 (`global`)**：提供存取 Node.js 特定功能的能力：
  - 用於處理區域的檔案的內建模組。
  - 網路功能。
  - 與作業系統互動。

## 版本控制

- **瀏覽器版本**：你無法控制使用者用來造訪你網站的瀏覽器環境版本。
- **Node.js 版本**：你可以選擇想要在你的伺服器中使用的 Node.js 版本。

## Node.js 的重要性

- **全端開發**：Node.js 透過讓開發者使用 JavaScript 來建置全端應用程式的前端和後端，改變了網頁開發。
- **效率**：開發處理程序更高效，因為開發者不需要為了開發後端而學習新的程式語言。
- **影響**：Node.js 是一個強大、可擴充且多功能的工具，已成為全球開發者非常重要的資源。

## Node.js 的優勢

- **全端單一語言**：你可以使用 JavaScript 實作網頁應用程式的前端和後端。
  - 降低初期學習曲線。
  - 無需在程式語言之間切換。
  - 提升效率和生產力。

- **非阻塞、事件驅動架構**：非常適合開發即時應用程式，在這些應用程式中，回應速度和效率對於打造良好的使用者體驗至關重要。

- **單一執行緒與事件迴圈**：能有效控制大量同時的請求與輸入輸出操作行為。
  - 非常適合需要同時處理多個請求的應用程式。

- **大型社群**：全球數千名開發者不斷維護 `Node.js` 並為其添加新特性。
  - 有許多學習資源可用。
  - 輕鬆找到問題的答案。

- **npm (Node Package Manager)**：一個強大的工具，讓你能為你的專案安裝和管理軟體包與模組。
  - 提供多種用途的軟體包：處理 HTTP 請求、操作資料庫、格式化日期和時間、測試程式碼等。
  - 重複使用其他開發者撰寫、測試並分享的程式碼。
  - 使工作流程更快速且高效。

- **具成本效益**：Node.js 是免費且開放原始碼的。
  - 軟體包、函式庫和相關工具也主要是免費的。
  - 優化預算時的重要因素。

## Node.js 的缺點

- **單執行緒限制**：一次只能執行一個執行緒，表示它一次只能處理一個操作。
  - 雖然架構允許高效處理並行（同時）請求，但 CPU 密集型任務可能會阻塞主執行緒並導致效率問題。
  - CPU 密集型任務範例：複雜的數學運算、影像和影片處理程序、密碼學。
  - 有方法可以克服這個問題，但通常會增加應用程式的複雜度。

- **非同步程式設計**：Node.js 依賴非同步程式設計。
  - 一個可能需要很長時間才能執行的任務被啟動，但主程式不會等待它完成，而是在非同步任務平行執行時繼續執行。
  - 當任務完成時，程式控制代碼結果。
  - 通常涉及「回呼」，這些是定義非同步操作完成後會發生什麼的函式（程式）。
  - 可能會使程式碼更難閱讀、理解和偵錯。

- **軟體包品質問題**：當從 npm 選擇軟體包時，有些可能不會持續維護，並可能為你的應用程式引入漏洞。
  - 開發者應該仔細評估每個軟體包。
  - 檢查軟體包是否遵循品質和安全最佳實踐。

## 執行緒、緒程

- **執行緒**：處理程序中的執行路徑，就像目前正在執行的程式。

## NVM（Node 版本管理器）

- **NVM**：一個用於在同一台電腦上管理多個 Node.js 版本的工具。
- **目的**：幫助你輕鬆在不同專案中切換不同版本的 Node.js。
- **建議**：建議在安裝 Node.js 之前先安裝 NVM，以便未來具有彈性。

## 在 macOS/Linux 上安裝 NVM

- **Xcode Command Line Tools (macOS)**：必須在 macOS 上執行 NVM 安裝腳本之前手動安裝。

```bash
xcode-select --install
```

- **驗證 Xcode 安裝**：

```bash
xcode-select --version
```

- **下載並執行 NVM 安裝腳本**：執行以下其中一個指令：

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
```

```bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
```

- **終端機重新啟動**：當處理程序完成後，你可能需要重新啟動你的終端機以載入新的指令和設定。

- **驗證 NVM 安裝**：

```bash
nvm -v
```

## 在 macOS/Linux 上使用 NVM 安裝 Node.js

- **安裝最新 LTS 版本**：要安裝最新的長期支援（LTS）版本的 Node.js：

```bash
nvm install --lts
```

- **LTS (長期支援)**：此版本通常被建議使用，因為它優先考量穩定性、可靠性和安全性，而非新的或實驗性的特性。
  - 經過徹底測試並準備好投入生產。
  - 保證有較長的支援期間，重點在於錯誤修正和安全性修補。

- **安裝特定版本**：你可以透過指定版本號來安裝特定版本的 Node.js：

```bash
nvm install <version>
```

範例：

```bash
nvm install 20
```

- **切換到版本**：

```bash
nvm use <version>
```

範例：

```bash
nvm use 20
```

- **檢查目前的 Node.js 版本**：

```bash
node -v
```

## 在 Windows 上安裝 NVM

- **官方 NVM 支援**：官方版本的 NVM 僅在特定情況下支援 Windows。
  - 如果你有 Windows Subsystem for Linux (WSL)，你可以遵循上述 macOS/Linux 指南。

- **nvm-windows**：一個用於 Windows 的 Node.js 版本管理工具。
  - 將專案與官方的 `NVM` 專案完全分離。
  - 相同目的：幫助你在同一裝置上管理多個版本的 Node.js。

- **安裝前**：建議在安裝 NVM for Windows 之前，先卸載任何先前的 Node 安裝。

- **安裝步驟**：
  - 前往官方儲存庫的 Releases 區段：`https://github.com/coreybutler/nvm-windows/releases`。
  - 下載最新的安裝程式。
  - 遵循指示。

- **終端機重新啟動**：如果 `nvm` 指令無法立即使用，你可能需要重新啟動你的終端機。

- **驗證安裝**：

```powershell
nvm -v
```

## 使用 NVM 為 Windows 安裝 Node.js

- **安裝最新 LTS 版本**：

```powershell
nvm install lts
```

- **安裝特定版本**：

```powershell
nvm install <version>
```

範例：

```powershell
nvm install 20
```

- **切換到版本**：

```powershell
nvm use <version>
```

範例：

```powershell
nvm use 20
```

- **檢查目前的 Node.js 版本**：

```bash
node -v
```

## 基本的 NVM 和 Node.js 指令

- **指令說明**：所有指令皆適用於安裝在 macOS／Linux（包含 WSL）上的 NVM。對於 `nvm-windows`，指令可能會有不同的執行方式或完全無法使用。若有可能，會提供 `nvm-windows` 的替代指令。

### PowerShell 執行政策（Windows）

- **預設執行原則**：PowerShell 的預設執行原則是 `Restricted`，作為安全措施防止腳本執行。

- **以系統管理員身份執行 PowerShell**：右鍵點擊 PowerShell，然後點擊「以系統管理員身份執行」。

- **檢查目前執行原則**：

```powershell
Get-ExecutionPolicy
```

- **將執行原則設定為 RemoteSigned**：允許區域的腳本和 `npm` 執行：

```powershell
Set-ExecutionPolicy RemoteSigned
```

- **設定政策後**：關閉 PowerShell 的管理員視窗，並開啟非管理員 PowerShell 視窗。

### 列出所有已安裝版本

- **列出已安裝版本**：列出所有已安裝的 Node.js 版本並檢查目前正在使用的版本：

```bash
nvm ls
```

### 設定預設的 Node.js 版本（僅限 macOS/Linux 上的 NVM）

- **設定預設版本**：設定新終端機工作階段的 Node.js 預設版本：

```bash
nvm alias default <version>
```

範例：

```bash
nvm alias default 22.20.0
```

- **創建訂製別名**：為版本指定更具體的名稱：

```bash
nvm alias <new_name> <version>
```

範例：

```bash
nvm alias new-api 18.20.8
```

- **使用訂製別名**：

```bash
nvm use <new_name>
```

範例：

```bash
nvm use new-api
```

### 移除 Node.js 的版本

- **解除安裝版本**：

```bash
nvm uninstall <version>
```

範例：

```bash
nvm uninstall 20.19.5
```

- **依主要版本移除（macOS/Linux 上的 NVM）**：你可以透過執行 `uninstall` 指令並帶入像是 `22` 或 `20` 的主要版本來移除版本：

```bash
nvm uninstall 20
```

如果你安裝了該主要版本的多個發行版本，例如 `20.14.0` 和 `20.12.2`，將會先移除最新版本。執行 `nvm uninstall 20` 將會先移除 `20.14.0`。

### 檢查 Node.js 版本

- **檢查目前版本**：

```bash
node -v
```

### 檢查 npm 版本

- **npm**：Node.js 的套件管理工具，用於安裝、發佈和管理軟體套件。安裝 Node.js 時會自動安裝。

- **檢查 npm 版本**：

```bash
npm -v
```

### 執行 JavaScript 檔案

- **執行 JavaScript 檔案**：在目前作用中的 Node.js 執行期中執行該 JavaScript 檔案：

```bash
node <file.js>
```

範例：

```bash
node app.js
```

### 創建 Node.js 專案

- **初始化專案**：透過創建一個 `package.json` 檔案來創建新的 Node.js 專案，該檔案會追蹤其詳細資訊和相依性：

```bash
npm init
```

- **互動式設定**：`npm init` 指令會引導你透過互動式 CLI 指南來設定 `package.json` 檔案。
  - 詢問專案名稱、描述、版本等問題。

- **預設設定**：要從預設的 `package.json` 檔案開始：

```bash
npm init -y
```

或

```bash
npm init --yes
```

### 安裝軟體包

- **安裝特定軟體包**：

```bash
npm install <package>
```

範例：

```bash
npm install express
```

### 安裝所有相依套件

- **安裝相依性**：為你的專案中 `package.json` 檔案列出的所有相依性安裝：

```bash
npm install
```

# --assignment--
   
檢視 Node JS 入門主題和概念。
