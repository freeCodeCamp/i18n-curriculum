---
id: 6733dd694f91d61a5272b4ac
title: '¿Qué es el objeto Map y en qué se diferencia de WeakMaps?'
challengeType: 19
dashedName: what-is-the-map-object-and-how-does-it-differ-from-weakmaps
---

# --description--

En JavaScript, un `Map` es un objeto incorporado que almacena pares clave-valor, similar a un objeto. Sin embargo, difiere de los objetos estándar de JavaScript permitiendo claves de cualquier tipo, incluidas objetos y funciones.

Un `WeakMap` es una colección de pares clave-valor, similar a un `Map`, pero utiliza referencias débiles para sus claves. Las claves deben ser objetos, mientras que los valores pueden ser de cualquier tipo.

Piense en la relación entre un `WeakMap` y un `Map` como similar a la relación entre un `WeakSet` y un `Set`, como aprendió en la lección anterior.

Para crear un `Map`, se utiliza el constructor `Map()` precedido de la palabra clave `new`:

```js
const myFirstMap = new Map();
```

Puede inicializar el Map con valores:

```js
const myTreesMap = new Map([
 [{ type: 'deciduous' }, 'Maple tree'],
 [['forest', 'grove'], 'Pine tree'],
 [42, 'Oak tree'],
 [true, 'Birch tree'],
 [function() { return 'I am a function key'; }, 'Willow tree'],
]);
```

Si no inicializó el `Map` con valores, puede usar el método `set()` para agregarlos:

```js
const myTreesMap = new Map();
myTreesMap.set({ type: 'deciduous' }, 'Maple tree');
myTreesMap.set([1, 2], 'Pine tree');
myTreesMap.set(42, 'Oak tree');
myTreesMap.set(true, 'Birch tree');
myTreesMap.set(function() { return "I'm a function key"; }, 'Willow tree');

console.log(myTreesMap);
```

Así es como se ve un `Map` en la consola:

```js
/*
Map(5) {{…} => 'Maple tree', Array(2) => 'Pine tree', 42 => 'Oak tree', true => 'Birch tree', ƒ => 'Willow tree'}
  [[Entries]]
    0:{Object => "Maple tree"}
      key: {type: 'deciduous'}
      value: "Maple tree"
    1:{Array(2) => "Pine tree"}
      key: (2)
      value: "Pine tree"
    2:{42 => "Oak tree"}
      key: 42
      value: "Oak tree"
    3:{true => "Birch tree"}
      key: true
      value: "Birch tree"
    4:{function () { return "I'm a function key"; } => "Willow tree"}
      key: f ()
      value: "Willow tree"
    size: 5
    [[Prototype]]: Map
*/
```

Otros métodos que puede utilizar para trabajar con un `Map` son:

- `get(key)` para recuperar el valor asociado con la `clave` especificada.
- `has(key)` para verificar si una `clave` existe en el `Map`.
- `delete(key)` para eliminar un par clave-valor del `Map`.
- `clear()` para eliminar todos los pares clave-valor.
- `entries()` para verificar las entradas del `Map` (devuelve las entradas en un `MapIterator`).
- `forEach()` para recorrer las entradas del `Map`.
- `size` para indicar el número de pares clave-valor en el `Map`.


Existe un constructor `WeakMap()` que puede utilizar para crear un `WeakMap`:

```js
const myFirstWeakMap = new WeakMap();
```

Los métodos `set()`, `get()`, `has()` y `delete()` también están disponibles para su uso con un `WeakMap`. Por ejemplo, así es como puede asignar elementos al `Map` con el método `set()`:

```js
const myTreeWeakMap = new WeakMap();

myTreeWeakMap.set({ id: 1 }, 'Maple tree');
myTreeWeakMap.set({ id: 2 }, 'Pine tree');
myTreeWeakMap.set({ id: 3 }, 'Oak tree');
myTreeWeakMap.set({ id: 4 }, 'Birch tree');
myTreeWeakMap.set({ id: 5 }, 'Willow tree');

console.log(myTreeWeakMap);
```

Así es como se ve un `WeakMap` en la consola:

```js
/*
WeakMap {{…} => 'Willow tree', {…} => 'Maple tree', {…} => 'Pine tree', {…} => 'Oak tree'}
  [[Entries]]
    No properties
  [[Prototype]]: WeakMap
*/
```

Aquí están las diferencias entre un `Map` y un `WeakMap`:

| **Característica**      | **Mapa**                                                                                                  | **WeakMap**                                                      |
| ----------------------- | --------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| **Tipo de Clave**       | Las claves pueden ser de cualquier tipo de dato, incluidas cadenas, números, objetos o incluso funciones. | Las claves deben ser objetos.                                    |
| **Caso de Uso**         | Use un `Map` cuando necesite asociar datos con cualquier tipo de clave.                                   | Use un `WeakMap` cuando solo necesite asociar datos con objetos. |
| **Iteración**           | Puede recorrer un `Map` usando `forEach()`, `keys()`, `values()` o `entries()`.                           | Un `WeakMap` no es iterable.                                     |
| **Propiedad de Tamaño** | `Map` tiene una propiedad `size` para obtener el número de pares clave-valor.                             | `WeakMap` no tiene una propiedad `size`.                         |

En la tabla anterior, puede ver las diferencias resumidas, incluidas el tipo de clave, caso de uso, iteración y propiedad de tamaño. Por favor, tómese un momento para leer el contenido de esta tabla para aprender más sobre sus diferencias.

# --questions--

## --text--

¿Cuál de estas diferencia un `Map` de un `WeakMap` en JavaScript?

## --answers--

Un `Map` permite solo objetos como claves, mientras que un `WeakMap` permite claves de cualquier tipo.

### --feedback--

Piense en los tipos de claves permitidos y en cómo se manejan las referencias.

---

Un `Map` tiene referencias débiles a las claves, mientras que un `WeakMap` no las tiene.

### --feedback--

Piense en los tipos de claves permitidos y en cómo se manejan las referencias.

---

Un `Map` permite claves de cualquier tipo, mientras que un `WeakMap` solo permite objetos como claves.

---

Un `Map` y un `WeakMap` funcionan exactamente igual.

### --feedback--

Think about the key types allowed and how the references are handled.

## --video-solution--

3

## --text--

¿Qué propiedad le permite conocer el número de elementos en un `Map`?

## --answers--

`length`

### --feedback--

Piense en la propiedad que mide el número de entradas en un `Map`.

---

`count`

### --feedback--

Piense en la propiedad que mide el número de entradas en un `Map`.

---

`total`

### --feedback--

Piense en la propiedad que mide el número de entradas en un `Map`.

---

`size`

## --video-solution--

4

## --text--

¿Qué método le permite agregar un elemento a un `Map` y un `WeakMap`?

## --answers--

`add()`

### --feedback--

Piense en el método específico para agregar pares clave-valor a un `Map`.

---

`push()`

### --feedback--

Piense en el método específico para agregar pares clave-valor a un `Map`.

---

`set()`

---

`insert()`

### --feedback--

Think about the method specifically used for adding key-value pairs to a `Map`.

## --video-solution--

3
