---
id: 673368ccf52205329b729378
title: innerText、textContent 和 innerHTML 之间有什么区别？
challengeType: 19
dashedName: what-is-the-difference-between-innertext-textcontent-and-innerhtml
---

# --interactive--

让我们了解 `innerText`、`textContent` 和 `innerHTML`。

这些是你可以在 JavaScript 中访问的属性，用于获取或更改 HTML 元素的内容。即使它们乍看起来非常相似，但确实存在关键区别。选择合适的属性取决于你的具体用例，所以让我们深入了解一下。

让我们从 `innerText` 开始。

`innerText` 表现 HTML 元素及其子元素的可见文本内容。此属性不包括隐藏文本或 HTML 标签，仅包含渲染的文本。 

例如，这里你可以看到一个包含两个段落的 `div` 元素：

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
```

如果我们在 JavaScript 代码中使用 `getElementById()` 获取对该超文本标记语言元素的引用，就可以访问该元素的 `innerText` 属性：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.innerText);
```

:::

这是该元素的内部文本：

```md
Hello, World!
I'm learning JavaScript
```

该属性返回一个包含元素内文本的字串，包括其子孙元素的文本。

你应该知道 `innerText` 只会返回在请求字串时刻可见的文本。如果子元素被隐藏，其文本将不可见。

这是一个示例，其中第二段被隐藏：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
```

:::

如果我们再次尝试记录 `innerText`，现在输出将不包含第二个段落的文本：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.innerText);
```

:::

你可以这样设置 HTML 元素的 `innerText`，但这会替换现有的文本，并且为每个换行添加一个换行元素（`br`）元素：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.innerText = "JavaScript is awesome!";
```

:::

由于 `innerText` 会考虑可见性，获取其值会触发一个称为 "reflow" 的进程，该进程会重新计算网站上某些元素的位置。此进程可能计算量很大，因此如果可能，应该避免触发它。

很好。现在让我们谈谈 `textContent`。 

`textContent` 返回一个元素的纯文本内容，包括其所有子孙中的文本。

`innerText` 和 `textContent` 之间最重要的区别是，`textContent` 始终返回一个超文本标记语言元素及其子元素的完整文本内容，无论其是可见还是隐藏。

这里我们有相同的例子在超文本标记语言中：

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
```

如果你尝试访问此属性，你将看到元素及其子元素的文本作为输出，保持缩排和间距：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.textContent);
```

:::

如果一个超文本标记语言元素不可见，就像你在这里看到的，我们隐藏了第二个段落，它的文本仍然会包含在这个属性中：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
console.log(container.textContent);
```

:::
  
`textContent` 也将包含像 `script` 和 `style` 这样的元素的内容。

如果你尝试替换节点上的 `textContent` 的值，它将删除所有子节点，并用包含新字串的单个文本节点替换它们：

:::interactive_editor

```html
<div id="container">
  <p>Hello, World!</p>
  <p hidden>I'm learning JavaScript</p>
</div>
<script src="index.js"></script>
```

```js
const container = document.getElementById("container");
container.textContent = "New content";
```

:::

最后，让我们谈谈 `textContent` 和 `innerText` 与 `innerHTML` 的区别。

请记住，使用 `innerHTML` 你可以设置元素的内部 HTML 内容。这对于动态地向 DOM 注入新 HTML 很有帮助。

但是，请记住，如果你无法控制该字串，例如包含用户输入数据的字串，这会带来安全性风险。如果这些数据是恶意的，可能导致严重的安全性问题。

为避免这种情况，建议使用 `textContent` 属性来插入纯文本。

JavaScript 中的 `innerText`、`textContent` 和 `innerHTML` 属性提供了不同的方式来访问和操作超文本标记语言元素的内容。如果你想有效地在 JavaScript 中处理超文本标记语言内容，你应该了解这些属性之间的区别。

# --questions--

## --text--

以下哪个属性返回超文本标记语言元素的可见文本内容，不包括任何隐藏文本或隐藏元素内的文本？

## --answers--

`innerHTML`

### --feedback--

考虑这些属性如何处理隐藏内容。

---

`textContent`

### --feedback--

考虑这些属性如何处理隐藏内容。

---

`innerText`

---

以上全部。

### --feedback--

考虑这些属性如何处理隐藏内容。

## --video-solution--

3

## --text--

以下哪个属性可用于动态注入新的 HTML 内容到一个元素中？

## --answers--

`innerHTML`

---

`textContent`

### --feedback--

考虑哪个属性允许你修改元素的超文本标记语言结构。

---

`innerText`

### --feedback--

考虑哪个属性允许你修改元素的超文本标记语言结构。

---

以上都不是。

### --feedback--

考虑哪个属性允许你修改元素的超文本标记语言结构。

## --video-solution--

1

## --text--

以下哪个属性返回一个元素的纯文本内容，包括所有子元素内的文本，无论其是可见还是隐藏？

## --answers--

`innerHTML`

### --feedback--

考虑这些属性如何处理隐藏内容。

---

`textContent`

---

`innerText`

### --feedback--

考虑这些属性如何处理隐藏内容。

---

以上全部。

### --feedback--

考虑这些属性如何处理隐藏内容。

## --video-solution--

2
