---
id: 672cf3ca326da9f63683e236
title: ¿Qué es la regla @property y cómo funciona con fallbacks?
challengeType: 19
dashedName: what-is-the-at-property-rule
---

# --interactive--

La regla `@property` es una característica poderosa de CSS que permite a los desarrolladores definir propiedades personalizadas con un mayor control sobre su comportamiento, incluida su animación y sus valores iniciales. 

Esta regla proporciona una forma de mejorar la funcionalidad de las propiedades CSS personalizadas y ofrece más flexibilidad en su aplicación.

La sintaxis básica de la regla `@property` es la siguiente:

```css
@property --property-name {
  syntax: '<type>';
  inherits: true | false;
  initial-value: <value>;
}
```

El `--property-name` es el nombre de la propiedad personalizada que estás definiendo. Como todas las propiedades personalizadas, debe comenzar con dos guiones. `--property-name` puede ser cosas como `<color>`, `<length>`, `<number>`, `<percentage>`, o tipos más complejos.

`syntax` define el tipo de la propiedad. 

`inherits` especifica si la propiedad debe heredar su valor del elemento padre. 

`initial-value` establece el valor por defecto de la propiedad.

Aquí hay un ejemplo práctico de uso de la regla `@property`:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
@property --main-color {
  syntax: '<color>';
  inherits: false;
  initial-value: #3498db;
}

.button {
  background-color: var(--main-color);
}
```

:::

En este ejemplo, estamos definiendo una propiedad personalizada `--color-principal` como un valor de `color`, estableciéndola para no heredar y dándole un valor inicial de `#3498db`.

Uno de los beneficios clave de la regla `@property` es que permite la animación de propiedades personalizadas, lo cual no era posible antes:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="gradient-box"></div>
```

```css
@property --gradient-angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

.gradient-box {
  width: 100px;
  height: 100px;
  background: linear-gradient(var(--gradient-angle), red, blue);
  transition: --gradient-angle 0.5s;
}

.gradient-box:hover {
  --gradient-angle: 90deg;
}
```

:::

El código anterior crea un degradado que se anima suavemente cuando se pasa el ratón sobre el elemento, algo que no era alcanzable con las propiedades personalizadas estándar.

Ahora, discutamos cómo funciona la regla `@property` con los reemplazos. 

Los reemplazos son cruciales en CSS para asegurar que los estilos se degraden de forma elegante en navegadores que no admiten ciertas funciones. Con `@property`, los reemplazos funcionan en dos niveles: para la regla en sí misma y para el uso de la propiedad personalizada.

Para los navegadores que no admiten la regla `@property`, se puede proporcionar un reemplazo declarando la propiedad personalizada de manera tradicional:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
```

```css
:root {
  --main-color: #3498db;
}

@property --main-color {
  syntax: '<color>';
  inherits: false;
  initial-value: #3498db;
}

body {
  background-color: var(--main-color);
}
```

:::

En este caso, los navegadores que admiten `@property` utilizarán la versión más estrictamente definida, mientras que otros recurrirán a la declaración estándar de la propiedad personalizada.

Al utilizar la propiedad personalizada, se puede proporcionar un valor de reemplazo usando la función `var()`, al igual que con las propiedades personalizadas estándar:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<button class="button">Click Me</button>
```

```css
.button {
  background-color: var(--main-color, #3498db);
}
```

:::

Esto asegura que, incluso si la propiedad `--color-principal` no está definida o es inválida, el botón aún tendrá un color de fondo.

La regla `@property` también permite escenarios de reemplazo más complejos. Por ejemplo, se puede usar para proporcionar reemplazos seguros para tipos:

:::interactive_editor

```html
<link rel="stylesheet" href="styles.css">
<div class="box">Colored box</div>
```

```css
@property --padding {
  syntax: '<length>';
  inherits: false;
  initial-value: 10px;
}

.box {
  width: 100px;
  height: 100px;
  background-color: darkred;
  color: white;
  padding: var(--padding);
}
```

:::

En este caso, si alguien intenta establecer `--padding` con un valor inválido, como un color, el navegador recaerá al valor inicial de `10px`, manteniendo la seguridad de tipos.

Es importante notar que la regla `@property` no es aún universalmente soportada. A mediados de 2023, es soportada en Chrome, Edge y Opera, con soporte en Firefox detrás de una bandera. Para un soporte de navegador más amplio, es importante proporcionar reemplazos y usar la detección de características.

En conclusión, la regla `@property` representa un avance significativo en cómo trabajamos con propiedades personalizadas en CSS. Proporciona más control y habilita nuevas posibilidades como la animación de propiedades personalizadas. Sin embargo, es importante usarla juiciosamente y siempre proporcionar reemplazos apropiados para asegurar una buena experiencia en todos los navegadores. Como con cualquier tecnología web de vanguardia, la clave es mejorar la experiencia para los navegadores que la admiten, asegurando al mismo tiempo la funcionalidad básica para aquellos que no lo hacen.

# --questions--

## --text--

¿Cuál es el propósito principal de la regla `@property` en CSS?

## --answers--

Crear nuevas propiedades CSS.

### --feedback--

Piense en cómo `@property` se relaciona con las propiedades CSS personalizadas.

---

Definir y controlar el comportamiento de las propiedades personalizadas.

---

Reemplazar las propiedades CSS estándar.

### --feedback--

Piense en cómo `@property` se relaciona con las propiedades CSS personalizadas.

---

Crear animaciones.

### --feedback--

Piense en cómo `@property` se relaciona con las propiedades CSS personalizadas.

## --video-solution--

2

## --text--

¿Cuál de los siguientes NO es un descriptor válido en la regla `@property`?

## --answers--

`syntax`

### --feedback--

Considere la estructura básica de una declaración de regla `@property`.

---

`inherits`

### --feedback--

Considere la estructura básica de una declaración de regla `@property`.

---

`initial-value`

### --feedback--

Considere la estructura básica de una declaración de regla `@property`.

---

`animation`

## --video-solution--

4

## --text--

¿Cómo se puede proporcionar un reemplazo para los navegadores que no admiten la regla `@property`?

## --answers--

Usar un polyfill.

### --feedback--

Piense en cómo declararía típicamente una propiedad personalizada sin `@property`.

---

Declarar la propiedad personalizada usando el método estándar.

---

Usar la regla `@supports`.

### --feedback--

Piense en cómo declararía típicamente una propiedad personalizada sin `@property`.

---

No es posible proporcionar un reemplazo.

### --feedback--

Piense en cómo declararía típicamente una propiedad personalizada sin `@property`.

## --video-solution--

2
