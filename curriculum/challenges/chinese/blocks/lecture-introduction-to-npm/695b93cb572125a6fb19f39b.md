---
id: 695b93cb572125a6fb19f39b
title: 什么是语义化版本控制？
challengeType: 19
dashedName: what-is-semantic-versioning
---

# --description--

语义化版本控制，或称 SemVer，是一种为版本号赋予明确含义的系统，使开发者能够快速理解对软件所做的更改类型。

SemVer 使用此格式：

```bash
MAJOR.MINOR.PATCH
```

例如，流行的库 `lodash` 当前版本为 `4.17.21`。

以下是每个部分的含义：

* 重大更新——破坏现有代码的大幅更改。例如：删除或重命名现有代码可能依赖的函数。
    
* MINOR — 不会破坏现有代码的新建特色。例如：添加新建函数或可选的参数。
    
* 补丁 — 小的修复和改进。例如：修复一个错误或拼写错误，而不改变任何功能的工作方式。
    

<img src="https://cdn.freecodecamp.org/curriculum/lecture-transcripts/what-is-semantic-versioning-1.png" alt="In the version number 4.17.21, 4 is the Major Version, it's changed for breaking changes, the 17 is the minor version, it's changed for non-breaking changes, and the 21 is the patch, it's changed for bug fixes and small features">

假设你有一个名为 `my-package` 的包。以下是其版本号如何随着时间使用语义版本控制发生变化的示例：

| Version | What Changed |
| --- | --- |
| 1.0.0 | Initial stable release |
| 1.1.0 | New optional feature |
| 1.1.1 | Small bug fix or feature |
| 2.0.0 | Breaking changes introduced |

但是 npm 中的版本号还有更多内容。当你安装一个包时，你的 `package.json` 文件中的版本可能看起来像这样：

```json
"lodash": "^4.17.21" 
```

你已经知道 `4` 是主版本，`17` 是次版本，`21` 是补丁版本。但前面的脱字符（`^`）是什么意思？

脱字符号允许 npm 自动安装较新的次要版本和补丁版本（`4.x.x`），但不包括较新的主版本（`5.x.x`），因为主版本更新可能包含破坏性更改。

当主版本为 `0` 时，插入符号变得更严格。例如，`^0.2.3` 允许更新到 `0.2.4`，但不允许更新到 `0.3.0`，因为以 `0` 开头的主版本被视为不太稳定。

脱字符不是 `npm` 和其他 JavaScript 包管理器用于管理依赖版本的唯一符号。

有波浪符号（`~`），它只允许更新补丁版本。所以，`~1.2.3` 会接受 `1.2.4` 和 `1.2.9`，但绝不会接受 `1.3.0`。

你也可以使用大于（`>`）、小于（`<`）及其“或相等”等价物来接受某个范围内的版本。例如，`>=1.2.3 <2.0.0` 表示从 `1.2.3` 到但不包括 `2.0.0` 的任何版本。

星号符号（`*`）匹配任何版本，因此它接受所有内容。这仅适用于测试，不建议用于生产环境。

最后，你可以通过不在版本号前加任何符号来锁定一个确切的版本。例如，版本 `1.2.3` 只接受 `1.2.3`。

这是一个快速摘要表格：

| Symbol | Meaning | Example Range |
| --- | --- | --- |
| `^` | Allow minor + patch updates | `^1.2.3` → `1.x.x` |
| `~` | Allow patch updates only | `~1.2.3` → `1.2.x` |
| `>`, `<`, `>=`, `<=` | Custom range | `>=1.2.3` or `<2.0.0` |
| **\*** | Any version | all versions |
| none | Exact version | `1.2.3` |

# --questions--

## --text--

语义版本控制中的主版本号表示什么？

## --answers--

对现有代码无破坏的轻微改进或添加的特色。

### --feedback--

考虑当你重命名或移除已在你的项目中使用的函数时会发生什么。

---

不影响功能性的错误修复。

### --feedback--

考虑当你重命名或移除已在你的项目中使用的函数时会发生什么。

---

可能导致现有代码停止工作的重大更改。

---

仅限文档或评论的更新。

### --feedback--

考虑当你重命名或移除已在你的项目中使用的函数时会发生什么。

## --video-solution--

3

## --text--

如果版本号是 `5.18.4`，哪一部分表现补丁版本？

## --answers--

`4`

---

`18`

### --feedback--

考虑 `MAJOR.MINOR.PATCH` 顺序。

---

`5`

### --feedback--

考虑 `MAJOR.MINOR.PATCH` 顺序。

---

全部

### --feedback--

考虑 `MAJOR.MINOR.PATCH` 顺序。

## --video-solution--

1

## --text--

语义版本控制中波浪号（`~`）符号是什么意思？

## --answers--

它允许更新次要版本和主要版本。

### --feedback--

考虑使用 `~1.2.3` 时版本号的哪一部分可以更改。

---

它只允许更新主版本。

### --feedback--

考虑使用 `~1.2.3` 时版本号的哪一部分可以更改。

---

它将依赖锁定到特定版本。

### --feedback--

考虑使用 `~1.2.3` 时版本号的哪一部分可以更改。

---

它只允许更新补丁版本。

## --video-solution--

4
